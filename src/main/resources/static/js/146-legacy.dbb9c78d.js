"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[146],{20146:function(t,e,a){a.r(e),a.d(e,{default:function(){return C}});var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mypage-container"},[t.mobileView?i("div",{staticClass:"top-menu-bar"},[i("div",{staticClass:"top-menu-bar-content"},[i("div",{staticClass:"back-button",on:{click:function(e){return t.$router.go(-1)}}},[i("i",{staticClass:"fas fa-chevron-left"})]),i("span",{staticClass:"m-title"},[t._v("문제/자료 관리")])])]):t._e(),i("div",{class:"contents "+t.mobileClass},[i("div",{staticClass:"from-box"},[t.mobileView?t._e():i("div",{staticClass:"sTitle"},[i("span",{staticClass:"line"},[t._v("문제/자료관리")]),i("span",{staticClass:"question-box"},[i("font-awesome-icon",{attrs:{icon:"fa-solid fa-question"}}),t._m(0)],1)]),i("div",{staticClass:"title-desc"},[t._v(" 수업에 필요한 자료를 저장하고 확인할 수 있습니다.")]),i("div",{staticClass:"question-answer-box"},[i("v-expand-transition",[t.guideShow?i("div",{attrs:{id:"guide-description"}},[i("div",{staticClass:"img"},[i("img",{staticStyle:{"max-width":"100%"},attrs:{src:a(56460)}})])]):t._e()]),i("div",{staticClass:"quide-title-box",on:{click:function(e){return t.guideToggle()}}},[i("div",{class:"quide-title "+t.guideClass},[t._v(t._s(t.guideTitle))]),i("div",{staticClass:"guide-icon-box"},[i("div",{staticClass:"guide-icon"},[t.guideShow?i("font-awesome-icon",{attrs:{icon:"fas fa-angle-up"}}):i("font-awesome-icon",{attrs:{icon:"fas fa-angle-down"}})],1)])])],1),i("ul",{staticClass:"category-box"},t._l(t.categoryList,(function(e){return i("li",{class:t.cateClass[e.code],on:{click:function(a){return t.showCategory(e.code)}}},[t._v(" "+t._s(e.name)+" ")])})),0),i("div",{staticClass:"data-list-box"},[i("ul",{staticClass:"data-list"},t._l(t.dataList,(function(e,o){return i("li",{key:e.type+e.no},[i("div",{staticClass:"del-box",on:{click:function(a){return t.deleteData(e.type,e.no)}}},[i("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-times"}})],1),i("span",{staticClass:"gtype",on:{click:function(e){return t.getDataInfo(o)}}},[t._v(t._s(e.typeName))]),i("div",{staticClass:"subject",on:{click:function(e){return t.getDataInfo(o)}}},["zoomBoard"==e.type&&e.notice?i("span",{staticClass:"notice-mp"},[i("img",{staticStyle:{width:"17px"},attrs:{src:a(21595)}})]):t._e(),t._v(" "+t._s(e.name)+" ")]),i("div",{staticClass:"date",on:{click:function(e){return t.getDataInfo(o)}}},[t._v(t._s(e.viewDate))]),e.fileName?i("div",{staticClass:"file"},[i("font-awesome-icon",{attrs:{icon:"fas fa-paperclip"}}),t._v(" "+t._s(e.fileName)+" ")],1):t._e()])})),0)]),i("div",{staticClass:"button-row"},[i("v-btn",{staticClass:"submit-button",attrs:{type:"button"},on:{click:function(e){return t.showFileBox()}}},[t._v("파일 업로드 ")])],1)])]),i("v-dialog",{attrs:{width:"420"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[t.fileUploadShow?i("div",{staticClass:"container-box"},[i("div",{staticClass:"del-box",on:{click:function(e){return t.hideFileBox()}}},[i("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-times"}})],1),i("div",{staticClass:"gtitle"},[t._v(t._s(t.uploadFileTitle))]),t.uploadBoxShow?i("div",{staticClass:"uploadBox"},[i("ul",{staticClass:"button-list"},[i("li",[i("v-btn",{staticClass:"submit-button",attrs:{type:"button"}},[t._v("파일 선택하기"),i("input",{attrs:{type:"file",id:"uploadFile",accept:".hwp,.pdf,.xls,.docx,.doc,.xlsx"},on:{change:t.openFile}})])],1)]),i("div",{staticClass:"tip",staticStyle:{"padding-top":"10px"}},[t._v(" ※ 지원 파일 확장자 : doc, xlsx, ppt, pdf, hwp"),i("br"),t._v(" ※ 1MB 이하로 제한됩니다. ")])]):t._e(),t.uploadBoxShow?t._e():i("div",{staticClass:"google-drive-box"},[i("ul",{staticClass:"google-dirive"},t._l(t.gDFileList,(function(e,a){return i("li",{on:{click:function(e){return t.uploadGoogleDrive(a)}}},[i("span",{staticClass:"filename"},[t._v(t._s(e.name))])])})),0)])]):t._e()]),i("v-dialog",{attrs:{width:"800"},model:{value:t.boardModalShow,callback:function(e){t.boardModalShow=e},expression:"boardModalShow"}},[t.zoomBoardUpdateShow?i("boardRegist",{attrs:{no:t.articleNo,gno:t.gno},on:{modalHIde:t.articleRegistHide}}):t._e(),t.zoomBoardViewShow?i("boardView",{attrs:{no:t.selectedNo,gno:t.gno},on:{modalHIde:t.boardListView,articleUpdate:t.modifyArticle}}):t._e()],1)],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu-title-tip"},[t._v(" 문제/자료관리 "),a("div",{staticClass:"description"},[t._v(" 수업에 필요한 자료를 저장하고 확인할 수 있습니다."),a("br"),t._v(" 자세한 내용은 하단의 ‘자세히 알아보기’를 눌러 예시 화면을 살펴보세요 ")])])}],s=a(62032),l=a(4367),n=(a(2707),a(41539),a(39714),a(74916),a(15306),a(68309),a(23123),a(20629)),c=a(25494),d=a(89486),r=a(19067),h=a(96922),u={components:{boardRegist:r.Z,boardView:h.Z},data:function(){return{guideTitle:" 자세히 알아보기",guideShow:!1,guideClass:"",mobileView:!1,mobileClass:"",dataList:[],parentId:"",fileView:!1,fno:0,sendFileParams:{},category:"all",categoryList:[],cateClass:{},selectedNo:"",selectedType:"",fileUploadShow:!1,gDFileList:[],uploadBoxShow:!0,uploadFileTitle:"파일 업로드 하기",sourceDataList:{},subject:"",inputError:"",zoomBoardName:"게시판",boardModalShow:!1,articleNo:"",zoomBoardViewShow:!1,zoomBoardUpdateShow:!1,modalShow:!1}},computed:(0,l.Z)({},(0,n.Se)("broadcast",["getGno"])),created:function(){this.$isMobile()&&(this.mobileView=!0,this.mobileClass="mobile"),this.parentId=this.getGno,this.getData()},methods:{getData:function(){var t=this,e={parentId:this.parentId};this.dataList=[],d.Z.post(c.r2,e,(function(e){var a,i,o,l,n=[],c={};t.category="all",t.dataList=[];t.setCategoryList();var d,r=(0,s.Z)(e.examList);try{for(r.s();!(d=r.n()).done;){var h=d.value;i=h.createAt.toString(),l=i.substring(0,10),a=i[0].replace(":","").replace("-","").replace("T","").replace(":","").replace("-",""),o=parseInt(a),c={name:h.subject,no:h.id,type:"exam",typeName:"문제",viewDate:l,rdate:o},t.sourceDataList.problem.push(c),n.push(c)}}catch(f){r.e(f)}finally{r.f()}var u,p=(0,s.Z)(e.fileList);try{for(p.s();!(u=p.n()).done;){var m=u.value;i=m.createAt.toString(),l=i.substring(0,10),a=i[0].replace(":","").replace("-","").replace("T","").replace(":","").replace("-",""),o=parseInt(a),c={name:m.name,no:m.id,ext:m.ext,type:"data",typeName:"자료",url:m.url,viewDate:l,rdate:o},t.sourceDataList.data.push(c),n.push(c)}}catch(f){p.e(f)}finally{p.f()}n.sort((function(t,e){return e.rdate-t.rdate})),t.sourceDataList.all=n,t.dataList=t.sourceDataList[t.category]}))},guideToggle:function(){this.guideShow?(this.guideShow=!1,this.guideTitle="자세히 알아보기",this.guideClass=""):(this.guideShow=!0,this.guideTitle="접기",this.guideClass="center")},setCategoryList:function(){this.categoryList=[{code:"all",name:"전체"},{code:"problem",name:"문제"},{code:"data",name:"자료"}];var t,e="",a=(0,s.Z)(this.categoryList);try{for(a.s();!(t=a.n()).done;){var i=t.value;e="all"==i.code?"active":"",this.cateClass[i.code]=e,this.sourceDataList[i.code]=[]}}catch(o){a.e(o)}finally{a.f()}},showCategory:function(t){for(var e in this.category=t,this.dataList=this.sourceDataList[this.category],this.cateClass)this.cateClass[e]=e==t?"active":""},getDataInfo:function(t){var e=this.dataList[t],a=e.type,i=e.no,o=e.url;switch(a){case"data":switch(e.ext){case"google":window.open("https://drive.google.com/file/d/"+o+"/view?ths=true","gWin","width=800,height=700,top=0,left=0");break;case"hwp":var s={message:"한글파일은 미리보기가 불가능합니다"};this.$eventBus.$emit("modalOpen",s);break;default:this.$router.push("/video/setting/dataList/fileView/"+i);break}break;case"exam":this.$router.push("/video/setting/dataList/examModify/"+i);break;case"zoomBoard":this.selectedNo=i,this.boardModalShow=!0,this.zoomBoardViewShow=!0,this.zoomBoardUpdateShow=!1;break}},boardListView:function(t){"deleteDone"==t&&this.getData(),this.boardModalShow=!1,this.zoomBoardViewShow=!1},modifyArticle:function(t){this.articleNo=t,this.zoomBoardViewShow=!1,this.zoomBoardUpdateShow=!0},articleRegistHide:function(t){"update"==t&&this.getData(),this.boardModalShow=!1,this.zoomBoardUpdateShow=!1},zoomBoardBoxHIde:function(t){switch(t.page){case"article":this.zoomBoardShow=!1,this.zoomBoardViewShow=!1,this.zoomBoardUpdateShow=!1;break;case"update":this.zoomBoardViewShow=!1,this.zoomBoardUpdateShow=!0;break;case"delete":this.deleteData("zoomBoard",this.selectedArticleData.no),this.zoomBoardShow=!1,this.zoomBoardViewShow=!1,this.zoomBoardUpdateShow=!1;break;case"updateComplete":this.getData(),this.zoomBoardShow=!1,this.zoomBoardViewShow=!1,this.zoomBoardUpdateShow=!1;break}},pageChange:function(t){"exam"==t.page?(t.update,this.examView=!1):(t.update&&this.getData(),this.fileView=!1)},openFile:function(t){var e=this,a=t.target.files[0],i=a.name,o=i.split("."),s=o[o.length-1],l=new FormData;l.append("parentId",this.parentId.toString()),l.append("ext",s),l.append("name",i),l.append("dataFile",a),this.$eventBus.$emit("overlay","show"),d.Z.postFile(c.FD,l,(function(t){e.$eventBus.$emit("overlay","hide"),e.getData(),e.fileUploadShow=!1,e.modalShow=!1}))},shareDataDeleteDo:function(){var t=this,e={id:this.selectedNo.toString()};switch(this.selectedType){case"link":case"notice":break;case"zoomBoard":break;case"exam":d.Z.post(c.lL,e,(function(e){if("success"==e.status)t.getData();else{var a={message:"이미 출제된 시험입니다 삭제에 실패하였습니다"};t.$eventBus.$emit("modalOpen",a)}}));break;case"data":d.Z.post(c.DZ,e,(function(e){if("success"==e.status)t.getData();else{var a={message:"이미 공유된 파일입니다 삭제에 실패하였습니다"};t.$eventBus.$emit("modalOpen",a)}}));break}},deleteData:function(t,e){var a=this;this.selectedNo=e,this.selectedType=t;var i={type:"confirm",message:"선택된 정보를 삭제하시겠습니까?",doAction:function(){a.shareDataDeleteDo()}};this.$eventBus.$emit("modalOpen",i)},showFileBox:function(){this.modalShow=!0,this.uploadFileTitle="파일 업로드 하기",this.fileUploadShow=!0,this.uploadBoxShow=!0},hideFileBox:function(){this.modalShow=!1,this.fileUploadShow=!1},getGoogleDrive:function(){},googleAuthTokenResult:function(t){this.getGoogleDrive()},uploadGoogleDrive:function(t){var e=this.gDFileList[t];this.gno,e.name,e.id}}},p=u,m=a(1001),f=a(43453),g=a.n(f),w=a(63150),v=a(96662),b=a(85827),S=(0,m.Z)(p,i,o,!1,null,"6820c723",null),C=S.exports;g()(S,{VBtn:w.Z,VDialog:v.Z,VExpandTransition:b.Fx})},56460:function(t,e,a){t.exports=a.p+"img/06_guide.e85939f7.jpg"}}]);
//# sourceMappingURL=146-legacy.dbb9c78d.js.map