"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[5447],{3702:function(e,t,s){s.d(t,{Z:function(){return o}});s(2245);var i=s(172),r=s(8230),n=s(7764),o=n.Z.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...r.Z.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(e){this.$nextTick((()=>this.inputIndeterminate=e))},inputIndeterminate(e){this.$emit("update:indeterminate",e)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(i.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...t,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}})},1122:function(e,t,s){var i=s(9755),r=s.n(i);t["Z"]={errorPosiFlag:!1,nl2br(e){return e.value.replace(/(\n|\r\n)/g,"<br>")},nl2brContent(e){return e=e.toString(),e=e.replace(/(\n|\r\n)/g,"<br>"),e.replace(/(<br><br>)/g,"<br>")},stripTags(e){let t=document.createElement("div");t.innerHTML=e;let s=t.textContent||t.innerText||"";return s},stripTagsNotEm(e){let t=document.createElement("div");t.innerHTML=e.replace(/<em>/gi,"{em}").replace(/<\/em>/gi,"{/em}");let s=t.textContent||t.innerText||"",i=s.replace(/{em}/gi,"<em>").replace(/{\/em}/gi,"</em>");return i},email(e){const t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},numericByPrice(e){if(0==e)return!1;if(e){e=e.toString();let t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),isNaN(t)}return!0},numeric(e){return isNaN(e)},parseNumber(e){if(e){e=e.toString();let t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),parseInt(t)}return 0},price(e){if(e){e=e.toString();let t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),!this.numeric(t)&&this.numberFormat(t)}return!1},br2nl(e){return e.replace(/(<br>|<br\/>|<br \/>)/g,"\r")},numberFormat(e){if(!e)return 0;isNaN(e)&&(e=e.toString().replace(/-/gi,""));let t=new Intl.NumberFormat(["en-US"],{});return t.format(e)},fNumberFormat(e){e=e.toString().replace(/-/gi,""),e=e.toString().replace(/,/gi,"");let t=new Intl.NumberFormat(["en-US"],{});return t.format(e)},getStrCut(e,t){return e.length>=t?e.substr(0,t)+"..":e},errorPosition(e,t,s){const i="base"==e?r()("body"):r()(e),n=r()(i).height(),o=r()(t).offset().top,a=o>0?n-o+200:n+o-200;"base"==e?r()("html,body").animate({scrollTop:o-50},100,(()=>{this.errorPosiFlag?this.errorPosiFlag=!1:(s(),this.errorPosiFlag=!0)})):r()(i).animate({scrollTop:a},100,(()=>{s()}))}}},9248:function(e,t,s){var i=s(9669),r=s.n(i),n=s(5494),o=s(3699);t["Z"]={DEBGU:!0,imgHost:"/",post(e,t,s,i){this.checkDebug(),this.checkBearerToken(),r().post(e,t,{headers:n.kT}).then((e=>{switch(this.DEBGU&&console.log(e),e.data.status){case"success":case"message":s(e.data);break;case"notLogin":o.Z.logout(),location.href="/";break;case"error":alert("결과값이 없습니다");break;case"fail":alert("잘못된 접근입니다");break}})).catch((e=>{this.setError(e)}))},async asyncPost(e,t){return this.checkBearerToken(),await r().post(e,t,{headers:n.kT})},postFile(e,t,s){this.checkDebug(),this.checkBearerToken(),r().post(e,t,{headers:n.r$}).then((e=>{switch(this.DEBGU&&console.log(e.data),e.data.status){case"success":case"message":s(e.data);break;case"notLogin":o.Z.logout(),location.href="/";break;case"error":alert("결과값이 없습니다");break;case"fail":alert("잘못된 접근입니다");break}})).catch((e=>{this.setError(e)}))},get(e,t,s,i){this.checkDebug(),this.checkBearerToken(),r().get(e,{params:t,headers:n.kT}).then((e=>{switch(this.DEBGU&&console.log(e.data),e.data.status){case"success":case"message":s(e.data);break;case"notLogin":o.Z.logout(),location.href="/";break;case"error":alert("결과값이 없습니다"),location.href="/";break;case"fail":alert("잘못된 접근입니다"),location.href="/";break}})).catch((e=>{this.setError(e),i&&i(e.response.data)}))},checkDebug(){"localhost"==location.hostname?(this.DEBGU=!0,this.imgHost="http://localhost/"):this.DEBGU=!1},checkBearerToken(){const e=o.Z.getSession();if(e?.memberInfo){const t=e.token;n.kT.Authorization="Bearer "+t,n.r$.Authorization="Bearer "+t}if(!sessionStorage.getItem("sessionId")){const e=new Date;sessionStorage.setItem("sessionId","sess_"+e.getTime())}n.kT.sessionId=sessionStorage.getItem("sessionId")},setError(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}}},3699:function(e,t,s){var i=s(5494);t["Z"]={setDevice(e){},getSession(){let e={};if(sessionStorage.getItem("memberInfo")&&sessionStorage.getItem("accessToken")){const t=JSON.parse(sessionStorage.getItem("memberInfo")),s=sessionStorage.getItem("accessToken");t?.id&&s&&(e.memberInfo=t,e.token=s)}return e},setSession(e){sessionStorage.setItem("memberInfo",JSON.stringify(e.memberInfo)),sessionStorage.setItem("accessToken",e.access_token),i.kT.Authorization="Bearer "+e.access_token,i.r$.Authorization="Bearer "+e.access_token},updateSession(e){sessionStorage.setItem("memberInfo",JSON.stringify(e))},logout(){sessionStorage.setItem("memberInfo",""),sessionStorage.setItem("accessToken",""),i.kT.Authorization="",i.r$.Authorization=""}}},5494:function(e,t,s){s.d(t,{AX:function(){return r},Bc:function(){return Ee},Bg:function(){return T},Cj:function(){return Fe},DR:function(){return _e},DZ:function(){return Ie},Dg:function(){return O},ED:function(){return V},E_:function(){return pe},Ei:function(){return ye},F5:function(){return P},F8:function(){return F},FD:function(){return fe},GE:function(){return ke},GR:function(){return we},GX:function(){return De},GY:function(){return le},Hm:function(){return b},Hs:function(){return Ce},I0:function(){return me},I4:function(){return Le},ID:function(){return C},IG:function(){return y},IV:function(){return Be},J7:function(){return G},Jw:function(){return te},KO:function(){return se},Ms:function(){return n},My:function(){return N},P2:function(){return re},Pl:function(){return c},QB:function(){return d},SL:function(){return B},TM:function(){return ve},Tk:function(){return xe},Tv:function(){return Ze},Ty:function(){return Pe},U$:function(){return Te},UZ:function(){return a},V2:function(){return f},Vm:function(){return I},XX:function(){return R},YJ:function(){return w},Zq:function(){return ue},aE:function(){return Y},b5:function(){return ge},bD:function(){return h},bt:function(){return m},dR:function(){return oe},dl:function(){return de},eT:function(){return Ne},ef:function(){return J},er:function(){return k},fQ:function(){return q},fV:function(){return l},fb:function(){return Re},gw:function(){return Z},h4:function(){return o},i5:function(){return A},iQ:function(){return ce},ik:function(){return v},iz:function(){return M},kC:function(){return W},kM:function(){return Ae},kT:function(){return ze},lL:function(){return E},lV:function(){return ne},lk:function(){return L},mb:function(){return $e},mg:function(){return he},mq:function(){return Ue},mv:function(){return S},n:function(){return X},n3:function(){return U},ne:function(){return g},nf:function(){return $},pI:function(){return x},pP:function(){return z},pp:function(){return j},r$:function(){return je},r2:function(){return be},sz:function(){return D},u$:function(){return Se},uj:function(){return H},ws:function(){return p},wu:function(){return ae},y0:function(){return Q},y6:function(){return _},ym:function(){return K},z:function(){return ie},z9:function(){return u},zk:function(){return ee}});const i="/api/controller/",r=i+"member/login",n=i+"member/getMemberAgree",o=i+"member/join",a=i+"member/checkUid",c=i+"member/checkEmail",l=i+"member/checkNick",u=i+"member/checkMemberNick",d=i+"member/updateAuthEmail",h=i+"member/findMemberUpass",m=i+"member/updateEmailMemberUpass",f=i+"broadcastLive/insertLive",g=i+"broadcastLive/getLive",p=i+"broadcastLive/updateLive",b=i+"broadcastLive/updateLogo",v=i+"broadcastLive/checkLiveWithZoomMeeting",I=i+"broadcastLive/getLiveEnv",y=i+"broadcastLive/updateLiveEnv",k=i+"broadcastLive/sendInvitedUser",L=i+"broadcastExam/insertDirect",x=i+"broadcastExam/updateDirect",S=i+"broadcastExam/getExamWithUser",E=i+"broadcastExam/deleteExamAfter",N=i+"broadcastExam/getSample",A=i+"broadcastExam/getExamWithUserReport",U=i+"broadcastPoll/insertPoll",B=i+"broadcastVote/insertVote",P=i+"broadcastBoard/getBoardByParentId",C=i+"broadcastBoard/updateBoard",T=i+"broadcastBoardArticle/getBoardArticle",w=i+"broadcastBoardArticle/insertBoardArticle",D=i+"broadcastBoardArticle/updateBoardArticle",_=i+"broadcastBoardArticle/getBoardArticleList",$=i+"broadcastBoardArticle/getBoardArticleView",F=i+"broadcastBoardArticle/uploadBoardArticleFile",R=i+"broadcastBoardArticle/downBoardArticleFile",Z=i+"broadcastBoardArticle/deleteArticle",z=i+"broadcastBoard/getArticleListWithBoardInfo",j=i+"broadcastComment/updateReple",O=i+"broadcastComment/getRepleList",M=i+"broadcastComment/deleteReple",q=i+"broadcastLive/getLiveHostInfo",V=i+"broadcastLive/UpdateLiveHostStartTime",Q=i+"broadcastExam/getExamList",H=i+"broadcastExam/updateExamStatus",G=i+"broadcastLive/getUserResponse",J=i+"broadcastQuiz/insertQuiz",W=i+"broadcastQuiz/getQuiz",X=i+"broadcastPoll/getPollListByParentId",Y=i+"broadcastPoll/updatePollStatus",K=i+"broadcastVote/getVoteListByParentId",ee=i+"broadcastVote/updateVoteStatus",te=i+"broadcastLive/endLive",se=i+"broadcastUserLive/getLiveInfo",ie=i+"broadcastUserLive/getAllLive",re=i+"broadcastUserLive/insertLiveUser",ne=i+"broadcastUserLive/updateLiveUserStatus",oe=i+"broadcastExam/insertExamReply",ae=i+"broadcast/insertBadReport",ce=i+"broadcastQuiz/insertQuizReply",le=i+"broadcastPoll/insertPollReply",ue=i+"broadcastVote/insertVoteReply",de=i+"broadcast/updateChat",he=i+"broadcastExam/getExamData",me=i+"broadcast/getLogo",fe=i+"broadcastData/insertFile",ge=i+"broadcastData/getDataList",pe=i+"broadcastData/updateDataShare",be=i+"broadcastData/getAllData",ve=i+"broadcastData/getData",Ie=i+"broadcastData/deleteData",ye=i+"broadcastData/getFile",ke=i+"broadcastData/fileDown",Le=i+"broadcastData/getDataShareList",xe=i+"broadcastExam/getExamAfterList",Se=i+"broadcastQuiz/getQuizAfterList",Ee=i+"broadcastQuiz/deleteQuizAfter",Ne=i+"broadcastQuiz/getQuizWithUserReport",Ae=i+"broadcastLive/getChatInfo",Ue=i+"broadcastPoll/getPollAfterInfo",Be=i+"broadcastPoll/getPollWithUserList",Pe=i+"broadcastPoll/getPollWithUserInfo",Ce=i+"broadcastVote/getVoteWithUserInfo",Te=i+"broadcastLive/getLiveUserInfo",we=i+"myPage/getMyBroadcastList",De=i+"broadcastLive/deleteLive",_e=i+"mypage/getMemberInfo",$e=i+"mypage/updateMemberImage",Fe=i+"mypage/updateMemberInfo",Re=i+"mypage/updateMemberPassword",Ze=i+"mypage/memberOut",ze={Authorization:"","Content-Type":"application/json;charset=UTF-8"},je={Authorization:"","Content-Type":"multipart/form-data;charset=utf-8;"}},5447:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-container"},[s("div",{staticClass:"board-title"},[e._v(e._s(e.boardName))]),s("form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[s("input",{ref:"img",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.imgUpload}}),s("input",{ref:"downFile",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.dfileUpload}}),s("div",{staticClass:"product-regist"},[s("div",{staticClass:"product-form",staticStyle:{"max-width":"100%","padding-top":"20px"}},[s("ul",{staticClass:"input-ul"},["all"==e.wAuth&&!e.isLogin||e.modifyUserInfoShow?s("li",{staticClass:"flex-box nouser"},[s("div",{staticClass:"left"},[s("div",{staticClass:"input-box",attrs:{id:"userName-required"}},[s("v-text-field",{ref:"userName",attrs:{rules:[function(){return!!e.userName||"작성자명을 입력하세요"}],required:"",dense:"",placeholder:"작성자명을 입력하세요",outlined:"",maxLength:"20"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1)]),s("div",{staticClass:"right"},[s("div",{staticClass:"input-box",attrs:{id:"userPass-required"}},[s("v-text-field",{ref:"userPass",attrs:{rules:[function(){return!!e.userPass||"비밀번호를 입력하세요"}],required:"",type:"password",maxLength:"10",dense:"",placeholder:"비밀번호를 입력하세요",outlined:""},model:{value:e.userPass,callback:function(t){e.userPass=t},expression:"userPass"}})],1)])]):e._e(),s("li",{staticClass:"flex-box"},["yes"==e.categoryUse?s("div",{staticClass:"left select-box-left"},[s("div",{staticClass:"select-box",attrs:{id:"category-required"}},[s("v-select",{ref:"category",staticStyle:{"max-width":"500px"},attrs:{dense:"",outlined:"",rules:[function(){return!!e.category||"카테고리를 선택하세요"}],required:"",label:"카테고리 선택",items:e.categoryList},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1)]):e._e(),s("div",{staticClass:"right"},[s("div",{staticClass:"input-box",attrs:{id:"subject-required"}},[s("v-text-field",{ref:"subject",attrs:{rules:[function(){return!!e.subject||"제목을 입력하세요"}],required:"",maxLength:"45",dense:"",placeholder:"제목을 입력하세요",outlined:""},model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}})],1)])]),s("li",[s("div",{staticClass:"quill-content-box",staticStyle:{width:"100%","padding-bottom":"12px"}},[s("quill-editor",{ref:"myQuillEditor",attrs:{content:e.content,options:e.editorOption},on:{change:function(t){return e.onEditorChange(t)}}})],1)])])]),s("ul",{staticClass:"input-add"},[s("li",[s("div",{staticClass:"label"},[e._v("태그")]),s("div",{staticClass:"input-box"},[s("v-text-field",{attrs:{placeholder:"쉼표(,)를 이용하여 복수등록 가능",outlined:"",dense:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)]),s("li",[s("div",{staticClass:"label"},[e._v("파일 첨부")]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"add-file-box"},[s("div",{staticClass:"detail-file-box"},e._l(e.dFileList,(function(t,i){return s("v-chip",{staticClass:"file-dlist",attrs:{close:"",color:"#000",outlined:"",dense:""},on:{"click:close":function(t){return e.removeDfile(i)}}},[e._v(" "+e._s(t.orgFileName)+" ")])})),1),s("v-btn",{staticClass:"blackButton",attrs:{depressed:"",type:"button"},on:{click:function(t){return e.addDfile()}}},[s("span",[e._v("파일첨부")])])],1)])]),s("li",{staticClass:"setting-li"},[s("div",{staticClass:"label"},[e._v("설정")]),s("div",{staticClass:"input-box check-box",staticStyle:{display:"flex","margin-top":"-10px"}},[s("v-checkbox",{staticStyle:{"margin-right":"20px"},attrs:{color:"#000",value:"yes",label:"댓글 허용"},model:{value:e.replyUse,callback:function(t){e.replyUse=t},expression:"replyUse"}}),e.isLogin?s("v-checkbox",{staticStyle:{"margin-right":"20px"},attrs:{color:"#000",value:"yes",label:"알림"},model:{value:e.userNotice,callback:function(t){e.userNotice=t},expression:"userNotice"}}):e._e(),s("v-checkbox",{staticStyle:{"margin-right":"20px"},attrs:{color:"#000",value:"yes",label:"공개"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}}),"ROLE_ADMIN"==e.memberInfo.role?s("v-checkbox",{attrs:{color:"#000",value:"yes",label:"공지"},model:{value:e.notice,callback:function(t){e.notice=t},expression:"notice"}}):e._e()],1)])])]),s("div",{staticClass:"button-row"},[e.isLogin?s("v-btn",{staticClass:"whiteButton",staticStyle:{width:"250px",margin:"auto","margin-right":"20px"},attrs:{depressed:"",rounded:"",type:"button"},on:{click:function(t){return e.tempSave()}}},[s("span",[e._v("임시저장")])]):e._e(),s("v-btn",{staticClass:"blackButton",staticStyle:{width:"250px",margin:"auto"},attrs:{depressed:"",rounded:"",type:"submit"}},[s("span",[e._v("게시글 저장")])])],1)])])},r=[],n=s(9248),o=s(5494),a=s(1629),c=s(9755),l=s.n(c),u=s(1122),d=s(3699),h=(s(9317),{components:{quillEditor:a.quillEditor},computed:{form(){return{userName:this.userName,userPass:this.userPass,category:this.category,subject:this.subject}},editor(){return this.$refs.myQuillEditor.quill}},data(){return{bid:"",id:"",info:{},boardInfo:{},boardList:[],bidList:[],subject:"",content:"",editorOption:{placeholder:"내용을 입력하세요",theme:"snow",modules:{toolbar:{container:[[{header:1},{header:2}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["image"],["link"],["clean"]],handlers:{image:this.editorImageHandler}}}},btype:"",category:"",categoryList:[],categoryUse:"no",secretUse:"no",secret:"",bidDisabled:!1,imgList:[],imgIndex:0,imgSize:{width:200,height:200,text:"200×200"},formHasErrors:!1,serverFlag:!1,boardName:"",memberInfo:{},isLogin:!1,wAuth:"user",userName:"",userPass:"",uploadImgType:"list",keyword:"",dFileList:[],replyUse:"yes",open:"yes",userNotice:"no",sessPass:"",notice:"no",modifyUserInfoShow:!1}},created(){this.bid=this.$route.params.bid,"regist"!=this.$route.params.id&&(this.id=this.$route.params.id);const e=d.Z.getSession();e&&e?.memberInfo&&(this.memberInfo=e.memberInfo,this.isLogin=!0),this.getData()},methods:{getData(){const e={bid:this.bid,id:this.id};n.Z.post(o.API_URL_GET_ARTICLE_REGIST,e,(e=>{if("success"==e.status){if(this.boardInfo=e.board,"admin"==this.boardInfo.wauth&&"ROLE_ADMIN"!=this.memberInfo.role)return void this.$router.push("/");if("user"==this.boardInfo.wauth&&!this.isLogin)return void this.$router.back();if(this.wAuth=this.boardInfo.wauth,this.boardName=this.boardInfo.bname,this.categoryUse=this.boardInfo.categoryUse,"yes"==this.categoryUse)for(let e of JSON.parse(this.boardInfo.categoryList))"yes"==e.use&&this.categoryList.push({text:e.name,value:e.code});if(e.info?.bid&&(this.info=e.info,"ROLE_ADMIN"!=this.memberInfo.role)){if(this.info.userId&&this.info.userId!=this.memberInfo.uid)return void this.$router.push("/");if(!this.info.userId){if(!sessionStorage.getItem("articleSessPass"))return void this.$router.push("/");this.sessPass=sessionStorage.getItem("articleSessPass")}}if(e.tempArticle){let t={type:"confirm",message:"임시저장된 게시글이 존재합니다<br>저장된 글을 불러오겠습니까?",doAction:()=>{this.info=e.tempArticle,this.setTempArticle()},cancleAction:()=>{this.id&&this.setIsArticle()}};return void this.$eventBus.$emit("modalOpen",t)}this.id&&this.setIsArticle()}}))},setTempArticle(){this.modifyUserInfoShow=!1,this.setBaseInfo()},setIsArticle(){this.info.userId?this.modifyUserInfoShow=!1:(this.modifyUserInfoShow=!0,this.userName=this.info.userName,this.userPass=this.info.userPassword),this.setBaseInfo()},setBaseInfo(){if(this.subject=this.info.subject,this.content=this.info.content,this.replyUse=this.info.replyUse,this.userNotice=this.info.userNotice,this.notice=this.info.notice,this.open=this.info.open,this.info.keywords){let e=this.info.keywords.split(","),t=[];for(const s of e)s&&t.push(s);t.length>0&&(this.keyword=t.join(","))}if(this.info.dfileOrgNames){let e=this.info.dfileOrgNames.split(","),t=this.info.dfileNames.split(","),s=this.info.searchDfileNames.split(","),i=0;for(const r of e){let e=t[i],n=s[i],o={orgFileName:r,fileName:e,searchName:n};this.dFileList.push(o),i++}}if(this.info.orgImgNames){let e=this.info.orgImgNames.split(","),t=this.info.imgs.split(","),s=this.info.searchImgNames.split(","),i=0;for(const r of e){let e=t[i],n=s[i];this.imgList.push({orgName:r,searchName:n,name:e}),i++}}this.setAddInfo()},setAddInfo(){if("yes"==this.boardInfo.categoryUse){this.categoryList=[];for(let e of JSON.parse(this.boardInfo.categoryList))"yes"==e.use&&this.categoryList.push({text:e.name,value:e.code});this.categoryList.length>0&&(this.categoryUse="yes"),this.info.category&&(this.category=this.info.category)}},editorImageHandler(){this.uploadImgType="contentEditor",this.$refs.img.click()},addDfile(){this.$refs.downFile.click()},removeDfile(e){this.dFileList.splice(e,1)},dfileUpload(){if(this.dFileList.length>=10){let e={message:"첨부파일은 10개 까지만 등록가능합니다"};return void this.$eventBus.$emit("modalOpen",e)}const e=this.$refs.downFile.files;let t=e.length>0?e[0]:null;const s=new FormData;s.append("dfile",t),n.Z.postFile(o.API_URL_INSERT_ARTICLE_TEMP_FILE,s,(e=>{const t=e.orgFileName.replace(e.ext,"");let s={orgFileName:e.orgFileName,searchName:t,fileName:e.saveFileUrl};this.dFileList.push(s),this.$refs.downFile.value=""}))},imgUpload(){const e=this.$refs.img.files;let t=e.length>0?e[0]:null;const s=new FormData;s.append("image",t),n.Z.postFile(o.API_URL_INSERT_ARTICLE_TEMP_IMAGE,s,(e=>{switch(this.uploadImgType){case"contentEditor":const t=this.editor.getSelection();let s=n.Z.imgHost+"api/controller/board/getArticleImage?imgName="+encodeURIComponent(e.saveFileUrl);this.editor.insertEmbed(t.index,"image",s);const i=e.orgFileName.replace(e.ext,"");this.imgList.push({orgName:e.orgFileName,searchName:i,name:e.saveFileUrl});break}})),this.$refs.img.value=""},onEditorChange({quill:e,html:t,text:s}){this.content=t},validate(){this.formHasErrors=!1;let e="";if(Object.keys(this.form).forEach((t=>{let s=!1;switch(t){case"userName":case"userPass":("all"!=this.wAuth||this.isLogin)&&(s=!0);break;case"category":"yes"!=this.categoryUse&&(s=!0);break}s||(this.form[t]||(this.formHasErrors=!0,e||(e=t)),this.$refs[t].validate(!0))})),this.formHasErrors)return void u.Z.errorPosition("base","#"+e+"-required",(()=>{}));if(!this.content){let e={message:"내용을 입력하세요"};return void this.$eventBus.$emit("modalOpen",e)}let t=this.getSaveParams();if(!t)return;if(this.serverFlag)return;this.serverFlag=!0,this.info?.bid&&this.id&&(t.id=this.id),this.$eventBus.$emit("overlay","open");const s=this.info?.bid&&this.id?o.API_URL_UPDATE_ARTICLE:o.API_URL_INSERT_ARTICLE;n.Z.post(s,t,(e=>{if(this.serverFlag=!1,this.$eventBus.$emit("overlay","hide"),"success"==e.status){let e="저장";this.id&&(e="수정");let t={message:"게시글 정보가 "+e+" 되었습니다",doAction:()=>{this.$router.back()}};this.$eventBus.$emit("modalOpen",t)}}))},getSaveParams(){const e=this.keyword.split(","),t=[];for(const n of e)n&&t.push(n.replace(/ /g,""));if(t.length>10){let e={message:"키워드는 10개 까지만 등록가능합니다"};return this.$eventBus.$emit("modalOpen",e),!1}let s="";t.length>0&&(s=t.join(","));const i=/<img[^>]+src=[\"']?([^>\"']+)[\"']?[^>]*>/g;let r="",o=[],a=[],c=[];while(r=i.exec(this.content))if(r[1]){let e=r[1].replace(n.Z.imgHost+"api/controller/board/getArticleImage?imgName=","");for(let t of this.imgList)e==t.name&&(o.push(t.orgName),a.push(t.name),c.push(t.searchName))}let l="",u="",d="";o.length>0&&(l=a.join(","),u=o.join(","),d=c.join(","));let h="",m="",f="";if(this.dFileList.length>0){let e=[],t=[],s=[];for(const i of this.dFileList)e.push(i.orgFileName),t.push(i.fileName),s.push(i.searchName);h=e.join(","),m=t.join(","),f=s.join(",")}let g=this.sessPass?this.sessPass.toString():"",p={subject:this.subject,category:this.category,userName:this.userName,userPassword:this.userPass,bid:this.bid,content:this.content,orgDfileNameString:h,dfileNameString:m,searchDfileNameString:f,keywords:s,sessPass:g,imgString:l,orgImgString:u,searchImgNameString:d,notice:"yes"==this.notice?"yes":"no",replyUse:"yes"==this.replyUse?"yes":"no",open:"yes"==this.open?"yes":"no",userNotice:"yes"==this.userNotice?"yes":"no"};return p},tempSave(){let e=this.getSaveParams();if(!e)return;if(this.serverFlag)return;this.serverFlag=!0,this.id&&(e.id=this.id),this.$eventBus.$emit("overlay","open");const t=this.id?o.API_URL_TEMP_BOARD_IS_ARTICLE:o.API_URL_TEMP_BOARD_ARTICLE;n.Z.post(t,e,(e=>{this.serverFlag=!1,this.$eventBus.$emit("overlay","hide");let t={};"success"==e.status?(t={message:"게시글 정보가 임시저장 되었습니다"},this.$eventBus.$emit("modalOpen",t)):t={message:"임시저장에 실패하였습니다"},this.$eventBus.$emit("modalOpen",t)}))}},mounted(){l()(".quill-content-box .ql-editor").css("min-height","400px")}}),m=h,f=s(1001),g=s(3453),p=s.n(g),b=s(3150),v=s(3702),I=s(5424),y=s(4161),k=s(5978),L=(0,f.Z)(m,i,r,!1,null,"c6d48e30",null),x=L.exports;p()(L,{VBtn:b.Z,VCheckbox:v.Z,VChip:I.Z,VSelect:y.Z,VTextField:k.Z})}}]);
//# sourceMappingURL=5447.46b31b4c.js.map