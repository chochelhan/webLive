"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[5447],{83702:function(e,t,i){i.d(t,{Z:function(){return c}});var s=i(73274),r=i(4367),n=(i(41539),i(39714),i(2245),i(70172)),a=i(58230),o=i(7764),l=["title"],c=o.Z.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return(0,r.Z)((0,r.Z)({},a.Z.options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(e){var t=this;this.$nextTick((function(){return t.inputIndeterminate=e}))},inputIndeterminate:function(e){this.$emit("update:indeterminate",e)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var e=this.attrs$,t=(e.title,(0,s.Z)(e,l));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(n.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",(0,r.Z)((0,r.Z)({},t),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},1122:function(e,t,i){i(74916),i(15306),i(41539),i(39714),i(77601);var s=i(19755),r=i.n(s);t["Z"]={errorPosiFlag:!1,nl2br:function(e){return e.value.replace(/(\n|\r\n)/g,"<br>")},nl2brContent:function(e){return e=e.toString(),e=e.replace(/(\n|\r\n)/g,"<br>"),e.replace(/(<br><br>)/g,"<br>")},stripTags:function(e){var t=document.createElement("div");t.innerHTML=e;var i=t.textContent||t.innerText||"";return i},stripTagsNotEm:function(e){var t=document.createElement("div");t.innerHTML=e.replace(/<em>/gi,"{em}").replace(/<\/em>/gi,"{/em}");var i=t.textContent||t.innerText||"",s=i.replace(/{em}/gi,"<em>").replace(/{\/em}/gi,"</em>");return s},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},numericByPrice:function(e){if(0==e)return!1;if(e){e=e.toString();var t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),isNaN(t)}return!0},numeric:function(e){return isNaN(e)},parseNumber:function(e){if(e){e=e.toString();var t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),parseInt(t)}return 0},price:function(e){if(e){e=e.toString();var t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),!this.numeric(t)&&this.numberFormat(t)}return!1},br2nl:function(e){return e.replace(/(<br>|<br\/>|<br \/>)/g,"\r")},numberFormat:function(e){if(!e)return 0;isNaN(e)&&(e=e.toString().replace(/-/gi,""));var t=new Intl.NumberFormat(["en-US"],{});return t.format(e)},fNumberFormat:function(e){e=e.toString().replace(/-/gi,""),e=e.toString().replace(/,/gi,"");var t=new Intl.NumberFormat(["en-US"],{});return t.format(e)},getStrCut:function(e,t){return e.length>=t?e.substr(0,t)+"..":e},errorPosition:function(e,t,i){var s=this,n="base"==e?r()("body"):r()(e),a=r()(n).height(),o=r()(t).offset().top,l=o>0?a-o+200:a+o-200;"base"==e?r()("html,body").animate({scrollTop:o-50},100,(function(){s.errorPosiFlag?s.errorPosiFlag=!1:(i(),s.errorPosiFlag=!0)})):r()(n).animate({scrollTop:l},100,(function(){i()}))}}},15447:function(e,t,i){i.r(t),i.d(t,{default:function(){return k}});var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-container"},[i("div",{staticClass:"board-title"},[e._v(e._s(e.boardName))]),i("form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[i("input",{ref:"img",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.imgUpload}}),i("input",{ref:"downFile",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.dfileUpload}}),i("div",{staticClass:"product-regist"},[i("div",{staticClass:"product-form",staticStyle:{"max-width":"100%","padding-top":"20px"}},[i("ul",{staticClass:"input-ul"},["all"==e.wAuth&&!e.isLogin||e.modifyUserInfoShow?i("li",{staticClass:"flex-box nouser"},[i("div",{staticClass:"left"},[i("div",{staticClass:"input-box",attrs:{id:"userName-required"}},[i("v-text-field",{ref:"userName",attrs:{rules:[function(){return!!e.userName||"작성자명을 입력하세요"}],required:"",dense:"",placeholder:"작성자명을 입력하세요",outlined:"",maxLength:"20"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1)]),i("div",{staticClass:"right"},[i("div",{staticClass:"input-box",attrs:{id:"userPass-required"}},[i("v-text-field",{ref:"userPass",attrs:{rules:[function(){return!!e.userPass||"비밀번호를 입력하세요"}],required:"",type:"password",maxLength:"10",dense:"",placeholder:"비밀번호를 입력하세요",outlined:""},model:{value:e.userPass,callback:function(t){e.userPass=t},expression:"userPass"}})],1)])]):e._e(),i("li",{staticClass:"flex-box"},["yes"==e.categoryUse?i("div",{staticClass:"left select-box-left"},[i("div",{staticClass:"select-box",attrs:{id:"category-required"}},[i("v-select",{ref:"category",staticStyle:{"max-width":"500px"},attrs:{dense:"",outlined:"",rules:[function(){return!!e.category||"카테고리를 선택하세요"}],required:"",label:"카테고리 선택",items:e.categoryList},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1)]):e._e(),i("div",{staticClass:"right"},[i("div",{staticClass:"input-box",attrs:{id:"subject-required"}},[i("v-text-field",{ref:"subject",attrs:{rules:[function(){return!!e.subject||"제목을 입력하세요"}],required:"",maxLength:"45",dense:"",placeholder:"제목을 입력하세요",outlined:""},model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}})],1)])]),i("li",[i("div",{staticClass:"quill-content-box",staticStyle:{width:"100%","padding-bottom":"12px"}},[i("quill-editor",{ref:"myQuillEditor",attrs:{content:e.content,options:e.editorOption},on:{change:function(t){return e.onEditorChange(t)}}})],1)])])]),i("ul",{staticClass:"input-add"},[i("li",[i("div",{staticClass:"label"},[e._v("태그")]),i("div",{staticClass:"input-box"},[i("v-text-field",{attrs:{placeholder:"쉼표(,)를 이용하여 복수등록 가능",outlined:"",dense:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)]),i("li",[i("div",{staticClass:"label"},[e._v("파일 첨부")]),i("div",{staticClass:"input-box"},[i("div",{staticClass:"add-file-box"},[i("div",{staticClass:"detail-file-box"},e._l(e.dFileList,(function(t,s){return i("v-chip",{staticClass:"file-dlist",attrs:{close:"",color:"#000",outlined:"",dense:""},on:{"click:close":function(t){return e.removeDfile(s)}}},[e._v(" "+e._s(t.orgFileName)+" ")])})),1),i("v-btn",{staticClass:"blackButton",attrs:{depressed:"",type:"button"},on:{click:function(t){return e.addDfile()}}},[i("span",[e._v("파일첨부")])])],1)])]),i("li",{staticClass:"setting-li"},[i("div",{staticClass:"label"},[e._v("설정")]),i("div",{staticClass:"input-box check-box",staticStyle:{display:"flex","margin-top":"-10px"}},[i("v-checkbox",{staticStyle:{"margin-right":"20px"},attrs:{color:"#000",value:"yes",label:"댓글 허용"},model:{value:e.replyUse,callback:function(t){e.replyUse=t},expression:"replyUse"}}),e.isLogin?i("v-checkbox",{staticStyle:{"margin-right":"20px"},attrs:{color:"#000",value:"yes",label:"알림"},model:{value:e.userNotice,callback:function(t){e.userNotice=t},expression:"userNotice"}}):e._e(),i("v-checkbox",{staticStyle:{"margin-right":"20px"},attrs:{color:"#000",value:"yes",label:"공개"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}}),"ROLE_ADMIN"==e.memberInfo.role?i("v-checkbox",{attrs:{color:"#000",value:"yes",label:"공지"},model:{value:e.notice,callback:function(t){e.notice=t},expression:"notice"}}):e._e()],1)])])]),i("div",{staticClass:"button-row"},[e.isLogin?i("v-btn",{staticClass:"whiteButton",staticStyle:{width:"250px",margin:"auto","margin-right":"20px"},attrs:{depressed:"",rounded:"",type:"button"},on:{click:function(t){return e.tempSave()}}},[i("span",[e._v("임시저장")])]):e._e(),i("v-btn",{staticClass:"blackButton",staticStyle:{width:"250px",margin:"auto"},attrs:{depressed:"",rounded:"",type:"submit"}},[i("span",[e._v("게시글 저장")])])],1)])])},r=[],n=i(62032),a=(i(68309),i(74916),i(23123),i(69600),i(40561),i(15306),i(41539),i(54747),i(47941),i(39714),i(89486)),o=i(25494),l=i(91629),c=i(19755),u=i.n(c),d=i(1122),h=i(3699),f=(i(29317),{components:{quillEditor:l.quillEditor},computed:{form:function(){return{userName:this.userName,userPass:this.userPass,category:this.category,subject:this.subject}},editor:function(){return this.$refs.myQuillEditor.quill}},data:function(){return{bid:"",id:"",info:{},boardInfo:{},boardList:[],bidList:[],subject:"",content:"",editorOption:{placeholder:"내용을 입력하세요",theme:"snow",modules:{toolbar:{container:[[{header:1},{header:2}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["image"],["link"],["clean"]],handlers:{image:this.editorImageHandler}}}},btype:"",category:"",categoryList:[],categoryUse:"no",secretUse:"no",secret:"",bidDisabled:!1,imgList:[],imgIndex:0,imgSize:{width:200,height:200,text:"200×200"},formHasErrors:!1,serverFlag:!1,boardName:"",memberInfo:{},isLogin:!1,wAuth:"user",userName:"",userPass:"",uploadImgType:"list",keyword:"",dFileList:[],replyUse:"yes",open:"yes",userNotice:"no",sessPass:"",notice:"no",modifyUserInfoShow:!1}},created:function(){this.bid=this.$route.params.bid,"regist"!=this.$route.params.id&&(this.id=this.$route.params.id);var e=h.Z.getSession();e&&null!==e&&void 0!==e&&e.memberInfo&&(this.memberInfo=e.memberInfo,this.isLogin=!0),this.getData()},methods:{getData:function(){var e=this,t={bid:this.bid,id:this.id};a.Z.post(o.API_URL_GET_ARTICLE_REGIST,t,(function(t){if("success"==t.status){var i;if(e.boardInfo=t.board,"admin"==e.boardInfo.wauth&&"ROLE_ADMIN"!=e.memberInfo.role)return void e.$router.push("/");if("user"==e.boardInfo.wauth&&!e.isLogin)return void e.$router.back();if(e.wAuth=e.boardInfo.wauth,e.boardName=e.boardInfo.bname,e.categoryUse=e.boardInfo.categoryUse,"yes"==e.categoryUse){var s,r=(0,n.Z)(JSON.parse(e.boardInfo.categoryList));try{for(r.s();!(s=r.n()).done;){var a=s.value;"yes"==a.use&&e.categoryList.push({text:a.name,value:a.code})}}catch(l){r.e(l)}finally{r.f()}}if(null!==(i=t.info)&&void 0!==i&&i.bid&&(e.info=t.info,"ROLE_ADMIN"!=e.memberInfo.role)){if(e.info.userId&&e.info.userId!=e.memberInfo.uid)return void e.$router.push("/");if(!e.info.userId){if(!sessionStorage.getItem("articleSessPass"))return void e.$router.push("/");e.sessPass=sessionStorage.getItem("articleSessPass")}}if(t.tempArticle){var o={type:"confirm",message:"임시저장된 게시글이 존재합니다<br>저장된 글을 불러오겠습니까?",doAction:function(){e.info=t.tempArticle,e.setTempArticle()},cancleAction:function(){e.id&&e.setIsArticle()}};return void e.$eventBus.$emit("modalOpen",o)}e.id&&e.setIsArticle()}}))},setTempArticle:function(){this.modifyUserInfoShow=!1,this.setBaseInfo()},setIsArticle:function(){this.info.userId?this.modifyUserInfoShow=!1:(this.modifyUserInfoShow=!0,this.userName=this.info.userName,this.userPass=this.info.userPassword),this.setBaseInfo()},setBaseInfo:function(){if(this.subject=this.info.subject,this.content=this.info.content,this.replyUse=this.info.replyUse,this.userNotice=this.info.userNotice,this.notice=this.info.notice,this.open=this.info.open,this.info.keywords){var e,t=this.info.keywords.split(","),i=[],s=(0,n.Z)(t);try{for(s.s();!(e=s.n()).done;){var r=e.value;r&&i.push(r)}}catch(C){s.e(C)}finally{s.f()}i.length>0&&(this.keyword=i.join(","))}if(this.info.dfileOrgNames){var a,o=this.info.dfileOrgNames.split(","),l=this.info.dfileNames.split(","),c=this.info.searchDfileNames.split(","),u=0,d=(0,n.Z)(o);try{for(d.s();!(a=d.n()).done;){var h=a.value,f=l[u],m=c[u],p={orgFileName:h,fileName:f,searchName:m};this.dFileList.push(p),u++}}catch(C){d.e(C)}finally{d.f()}}if(this.info.orgImgNames){var g,v=this.info.orgImgNames.split(","),b=this.info.imgs.split(","),y=this.info.searchImgNames.split(","),I=0,x=(0,n.Z)(v);try{for(x.s();!(g=x.n()).done;){var N=g.value,S=b[I],k=y[I];this.imgList.push({orgName:N,searchName:k,name:S}),I++}}catch(C){x.e(C)}finally{x.f()}}this.setAddInfo()},setAddInfo:function(){if("yes"==this.boardInfo.categoryUse){this.categoryList=[];var e,t=(0,n.Z)(JSON.parse(this.boardInfo.categoryList));try{for(t.s();!(e=t.n()).done;){var i=e.value;"yes"==i.use&&this.categoryList.push({text:i.name,value:i.code})}}catch(s){t.e(s)}finally{t.f()}this.categoryList.length>0&&(this.categoryUse="yes"),this.info.category&&(this.category=this.info.category)}},editorImageHandler:function(){this.uploadImgType="contentEditor",this.$refs.img.click()},addDfile:function(){this.$refs.downFile.click()},removeDfile:function(e){this.dFileList.splice(e,1)},dfileUpload:function(){var e=this;if(this.dFileList.length>=10){var t={message:"첨부파일은 10개 까지만 등록가능합니다"};this.$eventBus.$emit("modalOpen",t)}else{var i=this.$refs.downFile.files,s=i.length>0?i[0]:null,r=new FormData;r.append("dfile",s),a.Z.postFile(o.API_URL_INSERT_ARTICLE_TEMP_FILE,r,(function(t){var i=t.orgFileName.replace(t.ext,""),s={orgFileName:t.orgFileName,searchName:i,fileName:t.saveFileUrl};e.dFileList.push(s),e.$refs.downFile.value=""}))}},imgUpload:function(){var e=this,t=this.$refs.img.files,i=t.length>0?t[0]:null,s=new FormData;s.append("image",i),a.Z.postFile(o.API_URL_INSERT_ARTICLE_TEMP_IMAGE,s,(function(t){switch(e.uploadImgType){case"contentEditor":var i=e.editor.getSelection(),s=a.Z.imgHost+"api/controller/board/getArticleImage?imgName="+encodeURIComponent(t.saveFileUrl);e.editor.insertEmbed(i.index,"image",s);var r=t.orgFileName.replace(t.ext,"");e.imgList.push({orgName:t.orgFileName,searchName:r,name:t.saveFileUrl});break}})),this.$refs.img.value=""},onEditorChange:function(e){e.quill;var t=e.html;e.text;this.content=t},validate:function(){var e,t,i=this;this.formHasErrors=!1;var s="";if(Object.keys(this.form).forEach((function(e){var t=!1;switch(e){case"userName":case"userPass":("all"!=i.wAuth||i.isLogin)&&(t=!0);break;case"category":"yes"!=i.categoryUse&&(t=!0);break}t||(i.form[e]||(i.formHasErrors=!0,s||(s=e)),i.$refs[e].validate(!0))})),this.formHasErrors)d.Z.errorPosition("base","#"+s+"-required",(function(){}));else if(this.content){var r=this.getSaveParams();if(r&&!this.serverFlag){this.serverFlag=!0,null!==(e=this.info)&&void 0!==e&&e.bid&&this.id&&(r.id=this.id),this.$eventBus.$emit("overlay","open");var n=null!==(t=this.info)&&void 0!==t&&t.bid&&this.id?o.API_URL_UPDATE_ARTICLE:o.API_URL_INSERT_ARTICLE;a.Z.post(n,r,(function(e){if(i.serverFlag=!1,i.$eventBus.$emit("overlay","hide"),"success"==e.status){var t="저장";i.id&&(t="수정");var s={message:"게시글 정보가 "+t+" 되었습니다",doAction:function(){i.$router.back()}};i.$eventBus.$emit("modalOpen",s)}}))}}else{var l={message:"내용을 입력하세요"};this.$eventBus.$emit("modalOpen",l)}},getSaveParams:function(){var e,t=this.keyword.split(","),i=[],s=(0,n.Z)(t);try{for(s.s();!(e=s.n()).done;){var r=e.value;r&&i.push(r.replace(/ /g,""))}}catch(E){s.e(E)}finally{s.f()}if(i.length>10){var o={message:"키워드는 10개 까지만 등록가능합니다"};return this.$eventBus.$emit("modalOpen",o),!1}var l="";i.length>0&&(l=i.join(","));var c=/<img[^>]+src=[\"']?([^>\"']+)[\"']?[^>]*>/g,u="",d=[],h=[],f=[];while(u=c.exec(this.content))if(u[1]){var m,p=u[1].replace(a.Z.imgHost+"api/controller/board/getArticleImage?imgName=",""),g=(0,n.Z)(this.imgList);try{for(g.s();!(m=g.n()).done;){var v=m.value;p==v.name&&(d.push(v.orgName),h.push(v.name),f.push(v.searchName))}}catch(E){g.e(E)}finally{g.f()}}var b="",y="",I="";d.length>0&&(b=h.join(","),y=d.join(","),I=f.join(","));var x="",N="",S="";if(this.dFileList.length>0){var k,C=[],L=[],_=[],$=(0,n.Z)(this.dFileList);try{for($.s();!(k=$.n()).done;){var w=k.value;C.push(w.orgFileName),L.push(w.fileName),_.push(w.searchName)}}catch(E){$.e(E)}finally{$.f()}x=C.join(","),N=L.join(","),S=_.join(",")}var F=this.sessPass?this.sessPass.toString():"",A={subject:this.subject,category:this.category,userName:this.userName,userPassword:this.userPass,bid:this.bid,content:this.content,orgDfileNameString:x,dfileNameString:N,searchDfileNameString:S,keywords:l,sessPass:F,imgString:b,orgImgString:y,searchImgNameString:I,notice:"yes"==this.notice?"yes":"no",replyUse:"yes"==this.replyUse?"yes":"no",open:"yes"==this.open?"yes":"no",userNotice:"yes"==this.userNotice?"yes":"no"};return A},tempSave:function(){var e=this,t=this.getSaveParams();if(t&&!this.serverFlag){this.serverFlag=!0,this.id&&(t.id=this.id),this.$eventBus.$emit("overlay","open");var i=this.id?o.API_URL_TEMP_BOARD_IS_ARTICLE:o.API_URL_TEMP_BOARD_ARTICLE;a.Z.post(i,t,(function(t){e.serverFlag=!1,e.$eventBus.$emit("overlay","hide");var i={};"success"==t.status?(i={message:"게시글 정보가 임시저장 되었습니다"},e.$eventBus.$emit("modalOpen",i)):i={message:"임시저장에 실패하였습니다"},e.$eventBus.$emit("modalOpen",i)}))}}},mounted:function(){u()(".quill-content-box .ql-editor").css("min-height","400px")}}),m=f,p=i(1001),g=i(43453),v=i.n(g),b=i(63150),y=i(83702),I=i(95424),x=i(74161),N=i(55978),S=(0,p.Z)(m,s,r,!1,null,"c6d48e30",null),k=S.exports;v()(S,{VBtn:b.Z,VCheckbox:y.Z,VChip:I.Z,VSelect:x.Z,VTextField:N.Z})}}]);
//# sourceMappingURL=5447-legacy.0329d653.js.map