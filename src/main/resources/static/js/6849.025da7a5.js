(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[6849],{4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,a){"use strict";var s,i,n,r=a(4019),o=a(9781),l=a(7854),c=a(614),d=a(111),h=a(2597),u=a(648),p=a(6330),y=a(8880),f=a(1320),v=a(3070).f,m=a(7976),b=a(9518),_=a(7674),g=a(5112),w=a(9711),x=l.Int8Array,D=x&&x.prototype,C=l.Uint8ClampedArray,k=C&&C.prototype,A=x&&b(x),L=D&&b(D),T=Object.prototype,S=l.TypeError,I=g("toStringTag"),M=w("TYPED_ARRAY_TAG"),F=w("TYPED_ARRAY_CONSTRUCTOR"),R=r&&!!_&&"Opera"!==u(l.opera),E=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O={BigInt64Array:8,BigUint64Array:8},V=function(t){if(!d(t))return!1;var e=u(t);return"DataView"===e||h(B,e)||h(O,e)},Y=function(t){if(!d(t))return!1;var e=u(t);return h(B,e)||h(O,e)},N=function(t){if(Y(t))return t;throw S("Target is not a typed array")},P=function(t){if(c(t)&&(!_||m(A,t)))return t;throw S(p(t)+" is not a typed array constructor")},U=function(t,e,a,s){if(o){if(a)for(var i in B){var n=l[i];if(n&&h(n.prototype,t))try{delete n.prototype[t]}catch(r){try{n.prototype[t]=e}catch(c){}}}L[t]&&!a||f(L,t,a?e:R&&D[t]||e,s)}},$=function(t,e,a){var s,i;if(o){if(_){if(a)for(s in B)if(i=l[s],i&&h(i,t))try{delete i[t]}catch(n){}if(A[t]&&!a)return;try{return f(A,t,a?e:R&&A[t]||e)}catch(n){}}for(s in B)i=l[s],!i||i[t]&&!a||f(i,t,e)}};for(s in B)i=l[s],n=i&&i.prototype,n?y(n,F,i):R=!1;for(s in O)i=l[s],n=i&&i.prototype,n&&y(n,F,i);if((!R||!c(A)||A===Function.prototype)&&(A=function(){throw S("Incorrect invocation")},R))for(s in B)l[s]&&_(l[s],A);if((!R||!L||L===T)&&(L=A.prototype,R))for(s in B)l[s]&&_(l[s].prototype,L);if(R&&b(k)!==L&&_(k,L),o&&!h(L,I))for(s in E=!0,v(L,I,{get:function(){return d(this)?this[M]:void 0}}),B)l[s]&&y(l[s],M,s);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_CONSTRUCTOR:F,TYPED_ARRAY_TAG:E&&M,aTypedArray:N,aTypedArrayConstructor:P,exportTypedArrayMethod:U,exportTypedArrayStaticMethod:$,isView:V,isTypedArray:Y,TypedArray:A,TypedArrayPrototype:L}},8544:function(t,e,a){var s=a(7293);t.exports=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},9518:function(t,e,a){var s=a(7854),i=a(2597),n=a(614),r=a(7908),o=a(6200),l=a(8544),c=o("IE_PROTO"),d=s.Object,h=d.prototype;t.exports=l?d.getPrototypeOf:function(t){var e=r(t);if(i(e,c))return e[c];var a=e.constructor;return n(a)&&e instanceof a?a.prototype:e instanceof d?h:null}},4590:function(t,e,a){var s=a(7854),i=a(3002),n=s.RangeError;t.exports=function(t,e){var a=i(t);if(a%e)throw n("Wrong offset");return a}},3002:function(t,e,a){var s=a(7854),i=a(9303),n=s.RangeError;t.exports=function(t){var e=i(t);if(e<0)throw n("The argument can't be less than 0");return e}},8675:function(t,e,a){"use strict";var s=a(260),i=a(6244),n=a(9303),r=s.aTypedArray,o=s.exportTypedArrayMethod;o("at",(function(t){var e=r(this),a=i(e),s=n(t),o=s>=0?s:a+s;return o<0||o>=a?void 0:e[o]}))},3462:function(t,e,a){"use strict";var s=a(7854),i=a(6916),n=a(260),r=a(6244),o=a(4590),l=a(7908),c=a(7293),d=s.RangeError,h=s.Int8Array,u=h&&h.prototype,p=u&&u.set,y=n.aTypedArray,f=n.exportTypedArrayMethod,v=!c((function(){var t=new Uint8ClampedArray(2);return i(p,t,{length:1,0:3},1),3!==t[1]})),m=v&&n.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));f("set",(function(t){y(this);var e=o(arguments.length>1?arguments[1]:void 0,1),a=l(t);if(v)return i(p,this,a,e);var s=this.length,n=r(a),c=0;if(n+e>s)throw d("Wrong length");while(c<n)this[e+c]=a[c++]}),!v||m)},9215:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return x}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"product-container"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"date-box"},[a("v-btn",{class:"white-button "+t.dateClass.day,attrs:{depressed:""},on:{click:function(e){return t.setDateType("day")}}},[t._v(" 일간 ")]),a("v-btn",{class:"white-button "+t.dateClass.week,attrs:{depressed:""},on:{click:function(e){return t.setDateType("week")}}},[t._v("주간 ")]),a("v-btn",{class:"white-button "+t.dateClass.month,attrs:{depressed:""},on:{click:function(e){return t.setDateType("month")}}},[t._v("월간 ")]),a("v-btn",{class:"white-button "+t.dateClass.year,attrs:{depressed:""},on:{click:function(e){return t.setDateType("year")}}},[t._v("연간 ")])],1),"active"==t.dateClass.day||"active"==t.dateClass.week?a("div",{staticClass:"month-box"},[a("div",{staticClass:"day-item"},[a("v-menu",{ref:"dateMenu1",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:""},model:{value:t.stdate,callback:function(e){t.stdate=e},expression:"stdate"}},"v-text-field",i,!1),s))]}}],null,!1,23676521),model:{value:t.dateMenu1,callback:function(e){t.dateMenu1=e},expression:"dateMenu1"}},[a("v-date-picker",{on:{input:function(e){t.dateMenu1=!1}},model:{value:t.stdate,callback:function(e){t.stdate=e},expression:"stdate"}})],1)],1),a("div",{staticClass:"term"},[t._v(" ~")]),a("div",{staticClass:"day-item"},[a("v-menu",{ref:"dateMenu2",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:""},model:{value:t.endate,callback:function(e){t.endate=e},expression:"endate"}},"v-text-field",i,!1),s))]}}],null,!1,1752929061),model:{value:t.dateMenu2,callback:function(e){t.dateMenu2=e},expression:"dateMenu2"}},[a("v-date-picker",{on:{input:function(e){t.dateMenu2=!1}},model:{value:t.endate,callback:function(e){t.endate=e},expression:"endate"}})],1)],1)]):"active"==t.dateClass.month?a("div",{staticClass:"month-box"},[a("div",{staticClass:"day-item"},[a("v-menu",{ref:"menu1",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:"",suffix:"월"},model:{value:t.stmonth,callback:function(e){t.stmonth=e},expression:"stmonth"}},"v-text-field",i,!1),s))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{type:"month"},on:{input:function(e){t.menu1=!1}},model:{value:t.stmonth,callback:function(e){t.stmonth=e},expression:"stmonth"}})],1)],1),a("div",{staticClass:"term"},[t._v(" ~")]),a("div",{staticClass:"day-item"},[a("v-menu",{ref:"menu2",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:"",suffix:"월"},model:{value:t.enmonth,callback:function(e){t.enmonth=e},expression:"enmonth"}},"v-text-field",i,!1),s))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{type:"month"},on:{input:function(e){t.menu2=!1}},model:{value:t.enmonth,callback:function(e){t.enmonth=e},expression:"enmonth"}})],1)],1)]):a("div",{staticClass:"year-box"},[a("v-select",{staticClass:"year-item",attrs:{dense:"",items:t.yearList},model:{value:t.styear,callback:function(e){t.styear=e},expression:"styear"}}),a("span",[t._v(" ~ ")]),a("v-select",{staticClass:"year-item",attrs:{dense:"",items:t.yearList},model:{value:t.enyear,callback:function(e){t.enyear=e},expression:"enyear"}})],1),a("div",{staticClass:"button-box"},[a("v-btn",{staticClass:"white-button submit-button",attrs:{depressed:""},on:{click:function(e){return t.search()}}},[a("font-awesome-icon",{staticStyle:{"margin-right":"6px"},attrs:{icon:"fa-solid fa-magnifying-glass"}}),t._v(" 검색 ")],1)],1)]),a("div",{staticStyle:{"padding-right":"16px"}},[a("v-btn",{staticClass:"black-button",attrs:{type:"button",depressed:""},on:{click:function(e){return t.excelDateDown()}}},[t._v(" 다운로드현황 엑셀다운로드 ")])],1)]),a("div",{staticClass:"graph-box"},[t.chartShow?a("LineChartGenerator",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,height:t.height}}):a("v-progress-circular",{staticClass:"progress-box",attrs:{size:100,color:"#DD1B16",indeterminate:""}})],1),a("div",{staticClass:"status-box"},[a("div",{staticClass:"left-table"},[a("div",{staticClass:"table-title"},[t._v(" 누적 다운로드 "),a("span",{staticClass:"number blue-text"},[t._v("총 "+t._s(t.util.numberFormat(t.total))+"건")]),a("span",{staticClass:"date"},[t._v(t._s(t.label))])]),a("div",{staticClass:"data-box"},[a("ul",{staticClass:"graph-ul"},t._l(t.totalList,(function(e,s){return a("li",[s%2==0?a("div",{staticClass:"gbox",style:{background:e.color}},[a("div",{staticClass:"gtop"},[t._v(" 0"+t._s(s+1)+" ")]),a("div",{staticClass:"gmiddle"},[a("div",{staticClass:"gname"},[t._v(" "+t._s(e.orgFileName)+" ")]),a("div",{staticClass:"gdown"},[a("font-awesome-icon",{staticStyle:{"font-size":"12px"},attrs:{icon:"fa-solid fa-download"}}),t._v(" "+t._s(t.util.numberFormat(e.total))+" ")],1)]),a("div",{staticClass:"gbottom"},[t._v(" "+t._s(e.per)+" ")])]):a("div",{staticClass:"reverse-gbox",style:{background:e.color}},[a("div",{staticClass:"gbottom"},[t._v(" "+t._s(e.per)+" ")]),a("div",{staticClass:"gmiddle"},[a("div",{staticClass:"gdown"},[a("font-awesome-icon",{staticStyle:{"font-size":"12px"},attrs:{icon:"fa-solid fa-download"}}),t._v(" "+t._s(t.util.numberFormat(e.total))+" ")],1),a("div",{staticClass:"gname"},[t._v(" "+t._s(e.orgFileName)+" ")])]),a("div",{staticClass:"gtop"},[t._v(" 0"+t._s(s+1)+" ")])])])})),0)])]),a("div",{staticClass:"right-table"},[a("div",{staticClass:"data-box"},[a("table",{staticClass:"table",attrs:{cellspacing:"0",cellpadding:"0"}},[t._m(0),a("tbody",t._l(t.totalList,(function(e){return a("tr",[a("td",[a("span",{style:{background:e.color}}),t._v(" "+t._s(e.orgFileName)+" ")]),a("td",[t._v(t._s(e.total))]),a("td",[t._v(t._s(e.per))])])})),0)])]),a("div",{staticStyle:{padding:"30px 0 0 0","text-align":"right"}},[a("v-btn",{staticClass:"black-button",attrs:{type:"button",depressed:""},on:{click:function(e){return t.excelDown()}}},[t._v(" 다운로드순위 엑셀다운로드 ")])],1)])])]),a("div",{staticStyle:{display:"none"}},[a("table",{attrs:{border:"1",id:"excelDateTable"}},[a("thead",[a("tr",[a("th",[t._v("기간")]),t._l(t.excelDateList,(function(e){return a("th",[t._v(" "+t._s(e.label)+" ")])}))],2)]),a("tbody",t._l(this.tableDayList,(function(e,s){return a("tr",[a("td",[t._v(t._s(e))]),t._l(t.excelDateList,(function(e){return a("td",[t._v(t._s(e.data[s]))])}))],2)})),0)]),a("table",{attrs:{border:"1",id:"excelTable"}},[t._m(1),a("tbody",t._l(t.totalList,(function(e){return a("tr",[a("td",[a("span",{style:{background:e.color}}),t._v(" "+t._s(e.orgFileName)+" ")]),a("td",[t._v(t._s(e.total))]),a("td",[t._v(t._s(e.per))])])})),0)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("파일명")]),a("th",{staticStyle:{width:"100px"}},[t._v(" 누적다운로드")]),a("th",{staticStyle:{width:"100px"}},[t._v(" 지분율")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("파일명")]),a("th",{staticStyle:{width:"100px"}},[t._v(" 누적다운로드")]),a("th",{staticStyle:{width:"100px"}},[t._v(" 지분율")])])])}],n=(a(8675),a(3462),a(7889)),r=a(2728),o=a(8369),l=a(9317),c=a(1122);r.kL.register(r.Dx,r.u,r.De,r.jn,r.f$,r.uw,r.od);var d={components:{LineChartGenerator:n.x1},watch:{cmd(t){this.setInit()}},data(){return{util:c.Z,chartData:{labels:[],datasets:[]},chartOptions:{responsive:!0,maintainAspectRatio:!1},chartShow:!1,height:400,dateClass:{year:"",month:"",week:"",day:"active"},dateType:"day",dateMenu1:!1,dateMenu2:!1,stdate:"",endate:"",stmonth:"",enmonth:"",menu1:!1,menu2:!1,yearList:[],styear:"",enyear:"",dayList:[],total:0,label:"",totalList:[],colorList:["#C62828","#4A148C","#3949AB","#1E88E5","#00ACC1","#00897B","#43A047","#827717","#FFB300","#F4511E"],monthAllView:!1,excelDateList:[],excelList:[],tableDayList:[]}},created(){this.setInit()},methods:{setInit(){const t=new Date,e=t.getFullYear(),a=t.getDate()<10?"0"+t.getDate():t.getDate();for(let c=e;c>=2010;c--)this.yearList.push({text:c+"년",value:c});this.styear=e-5,this.enyear=t.getFullYear();let s=parseInt(t.getMonth())+1;s<10&&(s="0"+s);const i=new Date(e,parseInt(t.getMonth()-1),t.getDate()),n=new Date(e,t.getMonth(),0),r=n.getDate();let o=parseInt(i.getMonth())+1;o<10&&(o="0"+o);const l=t.getDate()>r?r:a;this.stmonth=i.getFullYear()+"-"+o,this.enmonth=e+"-"+s,this.stdate=e+"-"+o+"-"+l,this.endate=e+"-"+s+"-"+a,this.getData()},getData(){const t=this.setDataParams();switch(this.dateType){case"day":case"week":this.label="["+this.stdate+" ~ "+this.endate+"]";break;case"month":this.label="["+this.stmonth+" ~ "+this.enmonth+"]";break;case"year":this.label="["+this.styear+" ~ "+this.enyear+"]";break}o.Z.post(l.LB,t,(t=>{this.setGraph(t)}))},setDataParams(){this.chartShow=!1,this.setDateList();const t={dateType:this.dateType,styear:this.styear.toString(),enyear:this.enyear.toString(),stmonth:this.stmonth.toString(),enmonth:this.enmonth.toString(),stdate:this.stdate.toString(),endate:this.endate.toString()};return t},setDateList(){let t,e,a=0,s=0,i="";switch(this.tableDayList=[],this.dateType){case"day":case"week":let n=this.stdate.split("-"),r=new Date(n[0],n[1]-1,n[2]),o=this.endate.split("-"),l=new Date(o[0],o[1]-1,o[2]);if(i=l.getTime()-r.getTime(),i<0){let t={message:"시작일은 종료일보다 같거나 작아야 합니다"};return void this.$eventBus.$emit("modalOpen",t)}if("day"==this.dateType){let e=Math.abs(i/864e5);if(e>31){let t={message:"일별 통계는 기간 차이가 31일 이내여야 합니다 "};return void this.$eventBus.$emit("modalOpen",t)}this.dayList=[];let a=r.getMonth()+1,s=l.getMonth()+1,c=new Date(n[0],n[1],0);t=c.getDate();let d=r.getDate(),h=l.getDate();if(a!=s){for(let e=d;e<=t;e++){let t=e<10?"0"+e:e,s=a<10?"0"+a:a;this.dayList.push(s+"/"+t),this.tableDayList.push(n[0]+"-"+s+"-"+t)}d=1}for(let t=d;t<=h;t++){let e=t<10?"0"+t:t,a=s<10?"0"+s:s;this.dayList.push(a+"/"+e),this.tableDayList.push(o[0]+"-"+a+"-"+e)}}else{this.dayList=[];let t=["일","월","화","수","목","금","토"];for(let e=0;e<=6;e++)this.dayList.push(t[e]),this.tableDayList.push(t[e])}break;case"month":if(a=parseInt(this.stmonth.replace("-","")),s=parseInt(this.enmonth.replace("-","")),i=s-a,i<0){let t={message:"시작일은 종료일보다 같거나 작아야 합니다"};return void this.$eventBus.$emit("modalOpen",t)}let c=this.stmonth.split("-"),d=this.enmonth.split("-"),h=parseInt(c[0]),u=parseInt(d[0]),p=parseInt(c[1]),y=parseInt(d[1]);if(this.dayList=[],i>=99){this.monthAllView=!0;for(let t=1;t<=12;t++){let e=t<10?"0"+t:t;this.dayList.push(e),this.tableDayList.push(h+"-"+e)}}else{if(this.monthAllView=!1,h!=u){for(let t=p;t<=12;t++){let e=t<10?"0"+t:t,a=h<10?"0"+h:h;this.dayList.push(a+"/"+e),this.tableDayList.push(a+"-"+e)}p=1}for(let t=p;t<=y;t++){let e=t<10?"0"+t:t,a=h<10?"0"+h:h;this.dayList.push(a+"/"+e),this.tableDayList.push(a+"-"+e)}}break;case"year":if(parseInt(this.styear)>parseInt(this.enyear)){let t={message:"시작일은 종료일보다 같거나 작아야 합니다"};return void this.$eventBus.$emit("modalOpen",t)}t=this.enyear,e=this.styear,this.dayList=[];for(let a=e;a<=t;a++){let t=a<10?"0"+a:a;this.dayList.push(t),this.tableDayList.push(t)}break}},setDateType(t){this.dateType=t;for(const e in this.dateClass)this.dateClass[e]=e==t?"active":""},search(){this.getData()},setGraph(t){let e=0;for(const l of t.downTotalData)e+=l.total;this.total=e;let a=0;this.totalList=[];const s={},i={};for(const l in t.downData)i[l]=t.downData[l][0]["org_file_name"];for(const l of t.downTotalData){l.orgFileName=i[l["file_name"]];let t=l.total/e*100;l.per=parseInt(t)+"%",l.color=this.colorList[a],this.totalList.push(l),s[l["file_name"]]={fileName:l.orgFileName,list:{}},a++}this.chartData.labels=[];for(const l in t.downData)if(s[l])for(let e of t.downData[l]){let t=this.getIndexDateKey(e);s[l]["list"][t]||(s[l]["list"][t]=[]),s[l]["list"][t].push(e)}let n={},r="";a=1;for(const l of this.dayList){this.chartData.labels.push(l),r="week"==this.dateType?a:l;for(const t in s)if(n[t]||(n[t]=[]),s[t]["list"][r])for(const e of s[t]["list"][r])n[t].push(e.total);else n[t].push(0);a++}this.chartData.datasets=[],this.excelDateList=[];let o={};a=0;for(const l in s)o={label:s[l].fileName,backgroundColor:this.colorList[a],data:n[l]},this.excelDateList.push(o),this.chartData.datasets.push(o),a++;console.log(this.excelDateList),this.chartShow=!0},getIndexDateKey(t){let e;switch(this.dateType){case"day":return e=t.date.split("-"),e[1]+"/"+e[2];case"month":return this.monthAllView?t.date:(e=t.viewDate.split("-"),e[0]+"/"+e[1]);case"week":case"year":return t.date}},excelDateDown(){this.excelDownActive("date")},excelDown(){this.excelDownActive("list")},excelDownActive(t){const e=window.XLSX.utils.book_new();let a="다운로드현황",s="다운로드현황",i="excelDateTable";if("date"!=t)a="다운로드순위[",s="다운로드순위",i="excelTable";else switch(this.dateType){case"day":a+="[일간_";break;case"week":a+="[주간_";break;case"month":a+="[월간_";break;case"year":a+="[연간_";break}a=a+this.stdate+"_"+this.endate+"].xlsx";const n=window.XLSX.utils.table_to_sheet(document.getElementById(i));window.XLSX.utils.book_append_sheet(e,n,s);const r=window.XLSX.write(e,{bookType:"xlsx",type:"binary"});window.saveAs(new Blob([this.s2ab(r)],{type:"application/octet-stream"}),a)},s2ab(t){const e=new ArrayBuffer(t.length),a=new Uint8Array(e);for(var s=0;s<t.length;s++)a[s]=255&t.charCodeAt(s);return e}}},h=d,u=a(1001),p=a(3453),y=a.n(p),f=a(3150),v=a(7100),m=a(1152),b=a(624),_=a(4161),g=a(5978),w=(0,u.Z)(h,s,i,!1,null,"36cc4125",null),x=w.exports;y()(w,{VBtn:f.Z,VDatePicker:v.Z,VMenu:m.Z,VProgressCircular:b.Z,VSelect:_.Z,VTextField:g.Z})}}]);
//# sourceMappingURL=6849.025da7a5.js.map