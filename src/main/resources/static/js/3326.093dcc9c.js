"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[3326],{6719:function(t,e,s){s(3699),s(1122);var i=s(3069),o=s(9755),a=s.n(o);e["Z"]={id:"",uid:"",vue:null,streamRoomId:"",init(t,e){this.id=t.id,this.uid=t.uid,this.streamRoomId=this.id+"_"+this.uid,this.vue=e},sendToUser(t,e){let s={};switch(t.page){case"exam":"sendProblem"==t.action&&(this.sendRpcData(t.no,"insertProblem",e),s.userReponseParams={parentId:this.id,no:t.no,type:"insertProblem"},s.userReponseShow=!0),s.screenShow="close",s.close="loadExamShow";break;case"immExam":"sendProblem"==t.action&&(this.sendRpcData(t.no,"insertProblem",e),s.userReponseParams={parentId:this.id,no:t.no,type:"insertProblem"},s.userReponseShow=!0),s.screenShow="close",s.close="loadImmExamShow";break;case"quiz":"sendQuiz"==t.action&&(this.sendRpcData(t.no,"insertQuiz",e),s.userReponseParams={parentId:this.id,no:t.no,type:"insertQuiz"},s.userReponseShow=!0),s.screenShow="close",s.close="loadQuizShow";break;case"poll":"sendPoll"==t.action&&(this.sendRpcData(t.no,"insertPoll",e),s.userReponseParams={parentId:this.id,no:t.no,type:"insertPoll"},s.userReponseShow=!0),s.screenShow="close",s.close="loadPollShow";break;case"vote":"sendVote"==t.action&&(this.sendRpcData(t.no,"insertVote",e),s.userReponseParams={parentId:this.id,no:t.no,type:"insertVote"},s.userReponseShow=!0),s.screenShow="close",s.close="loadPollShow";break;case"userResponse":if("forceEnd"==t.action){let s="";switch(t.gtype){case"insertProblem":s="시험을";break;case"insertPoll":s="설문조사를";break;case"insertVote":s="투표를";break;case"insertQuiz":s="간단퀴즈를";break}let i={type:"confirm",message:s+" 강제 종료하시겠습니까?",doAction:()=>{this.modalResponse("forceResponseEnd"),a()("#app-response").hide(),e({cmd:"responseClose"})}};this.vue.$eventBus.$emit("modalOpen",i)}else if("barHide"==t.action){switch(t.gtype){case"insertProblem":s.responseTitle="시험 진행중";break;case"insertPoll":s.responseTitle="설문 진행중";break;case"insertVote":s.responseTitle="투표 진행중";break;case"insertQuiz":s.responseTitle="간단퀴즈 진행중";break}a()("#app-response").hide(),a()("#menu-response-box").show()}else a()("#app-response").hide(),s.userReponseShow="close";break;case"fileView":s.close="loadFileShow",s.fileNo="empty",s.screenShow="close";break;case"data":if("share"==t.action){s.fileNo=t.fdata.id,s.open="loadFileShow";let e={sendMethod:"insertFdata",data:t.fdata.id,responseMethod:"insertFdata"};i.Z.send(e,(t=>{}))}else s.screenShow="close";s.close="loadDataShow"}return s},sendRpcData(t,e,s){let o,n={sendMethod:e,data:t,responseMethod:e};switch(i.Z.send(n,(t=>{s({cmd:"responseOpen",data:t})})),e){case"insertProblem":o="시험을 출제하였습니다";break;case"insertPoll":o="설문조사를 시작하였습니다";break;case"insertVote":o="투료를 시작하였습니다";break;case"insertQuiz":o="간단퀴즈를 출제하였습니다";break}a()("#app-response").show();let r={type:"timeout",message:o};this.vue.$eventBus.$emit("modalOpen",r)},rpcSend(t){i.Z.send(t,(t=>{}))},modalResponse(t){switch(t){case"forceResponseEnd":let t={sendMethod:"forceResponseEnd",data:"none",responseMethod:"forceResponseEnd"};i.Z.send(t,(()=>{}));break}}}},6753:function(t,e,s){s.d(e,{Z:function(){return ht}});var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"zoom-layout"},[i("div",{attrs:{id:"screen-init"}}),t.mobile?i("div",[i("div",{staticClass:"header fixed"},[i("div",{staticClass:"subject-box"},[t._v(t._s(t.subject))]),i("div",{staticClass:"layout-box menu-response-mobile",attrs:{id:"menu-response-box"},on:{click:function(e){return t.openResponse()}}},[i("span",[t._v(t._s(t.responseTitle))]),t._v(" "+t._s(t.responseTimeInfo)+" "),i("span",{staticClass:"circle-box"},[i("font-awesome-icon",{staticClass:"fa-square",attrs:{icon:"fa-solid fa-square"}})],1)]),i("span",{staticClass:"time"},[i("font-awesome-icon",{staticClass:"fa-clock",attrs:{icon:"far fa-clock"}}),t._v(" "+t._s(t.timeInfo)+" ")],1),i("div",{staticClass:"end-button-mobile"},[i("v-btn",{staticClass:"end-button",attrs:{type:"button"},on:{click:function(e){return t.endMeeting()}}},[t._v("끝내기")])],1)]),i("div",{staticClass:"menu",attrs:{id:"bottom-menu-box"}},[i("ul",{staticClass:"menu-box"},[i("li",{on:{click:function(e){return t.loadMobileSubMenu("exam")}}},[i("img",{staticStyle:{width:"27px"},attrs:{src:s(8818)}}),i("span",{staticClass:"title-over posi-top"},[t._v("시험")]),t._v(" "),t.IsProblem?i("span",{staticClass:"is-dot"}):t._e()]),i("li",{on:{click:function(e){return t.loadComponent("quiz")}}},[i("img",{attrs:{src:s(9697)}}),i("span",{staticClass:"title-over"},[t._v("간단퀴즈")])]),t.IsPoll?i("li",{on:{click:function(e){return t.loadComponent("poll")}}},[i("img",{staticStyle:{width:"20px"},attrs:{src:s(2591)}}),i("span",{staticClass:"title-over"},[t._v("설문조사")]),t._v(" "),t.IsPoll?i("span",{staticClass:"is-dot"}):t._e()]):t._e(),t.IsVote?i("li",{on:{click:function(e){return t.loadComponent("vote")}}},[i("img",{staticStyle:{width:"35px","padding-top":"2px"},attrs:{src:s(4266)}}),i("span",{staticClass:"title-over"},[t._v("투표")]),t._v(" "),t.IsVote?i("span",{staticClass:"is-dot"}):t._e()]):t._e(),i("li",{on:{click:function(e){return t.loadComponent("data")}}},[i("img",{staticStyle:{width:"35px","padding-top":"2px"},attrs:{src:s(335)}}),i("span",{staticClass:"title-over"},[t._v("자료공유")]),t._v(" "),t.IsData?i("span",{staticClass:"is-dot"}):t._e()]),i("li",{on:{click:function(e){return t.loadMobileSubMenu("board")}}},[i("img",{staticStyle:{width:"20px"},attrs:{src:s(4170)}}),i("span",{staticClass:"title-over posi-top"},[t._v(t._s(t.zoomBoardName))]),t._v(" "),t.IsZoomBoard?i("span",{staticClass:"is-dot"}):t._e()])])]),i("v-dialog",{staticStyle:{"z-index":"1000000000000"},attrs:{width:"250"},model:{value:t.subMenuShow,callback:function(e){t.subMenuShow=e},expression:"subMenuShow"}},[i("div",{staticClass:"sub-menu-box"},[i("div",{staticClass:"sub-menu-header"},[i("div",{staticClass:"sub-menu-title"},[t._v(t._s(t.subMenuTitle))]),i("font-awesome-icon",{staticClass:"icon",attrs:{icon:"fa-solid fa-circle-xmark"},on:{click:function(e){t.subMenuShow=!1}}})],1),i("ul",{staticClass:"sub-box"},t._l(t.subMenuList,(function(e){return i("li",{staticClass:"sub-item",on:{click:function(s){return t.loadComponent(e.code)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])])],1):i("div",{staticClass:"header fixed"},[t.logoUrl?t._e():i("div",{staticClass:"logo"},[i("img",{attrs:{src:s(4427)}})]),t.logoUrl?i("div",{staticClass:"logo"},[i("img",{attrs:{src:t.logoUrl}})]):t._e(),i("span",{staticClass:"subject-box"},[i("span",{staticClass:"live-icon"},[t._v("LIVE")]),t._v("   "+t._s(t.subject))]),i("div",{staticClass:"menu"},[i("ul",{staticClass:"menu-box"},[i("li",[i("img",{staticStyle:{width:"27px"},attrs:{src:s(8818)}}),i("span",{staticClass:"title-over posi-top"},[t._v("시험")]),t._v(" "),t.IsProblem?i("span",{staticClass:"is-dot"}):t._e(),i("ul",{staticClass:"sub-box"},[i("li",{staticClass:"sub-item",on:{click:function(e){return t.loadComponent("exam")}}},[t._v("저장된 시험 불러오기")]),i("li",{staticClass:"sub-item",on:{click:function(e){return t.loadComponent("makeExam")}}},[t._v("즉시 만들기")])])]),i("li",{on:{click:function(e){return t.loadComponent("quiz")}}},[i("img",{attrs:{src:s(9697)}}),i("span",{staticClass:"title-over"},[t._v("간단퀴즈")])]),t.IsPoll?i("li",{on:{click:function(e){return t.loadComponent("poll")}}},[i("img",{staticStyle:{width:"20px"},attrs:{src:s(2591)}}),i("span",{staticClass:"title-over"},[t._v("설문조사")]),t._v(" "),t.IsPoll?i("span",{staticClass:"is-dot"}):t._e()]):t._e(),t.IsVote?i("li",{on:{click:function(e){return t.loadComponent("vote")}}},[i("img",{staticStyle:{width:"35px","padding-top":"2px"},attrs:{src:s(4266)}}),i("span",{staticClass:"title-over"},[t._v("투표")]),t._v(" "),t.IsVote?i("span",{staticClass:"is-dot"}):t._e()]):t._e(),i("li",{on:{click:function(e){return t.loadComponent("data")}}},[i("img",{staticStyle:{width:"35px","padding-top":"2px"},attrs:{src:s(335)}}),i("span",{staticClass:"title-over"},[t._v("자료공유")]),t._v(" "),t.IsData?i("span",{staticClass:"is-dot"}):t._e()]),i("li",[i("img",{staticStyle:{width:"20px"},attrs:{src:s(4170)}}),i("span",{staticClass:"title-over posi-top"},[t._v(t._s(t.zoomBoardName))]),t._v(" "),t.IsZoomBoard?i("span",{staticClass:"is-dot"}):t._e(),i("ul",{staticClass:"sub-box"},[i("li",{staticClass:"sub-item",on:{click:function(e){return t.loadComponent("boardWrite")}}},[t._v("글 작성")]),i("li",{staticClass:"sub-item",on:{click:function(e){return t.loadComponent("board")}}},[t._v("게시글 보기")])])])])]),i("div",{staticClass:"right-box"},[i("ul",{staticClass:"right-ui"},[i("li",{staticClass:"response-info"},[i("div",{staticClass:"layout-box",attrs:{id:"menu-response-box"},on:{click:function(e){return t.openResponse()}}},[i("span",[t._v(t._s(t.responseTitle))]),t._v(" "+t._s(t.responseTimeInfo)+" "),i("span",{staticClass:"circle-box"},[i("font-awesome-icon",{staticClass:"fa-square",staticStyle:{"font-size":"8px"},attrs:{icon:"fa-solid fa-square"}})],1)])]),i("li",{staticClass:"time-info"},[i("span",[i("font-awesome-icon",{staticClass:"fa-clock",attrs:{icon:"far fa-clock"}}),t._v(" 방송시간 ")],1),t._v(" "+t._s(t.timeInfo))]),i("li",[i("v-btn",{staticClass:"end-button",attrs:{type:"button"},on:{click:function(e){return t.endMeeting()}}},[t._v("끝내기")])],1)])])]),t.screenShow?i("div",{staticClass:"screenLayout"},[t.loadExamShow?i("examView",{attrs:{gno:t.id},on:{hideEvent:t.screenBoxHIde}}):t._e(),t.loadImmExamShow?i("examMake",{attrs:{gno:t.id},on:{hideEvent:t.screenBoxHIde}}):t._e(),t.loadPollShow?i("pollView",{attrs:{gno:t.id},on:{hideEvent:t.screenBoxHIde}}):t._e(),t.loadQuizShow?i("quizMake",{attrs:{gno:t.id},on:{hideEvent:t.screenBoxHIde}}):t._e(),t.loadVoteShow?i("voteView",{attrs:{gno:t.id},on:{hideEvent:t.screenBoxHIde}}):t._e(),t.loadDataShow?i("hostDataView",{attrs:{gno:t.id},on:{hideEvent:t.screenBoxHIde}}):t._e(),t.loadFileShow?i("liveFileView",{attrs:{no:t.fileNo},on:{hideEvent:t.screenBoxHIde}}):t._e(),t.zoomBoardUpdateShow||t.zoomBoardListShow||t.zoomBoardViewShow?i("div",{staticClass:"board-layout"},[t.zoomBoardUpdateShow?i("boardRegist",{attrs:{parentId:t.id,no:t.updArticleNo,compontentType:"live"},on:{hideEvent:t.zoomBoardBoxHIde}}):t._e(),t.zoomBoardListShow?i("boardList",{attrs:{parentId:t.id,compontentType:"live"},on:{articleView:t.showArticleView,hideEvent:t.zoomBoardBoxHIde}}):t._e(),t.zoomBoardViewShow?i("boardView",{attrs:{parentId:t.id,no:t.articleNo,compontentType:"live"},on:{articleUpdate:t.updateArticle,hideEvent:t.zoomBoardBoxHIde}}):t._e()],1):t._e()],1):t._e(),i("div",{staticClass:"screenLayout",attrs:{id:"app-response"}},[t.userReponseShow?i("response",{attrs:{params:t.userReponseParams,realUserJoinList:t.realUserJoinList,realUserActive:t.realUserActive},on:{hideEvent:t.screenBoxHIde}}):t._e()],1),t.badScreenShow?i("div",{staticClass:"blackScreenLayout"},[i("div",{staticClass:"bad-modal-box"},[i("h3",[t._v("관리자에 의해 라이브 강제 종료")]),i("div",{staticClass:"message",domProps:{innerHTML:t._s(t.adminBadMessage)}}),i("div",{staticClass:"button-row"},[i("v-btn",{staticClass:"end-button",attrs:{type:"button"},on:{click:function(e){return t.badDoAction()}}},[t._v("확인")])],1)])]):t._e(),t.completeScreenShow?i("div",{staticClass:"blackScreenLayout"},[i("div",{staticClass:"complete-content"},[i("div",{staticClass:"title-box"},[i("div",{staticClass:"gtitle"},[t._v(t._s(t.subject)+" > 라이브 완료")]),i("div",{staticClass:"del-box",on:{click:function(e){return t.completeLive()}}},[i("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-times"}})],1)]),i("div",{staticClass:"contents"},[t._m(0),i("div",{staticClass:"text-box"},[i("div",{staticClass:"subject"},[t._v(t._s(t.subject))]),i("div",{staticClass:"author"},[t._v(t._s(t.userName))]),i("ul",{staticClass:"result-ul"},[i("li",[i("div",{staticClass:"li-title"},[t._v("참가자 수")]),i("div",{staticClass:"li-value"},[t._v(t._s(t.joinCnt))])]),i("li",[i("div",{staticClass:"li-title"},[t._v("최대 시청자 수")]),i("div",{staticClass:"li-value"},[t._v(t._s(t.watchCnt))])]),i("li",[i("div",{staticClass:"li-title"},[t._v("라이브 시간")]),i("div",{staticClass:"li-value"},[t._v(t._s(t.liveTime))])])])])]),i("div",{staticClass:"button-row"},[i("v-btn",{staticClass:"cancle",attrs:{type:"button"},on:{click:function(e){return t.completeLive()}}},[t._v("닫기")]),i("v-btn",{staticClass:"end-button",attrs:{type:"button"},on:{click:function(e){return t.goAfter()}}},[t._v("사용후 관리 살펴보기")])],1)])]):t._e()])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img-box"},[s("h3",[t._v("방송이 종료되었습니다.")]),s("div",{staticClass:"tip"},[t._v("수고하셨습니다. 사용해 주셔서 감사합니다.")])])}],a=s(7905),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{class:"exam-make-box "+t.mobileClass},[s("div",{staticClass:"title-box"},[s("div",{staticClass:"exam-title"},[t._v("시험 즉시 만들기")]),s("div",{staticClass:"del-box",on:{click:function(e){return t.hideEventBox()}}},[s("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-times"}})],1)]),s("div",{staticClass:"contentsBox"},[s("div",{staticClass:"from-box"},[t.makeShow?s("examDirectMake",{attrs:{sendParams:t.sendParams},on:{backChange:function(e){t.makeShow=!1},submitResult:t.submitResult}}):s("div",[s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}}},[s("ul",{staticClass:"field-box"},[s("li",[s("div",{staticClass:"required-icon"},[t._v("시험명 입력")]),s("div",{staticClass:"field-input"},[s("v-text-field",{attrs:{required:"",dense:t.dense,placeholder:"시험명을 입력하세요","error-messages":t.nameErrors,outlined:""},on:{input:function(e){return t.$v.name.$touch()},blur:function(e){return t.$v.name.$touch()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)]),s("li",[s("div",{staticClass:"required-icon"},[t._v("출제자 입력")]),s("div",{staticClass:"field-input"},[s("v-text-field",{attrs:{required:"",placeholder:"출제자를 입력하세요","error-messages":t.authorErrors,outlined:"",dense:t.dense},on:{input:function(e){return t.$v.author.$touch()},blur:function(e){return t.$v.author.$touch()}},model:{value:t.author,callback:function(e){t.author=e},expression:"author"}})],1)]),s("li",[s("div",{staticClass:"required-icon"},[t._v("제한시간 입력")]),s("div",{staticClass:"field-input"},[s("v-text-field",{attrs:{required:"",dense:t.dense,placeholder:"제한시간을 숫자로 입력하세요 (단위:분)","error-messages":t.timelimitErrors,outlined:""},on:{input:function(e){return t.$v.timelimit.$touch()},blur:function(e){return t.$v.timelimit.$touch()}},model:{value:t.timelimit,callback:function(e){t.timelimit=e},expression:"timelimit"}})],1)]),s("li",[s("div",{staticClass:"required-icon"},[t._v("총배점 입력")]),s("div",{staticClass:"field-input"},[s("v-text-field",{attrs:{required:"",placeholder:"총배점을 숫자로 입력하세요","error-messages":t.totalJumsuErrors,outlined:"",dense:t.dense},on:{input:function(e){return t.$v.totalJumsu.$touch()},blur:function(e){return t.$v.totalJumsu.$touch()}},model:{value:t.totalJumsu,callback:function(e){t.totalJumsu=e},expression:"totalJumsu"}})],1)])]),s("p",{staticClass:"submit-button-box"},[t.mobileView?t._e():s("v-btn",{staticClass:"cancle-button",attrs:{type:"button"},on:{click:function(e){return t.hideEventBox()}}},[t._v(" 취소 ")]),s("v-btn",{staticClass:"submit-button",attrs:{type:"submit"}},[t._v(" 문제 설정 ")])],1)])])],1)])])])},r=[],l=s(8620),c=s(379),u=s(2756),d={name:"examMake",props:["gno"],components:{examDirectMake:u.Z},mixins:[l.oE],validations:{name:{required:c.C1},author:{required:c.C1},timelimit:{required:c.C1,numeric:c.uR},totalJumsu:{required:c.C1,numeric:c.uR}},data(){return{insertFlag:!1,mobileView:!1,mobileClass:"",name:"",author:"",timelimit:"",totalJumsu:100,makeShow:!1,sendParams:{},dense:!1}},created(){this.$isMobile()&&(this.mobileClass="mobile",this.mobileView=!0,this.dense=!0)},computed:{nameErrors(){const t=[];return this.$v.name.$dirty?(this.$v.name.required||t.push("시험명을 입력하세요"),t):t},authorErrors(){const t=[];return this.$v.author.$dirty?(this.$v.author.required||t.push("출제자를 입력하세요"),t):t},timelimitErrors(){const t=[];return this.$v.timelimit.$dirty?(this.$v.timelimit.required||t.push("제한시간을 입력하세요"),this.$v.timelimit.numeric||t.push("제한시간은 숫자만 입력가능합니다"),t):t},totalJumsuErrors(){const t=[];return this.$v.totalJumsu.$dirty?(this.$v.totalJumsu.required||t.push("총배점을 입력하세요"),this.$v.totalJumsu.numeric||t.push("총배점은 숫자만 입력가능합니다"),t):t}},methods:{hideEventBox(){this.$emit("hideEvent",{page:"immExam"})},submitResult(t){this.$emit("hideEvent",{page:"immExam",action:"sendProblem",no:t})},validate(){this.$v.$touch(),this.$v.$anyError||(this.sendParams={name:this.name,author:this.author,timelimit:this.timelimit,totalJumsu:this.totalJumsu,sendType:"immExam",parentId:this.gno},this.makeShow=!0)}}},h=d,m=s(1001),p=s(3453),b=s.n(p),v=s(3150),f=s(5978),w=(0,m.Z)(h,n,r,!1,null,null,null),g=w.exports;b()(w,{VBtn:v.Z,VTextField:f.Z});var C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"exam-content "+t.mobileClass},[s("div",{staticClass:"title-box"},[s("div",{staticClass:"dt-title"},[t._v(t._s(t.subject))]),s("div",{staticClass:"del-box",on:{click:function(e){return t.hideEventBox()}}},[s("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-times"}})],1)]),s("div",{staticClass:"contents"},[s("div",{staticClass:"data-list-box"},t._l(t.dataList,(function(e,i){return s("div",{staticClass:"data-list-item"},[s("div",{staticClass:"data-list-top"},[s("div",{staticClass:"dt-title"},[s("span",[t._v(t._s(i+1)+".")]),t._v(" "+t._s(e.question))])]),"mchoice"==e.prbType?s("ul",{staticClass:"data-list"},t._l(e.items,(function(i,o){return s("li",{class:o+1==e.good?"active":""},[s("span",[t._v(t._s(o+1))]),t._v(" "+t._s(i.answer)+" ")])})),0):t._e(),"subject"==e.prbType?s("div",{staticClass:"subjectAnswer"}):t._e()])})),0)]),s("div",{staticClass:"bottom-box"},[s("div",{staticClass:"author"}),s("div",{staticClass:"timelimit"}),s("div",{staticClass:"button"},["live"==t.viewType?s("v-btn",{attrs:{color:"submit-button",type:"button"},on:{click:function(e){return t.takeProblem()}}},[t._v("화면에 적용하기")]):t._e(),"after"==t.viewType?s("v-btn",{attrs:{color:"submit-button",type:"button"},on:{click:function(e){return t.hideEventBox()}}},[t._v("닫기")]):t._e()],1)])])},_=[],x=s(5494),S=s(9248),y={name:"pollView",props:["gno"],data(){return{mobileView:!1,mobileClass:"",no:"",dataList:[],viewType:"live",subject:"",status:""}},created(){this.$isMobile()&&(this.mobileClass="mobile",this.mobileView=!0),this.getPoll()},methods:{hideEventBox(){this.$emit("hideEvent",{page:"poll"})},getPoll(){this.dataList=[];const t={parentId:this.gno.toString()};S.Z.post(x.n,t,(t=>{this.subject=t.info.subject,this.no=parseInt(t.info.id),this.status=t.info.status;for(let e of JSON.parse(t.info.problems))e.show=!1,e.checked=!1,this.dataList.push(e);console.log(this.dataList)}))},takeProblem(){if(!this.no)return;if("complete"==this.status){let t={message:"이미 조사완료된 설문입니다"};return void this.$eventBus.$emit("modalOpen",t)}const t={id:this.no.toString(),status:"complete"};S.Z.post(x.aE,t,(t=>{this.$emit("hideEvent",{page:"poll",action:"sendPoll",no:this.gno})}))}}},$=y,k=(0,m.Z)($,C,_,!1,null,"79bbb169",null),I=k.exports;b()(k,{VBtn:v.Z});var E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"exam-make-box "+t.mobileClass},[s("div",{staticClass:"title-box"},[s("div",{staticClass:"exam-title"},[t._v("간단 퀴즈 만들기")]),s("div",{staticClass:"del-box",on:{click:function(e){return t.hideEventBox()}}},[s("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-times"}})],1)]),s("div",{staticClass:"contents"},[s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}}},[s("ul",{staticClass:"field-box"},[s("li",[s("div",{staticClass:"required-icon"},[t._v("문항 유형")]),s("div",{staticClass:"field-input"},[s("v-select",{attrs:{items:t.prbTypeList,outlined:"",placeholder:"문항유형을 선택하세요","error-messages":t.prbTypeErrors,dense:t.dense},on:{input:function(e){return t.$v.prbType.$touch()},blur:function(e){return t.$v.prbType.$touch()}},model:{value:t.prbType,callback:function(e){t.prbType=e},expression:"prbType"}})],1)]),s("li",[s("div",{staticClass:"required-icon"},[t._v("문항 제목")]),s("div",{staticClass:"field-input"},[s("v-text-field",{attrs:{required:"",placeholder:"제목을 입력하세요","error-messages":t.questionErrors,dense:t.dense,outlined:""},on:{input:function(e){return t.$v.question.$touch()},blur:function(e){return t.$v.question.$touch()}},model:{value:t.question,callback:function(e){t.question=e},expression:"question"}})],1)])]),"mchoice"==t.prbType?s("ul",{staticClass:"problem-ul"},[t._m(0),s("li",{staticClass:"list-content"},[s("ul",{staticClass:"item-box"},t._l(t.items,(function(e,i){return s("li",[s("div",{staticClass:"th"},[t._v(" 답안 선택 "+t._s(i+1)+" ")]),s("div",{staticClass:"td"},[s("v-text-field",{attrs:{placeholder:"답안 선택값을 입력해주세요","error-messages":e.answerErrors,outlined:"",dense:t.dense},on:{input:function(e){return t.itemAnswerTouch(i)},blur:function(e){return t.itemAnswerTouch(i)}},model:{value:e.answer,callback:function(s){t.$set(e,"answer",s)},expression:"item.answer"}})],1),s("div",{staticClass:"control-box"},[0==i&&t.addButtonShow?s("span",{staticClass:"plus",on:{click:function(e){return t.addProblemItem()}}},[s("font-awesome-icon",{attrs:{icon:"fas fa-plus"}})],1):t._e(),i>0?s("span",{on:{click:function(e){return t.deleteProblemItem(i)}}},[s("font-awesome-icon",{attrs:{icon:"fas fa-minus"}})],1):t._e()])])})),0)])]):t._e(),t.prbType?s("ul",{staticClass:"field-box"},[s("li",[s("div",{staticClass:"required-icon"},[t._v("정답 답안")]),"subject"==t.prbType?s("div",{staticClass:"field-input"},[s("v-text-field",{attrs:{placeholder:"답안을 입력해 주세요","error-messages":t.subjectGoodErrors,outlined:"",dense:t.dense},on:{input:function(e){return t.subjectGoodTouch()},blur:function(e){return t.subjectGoodTouch()}},model:{value:t.subjectGood,callback:function(e){t.subjectGood=e},expression:"subjectGood"}})],1):s("div",{staticClass:"field-input"},[s("v-select",{attrs:{items:t.goodList,outlined:"",placeholder:"답안을 선택하세요","error-messages":t.goodErrors,dense:t.dense},on:{input:function(e){return t.goodTouch()},blur:function(e){return t.goodTouch()}},model:{value:t.good,callback:function(e){t.good=e},expression:"good"}})],1)])]):t._e(),s("p",{staticClass:"submit-button-box"},[t.mobileView?t._e():s("v-btn",{staticClass:"cancle-button",attrs:{type:"button"},on:{click:function(e){return t.hideEventBox()}}},[t._v(" 취소 ")]),s("v-btn",{staticClass:"submit-button",attrs:{type:"submit"}},[t._v(" 출제완료 ")])],1)])])])},B=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"list-title"},[t._v(" 답"),s("br"),t._v("안"),s("br"),t._v("선"),s("br"),t._v("택 ")])}],T=s(3699),L={name:"quizMake",mixins:[l.oE],props:["gno"],validations:{prbType:{required:c.C1},question:{required:c.C1}},data(){return{insertFlag:!1,mobileView:!1,mobileClass:"",prbType:"",prbTypeList:[{text:"객관식",value:"mchoice"},{text:"주관식",value:"subject"}],question:"",items:[],addButtonShow:!1,subjectGood:"",good:"",goodList:[],subjectGoodErrors:[],goodErrors:[],dense:!1}},created(){this.$isMobile()&&(this.mobileClass="mobile",this.mobileView=!0,this.dense=!0),this.setChoiceProblem()},computed:{prbTypeErrors(){const t=[];return this.$v.prbType.$dirty?(this.$v.prbType.required||t.push("문항유형을 선택하세요"),t):t},questionErrors(){const t=[];return this.$v.question.$dirty?(this.$v.question.required||t.push("문항제목을 입력하세요"),t):t}},methods:{hideEventBox(){this.$emit("hideEvent",{page:"quiz"})},setChoiceProblem(){this.problemList=[],this.items=[],this.subjectGood="",this.prbType="",this.question="",this.good=0;for(let t=0;t<5;t++){let t={answer:"",answerErrors:[]};this.items.push(t)}this.setGoodList()},itemAnswerTouch(t){this.items[t].answerErrors=[],this.items[t].answer||this.items[t].answerErrors.push(t+1+"번 답안을 입력하세요")},addProblemItem(){let t={answer:"",answerErrors:[]};this.items.push(t),this.setGoodList(),this.items.length>=5&&(this.addButtonShow=!1)},deleteProblemItem(t){this.items.splice(t,1),this.items.length<5&&(this.addButtonShow=!0),this.setGoodList()},setGoodList(){this.goodList=[];for(let t=1;t<=this.items.length;t++)this.goodList.push({text:t+"번",value:t})},subjectGoodTouch(){this.subjectGoodErrors=[],this.subjectGood||this.subjectGoodErrors.push("정답 답안을 입력해주세요")},goodTouch(){this.goodErrors=[],this.good||this.goodErrors.push("정답 답안을 선택해주세요")},validate(){if(this.$v.$touch(),!this.$v.$anyError){let t=!0;if("mchoice"==this.prbType){let e=0;for(let s of this.items)s.answer||(t=!1,this.itemAnswerTouch(e)),e++;this.good||(this.goodTouch(),t=!1)}else this.subjectGood||(t=!1,this.subjectGoodTouch());if(!t)return;this.formSubmit()}},formSubmit(){if(this.insertFlag)return;this.insertFlag=!0;const t={parentId:this.gno.toString(),question:this.question,good:this.good.toString(),items:JSON.stringify(this.items),prbType:this.prbType,subjectGood:this.subjectGood};this.$eventBus.$emit("overlay","show"),S.Z.post(x.ef,t,(t=>{this.$eventBus.$emit("overlay","hide");let e={};this.insertFlag=!1,e={message:"간단 퀴즈를 출제하였습니다",doAction:()=>{this.$emit("hideEvent",{page:"quiz",action:"sendQuiz",no:t.info.id})}},this.$eventBus.$emit("modalOpen",e)}))}}},j=L,P=s(4161),q=(0,m.Z)(j,E,B,!1,null,"2b434770",null),V=q.exports;b()(q,{VBtn:v.Z,VSelect:P.Z,VTextField:f.Z});var M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"exam-content "+t.mobileClass},[s("div",{staticClass:"title-box"},[s("div",{staticClass:"dt-title"},[t._v(t._s(t.subject))]),s("div",{staticClass:"del-box",on:{click:function(e){return t.hideEventBox()}}},[s("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-times"}})],1)]),s("div",{staticClass:"contents"},[s("div",{staticClass:"data-list-box"},[s("div",{staticClass:"data-list-item"},[s("ul",{staticClass:"data-list"},t._l(t.dataList,(function(e,i){return s("li",[s("span",[t._v(t._s(i+1))]),t._v(" "+t._s(e.answer)+" ")])})),0)])])]),s("div",{staticClass:"bottom-box"},[s("div",{staticClass:"author"}),s("div",{staticClass:"timelimit"}),s("div",{staticClass:"button"},["live"==t.viewType?s("v-btn",{attrs:{color:"submit-button",type:"button"},on:{click:function(e){return t.takeProblem()}}},[t._v("화면에 적용하기")]):t._e(),"after"==t.viewType?s("v-btn",{attrs:{color:"submit-button",type:"button"},on:{click:function(e){return t.hideEventBox()}}},[t._v("닫기")]):t._e()],1)])])},R=[],z={name:"voteView",props:["gno"],data(){return{mobileView:!1,mobileClass:"",no:"",dataList:[],viewType:"live",subject:"",status:""}},created(){this.$isMobile()&&(this.mobileClass="mobile",this.mobileView=!0),this.getPoll()},methods:{hideEventBox(){this.$emit("hideEvent",{page:"vote"})},getPoll(){this.dataList=[];const t={parentId:this.gno.toString()};S.Z.post(x.ym,t,(t=>{this.subject=t.info.subject,this.no=parseInt(t.info.id),this.status=t.info.status;for(let e of JSON.parse(t.info.items))this.dataList.push(e)}))},takeProblem(){if(!this.no)return;if("complete"==this.status){let t={message:"이미 조사완료된 투표입니다"};return void this.$eventBus.$emit("modalOpen",t)}const t={id:this.no.toString(),status:"complete"};S.Z.post(x.zk,t,(t=>{this.$emit("hideEvent",{page:"vote",action:"sendVote",no:this.gno})}))}}},Z=z,U=(0,m.Z)(Z,M,R,!1,null,"1e834e46",null),A=U.exports;b()(U,{VBtn:v.Z});var G=s(6603),D=s(9067),J=s(6922),F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"exam-content "+t.mobileClass},[s("div",{staticClass:"title-box"},[s("div",{staticClass:"dt-title"},[t._v("자료공유")]),s("div",{staticClass:"del-box",on:{click:function(e){return t.hideEventBox()}}},[s("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-times"}})],1)]),s("div",{staticClass:"contents"},[s("div",{staticClass:"data-list-box"},[s("ul",{staticClass:"data-list"},t._l(t.dataList,(function(e,i){return s("li",{key:e.id,on:{click:function(e){return t.getDataInfo(i)}}},[s("span",{staticClass:"gtype"},[t._v("자료")]),s("div",{staticClass:"subject"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"date"},[t._v(t._s(e.viewDate))])])})),0)])]),s("div",{staticClass:"bottom-box"},[s("div",{staticClass:"button"},[t.mobileView?t._e():s("v-btn",{staticClass:"cancle",attrs:{type:"button"},on:{click:function(e){return t.hideEventBox()}}},[t._v("닫기")]),s("v-btn",{staticClass:"submit-button",attrs:{type:"button"},on:{click:function(e){return t.showFileBox()}}},[t._v("파일 업로드 ")])],1)]),s("v-dialog",{attrs:{width:"420"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[t.fileUploadShow?s("div",{class:"container-box "+t.mobileClass},[s("div",{staticClass:"del-box",on:{click:function(e){return t.hideFileBox()}}},[s("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-times"}})],1),s("div",{staticClass:"gtitle"},[t._v("파일 업로드 하기")]),t.uploadBoxShow?s("div",{staticClass:"uploadBox"},[s("ul",{staticClass:"button-list"},[s("li",[s("v-btn",{staticClass:"submit-button",attrs:{type:"button"}},[t._v("파일 선택하기"),s("input",{attrs:{type:"file",id:"uploadFile",accept:".hwp,.pdf,.xls,.docx,.doc,.xlsx"},on:{change:t.openFile}})])],1)]),s("div",{staticClass:"tip",staticStyle:{"padding-top":"10px"}},[t._v(" ※ 지원 파일 확장자 : doc, xlsx, ppt, pdf, hwp"),s("br"),t._v(" ※ 1MB 이하로 제한됩니다. ")])]):t._e()]):t._e()])],1)},N=[],O={name:"liveHostDataView",data(){return{mobileView:!1,mobileClass:"",dataList:[],modalShow:!1,fileUploadShow:!1,uploadBoxShow:""}},props:["gno"],created(){this.$isMobile()&&(this.mobileView=!0,this.mobileClass="mobile"),this.getData()},methods:{hideEventBox(){this.$emit("hideEvent",{page:"data"})},getData(){const t={parentId:this.gno.toString()};S.Z.post(x.b5,t,(t=>{this.dataList=[];for(let e of t.fileList){let t=e.createAt.toString();e.viewDate=t.substring(0,10),this.dataList.push(e)}}))},openFile(t){let e=t.target.files[0],s=e.name,i=s.split("."),o=i[i.length-1];const a=new FormData;a.append("parentId",this.gno.toString()),a.append("ext",o),a.append("name",s),a.append("dataFile",e),this.$eventBus.$emit("overlay","open"),S.Z.postFile(x.FD,a,(t=>{this.$eventBus.$emit("overlay","hide"),this.getData(),this.fileUploadShow=!1,this.modalShow=!1}))},showFileBox(){this.modalShow=!0,this.fileUploadShow=!0,this.uploadBoxShow=!0},hideFileBox(){this.modalShow=!1,this.fileUploadShow=!1},getDataInfo(t){let e=this.dataList[t],s="hwp"==e.ext?"hwp 파일은 다운로드만 가능합니다<br>자료를 공유 하시겠습니까?":"선택된 자료를 공유하시겠습니까?",i={type:"confirm",message:s,doAction:()=>{this.shareDataChoice(e)}};this.$eventBus.$emit("modalOpen",i)},shareDataChoice(t){const e={id:t.id.toString()};S.Z.post(x.E_,e,(e=>{this.$emit("hideEvent",{page:"data",action:"share",fdata:t})}))}}},H=O,Q=s(6662),W=(0,m.Z)(H,F,N,!1,null,"34048f5e",null),K=W.exports;b()(W,{VBtn:v.Z,VDialog:Q.Z});var X=s(241),Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"exam-content "+t.mobileClass},[s("div",{staticClass:"title-box"},[s("div",{staticClass:"gtitle"},[t._v(t._s(t.subject))]),s("div",{staticClass:"del-box",on:{click:function(e){return t.barHideBox()}}},[s("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-minus"}})],1)]),s("div",{staticClass:"contents"},[s("div",{staticClass:"data-list-box"},t._l(t.dataList,(function(e,i){return s("div",{staticClass:"data-list-item"},[s("div",{staticClass:"data-list-top"},[s("div",{staticClass:"gtitle"},[s("span",[t._v(t._s(i+1)+".")]),t._v(" "+t._s(e.name))]),s("div",{staticClass:"result"},[t._v(t._s(e.complete))])])])})),0)]),s("div",{staticClass:"bottom-box"},[t.mobileView?s("div",{staticClass:"bottom-mobile"},[s("div",{staticClass:"bottom-mobile-flex"},[s("div",{staticClass:"author"},["insertProblem"==t.type?s("div",[t._v(" 출제자"),s("br"),t._v(" "),s("span",[t._v(t._s(t.author))])]):t._e()]),s("div",{staticClass:"timelimit"},["insertProblem"==t.type?s("div",[t._v("제한시간"),s("br"),t._v(" "),s("span",[t._v(t._s(t.timelimit))]),t._v("분")]):t._e()]),s("div",{staticClass:"remain-time"},["insertProblem"==t.type?s("div",[t._v("남은시간"),s("br"),s("span",[t._v(t._s(t.remainTime))]),t._v("분 "),s("span",[t._v(t._s(t.remainSec))]),t._v("초 ")]):t._e()])]),s("div",{staticClass:"button"},[s("v-btn",{attrs:{type:"button"},on:{click:function(e){return t.forecEnd()}}},[t._v(" "+t._s(t.endButtonMsg))])],1)]):s("div",{staticClass:"bottom-pc"},[s("div",{staticClass:"author"},["insertProblem"==t.type?s("div",{staticStyle:{"line-height":"110%"}},[t._v(" 출제자 : "),s("span",[t._v(t._s(t.author))])]):t._e()]),s("div",{staticClass:"timelimit"},["insertProblem"==t.type?s("div",[t._v("제한시간 : "),s("span",[t._v(t._s(t.timelimit))]),t._v("분")]):t._e()]),s("div",{staticClass:"remain-time"},["insertProblem"==t.type?s("div",[t._v("남은시간 : "),s("span",[t._v(t._s(t.remainTime))]),t._v("분 "),s("span",[t._v(t._s(t.remainSec))]),t._v("초 ")]):t._e()]),s("div",{staticClass:"button"},[s("v-btn",{attrs:{type:"button"},on:{click:function(e){return t.forecEnd()}}},[t._v(" "+t._s(t.endButtonMsg))])],1)])])])},tt=[],et={name:"response",props:["params","realUserJoinList","realUserActive"],data(){return{mobileView:!1,mobileClass:"",dataList:[],pno:0,no:0,type:"",author:"",timelimit:"",subject:"",remainTime:10,remainSec:"",intreval:null,endButtonMsg:"강제종료",endProblem:!1,dbJoinList:[],initFlag:!1}},watch:{realUserActive(t){}},created(){this.$isMobile()&&(this.mobileClass="mobile",this.mobileView=!0),this.$eventBus.$on("liveUserResponse",this.parentAction),this.pno=this.params.parentId,this.no=this.params.no,this.type=this.params.type,this.getMeetingUser()},methods:{getMeetingUser(){this.dataList=[];const t={parentId:this.pno.toString(),id:this.no.toString(),gtype:this.type};S.Z.post(x.J7,t,(t=>{switch(this.type){case"insertProblem":this.subject=t.info.subject+" - 시험관리",this.author=t.info.author,this.timelimit=parseInt(t.info.timeLimit),this.initFlag||this.checkTime(),this.initFlag=!0;break;case"insertPoll":this.subject=t.info.subject+" - 설문관리";break;case"insertVote":this.subject=t.info.subject+" - 투료관리";break;case"insertQuiz":this.subject=t.info.question+" - 간단퀴즈관리";break}let e={};if(t.userResponses)for(const i of t.userResponses)e[i.uid]=i.uid;let s=0;for(let i of t.joinUserList)e[i.uid]?(i.complete="제출완료",s++):i.complete="",this.dataList.push(i);this.setButton(s)}))},setButton(t){switch(this.type){case"insertProblem":t==this.dataList.length&&(clearInterval(this.intreval),this.endButtonMsg="제출완료",this.endProblem=!0);break;case"insertQuiz":t==this.dataList.length&&(this.endProblem=!0,this.endButtonMsg="제출완료",this.endProblem=!0);break;case"insertPoll":case"insertVote":t==this.dataList.length&&(this.endProblem=!0,this.endButtonMsg="조사완료");break}},parentAction(t){this.getMeetingUser()},forecEnd(){null!=this.intreval&&clearInterval(this.intreval);let t="end";t=this.endProblem?"end":"forceEnd",this.$emit("hideEvent",{page:"userResponse",action:t,gtype:this.type})},checkTime(){this.remainTime=this.timelimit,this.remainSec=0;let t=0;this.intreval=setInterval((()=>{this.remainSec=t,t--,t<0&&(this.remainTime--,t=59),this.remainTime<=0&&t<=0&&(this.remainSec=0,this.endButtonMsg="시험종료",this.endProblem=!0,clearInterval(this.intreval))}),1e3)},barHideBox(){this.$emit("hideEvent",{page:"userResponse",action:"barHide",gtype:this.type})}},beforeDestroy(){this.$eventBus.$off("liveUserResponse"),this.intreval&&clearInterval(this.intreval)}},st=et,it=(0,m.Z)(st,Y,tt,!1,null,"1edd01cc",null),ot=it.exports;b()(it,{VBtn:v.Z});var at=s(9755),nt=s.n(at),rt=s(4730),lt=s(6719),ct={name:"hostVideoComponent",props:["meetingInfo","meetingStart"],components:{examView:a.Z,examMake:g,pollView:I,quizMake:V,voteView:A,boardList:G.Z,boardRegist:D.Z,boardView:J.Z,response:ot,hostDataView:K,liveFileView:X.Z},watch:{meetingStart(t){t&&!this.meetingInfo.info.start_time&&this.setLiveTime()}},data(){return{DEBUG:!1,mobile:this.$isMobile(),mobileClass:this.$isMobile()?"mobile":"",insertFlag:!1,id:"",subject:"",uid:"",userName:"",userEmail:"",topMenuShow:!1,screenShow:!1,loadExamShow:!1,loadDataShow:!1,headerClass:"",loadImmExamShow:!1,loadPollShow:!1,loadVoteShow:!1,loadQuizShow:!1,userReponseShow:!1,userReponseParams:{},brdType:"",isAttendShow:!1,waitUserList:[],selectedUserIdx:"",noticeShow:!1,sendParentParams:{},webinaDataShow:!1,adminBadMessage:"",badScreenShow:!1,zoomBoardName:"게시판",zoomBoardUpdateShow:!1,zoomBoardListShow:!1,zoomBoardViewShow:!1,articleNo:"",timeInterval:"",timeInfo:"00:00:00",updArticleNo:"",IsProblem:!1,IsData:!1,IsPoll:!1,IsVote:!1,IsZoomBoard:!1,responseTitle:"",responseTimeInfo:"",timeResponseInterval:null,logoUrl:"",completeScreenShow:!1,joinCnt:"",watchCnt:"",liveTime:"",goAfterFlag:!1,fileNo:"",loadFileShow:!1,memberInfo:{},streamRoomId:"",userJoinShow:!1,waitUserShow:!1,dbWaitUserList:[],realUserJoinList:{},realUserActive:!1,hostEndActive:!1,subMenuShow:!1,subMenuList:[],subMenuTitle:""}},created(){T.Z.setDevice(this.$isMobile());const t=T.Z.getSession();if(t&&t?.memberInfo){if(this.id=this.$route.params.id,this.id<1)return void this.doError();this.memberInfo=t.memberInfo,this.uid=this.memberInfo.uid,this.userName=this.memberInfo.name,this.userEmail=this.memberInfo.email,this.streamRoomId=this.id+"_"+this.uid,this.getMeetingInfo()}else this.doError()},methods:{getMeetingInfo(){if(this.id=this.meetingInfo.info.id,this.meetingInfo.info.uid==this.uid)if("complete"!=this.meetingInfo.info.infoStatus)this.subject=this.meetingInfo.info.subject,this.brdType=this.meetingInfo.info.role,this.meetingInfo.info.start_time&&this.setLiveTime(),this.logoUrl=this.meetingInfo.info.logo?x.I0+"?logo="+this.meetingInfo.info.logo:"",this.IsProblem=!!this.meetingInfo.problemInfo,this.meetingInfo.fileList&&this.meetingInfo.fileList.length>0&&(this.IsData=!0),this.IsPoll=!!this.meetingInfo.pollInfo,this.IsVote=!!this.meetingInfo.voteInfo,this.IsZoomBoard=!!this.meetingInfo.articleInfo,this.meetingInfo.boardInfo&&(this.zoomBoardName=this.meetingInfo.boardInfo.boardName),this.$eventBus.$on("rpcJsonTransfer",this.transferAction);else{let t={message:"종료된 방송입니다",doAction:()=>{this.doError()}};this.$eventBus.$emit("modalOpen",t)}else this.doError()},setLiveTime(){let t=rt.Z.getStartTime();this.timeInterval=setInterval((()=>{this.timeInfo=rt.Z.setTimeVal(t),t++}),1e3)},loadComponent(t){switch(this.mobile&&(this.subMenuShow=!1),t){case"exam":case"quiz":case"poll":case"vote":if(this.userReponseShow){let t={message:"먼저 진행중인 작업을 종료하세요"};return void this.$eventBus.$emit("modalOpen",t)}switch(this.screenShow=!0,t){case"exam":this.loadExamShow=!0;break;case"quiz":this.loadQuizShow=!0;break;case"poll":this.loadPollShow=!0;break;case"vote":this.loadVoteShow=!0;break}break;case"data":case"makeExam":case"board":case"boardWrite":switch(this.screenShow=!0,t){case"data":this.loadDataShow=!0;break;case"makeExam":this.loadImmExamShow=!0;break;case"board":this.zoomBoardListShow=!0;break;case"boardWrite":this.updArticleNo="new",this.zoomBoardUpdateShow=!0;break}break}},screenBoxHIde(t){const e=lt.Z.sendToUser(t,(t=>{const e=t.cmd;switch(console.log(t),e){case"responseClose":this.userReponseShow=!1;break;case"responseOpen":this.realUserJoinList=t.data.map.userList,this.realUserActive=!0,setTimeout((()=>{this.realUserActive=!1}),700);break}}));console.log(e),e.userReponseParams&&(this.userReponseParams=e.userReponseParams),"close"==e.userReponseShow?this.userReponseShow=!1:e.userReponseShow&&(this.userReponseShow=!0),e.open&&(this[e.open]=!0),e.fileNo?this.fileNo=e.fileNo:this.fileNo="","close"==e.screenShow&&(this.screenShow=!1),e.close&&(this[e.close]=!1),e.responseTitle?this.responseTitle=e.responseTitle:this.responseTitle=""},transferAction(t){switch(console.log(t),t.responseMethod){case"makeLiveRoomWaitUsers":this.waitUserList=[];for(const i of this.dbWaitUserList)if(t.waitUsers[i.uid]){let t={uid:i.uid,name:i.name,email:i.email};this.waitUserList.push(t)}this.waitUserList.length>0&&(this.userJoinShow=!0);break;case"joinRoom":break;case"adminForceEndMeeting":this.adminBadMessage=t.data.replace(/\n/g,"<br />")+"<br>자세한 내용은 관리자에게 문의바랍니다",this.badScreenShow=!0;break;case"replayProblem":case"replayPoll":case"replayVote":case"replayQuiz":let e={method:"replyUser",uid:t.data.data};this.$eventBus.$emit("liveUserResponse",e);break;case"forceOut":const s={sendUid:t.sendUid,sendMethod:"hostForceOut",responseMethod:"hostForceOut"};lt.Z.rpcSend(s);break;case"outUser":break}},zoomBoardBoxHIde(t){switch(t.page){case"regist":this.screenShow=!1,this.zoomBoardUpdateShow=!1,this.zoomBoardListShow=!1,this.zoomBoardViewShow=!1;break;case"list":this.screenShow=!1,this.zoomBoardUpdateShow=!1,this.zoomBoardListShow=!1,this.zoomBoardViewShow=!1;break;case"view":this.zoomBoardUpdateShow=!1,this.zoomBoardListShow=!0,this.zoomBoardViewShow=!1;break}},showArticleView(t){this.articleNo=t,this.zoomBoardUpdateShow=!1,this.zoomBoardListShow=!1,this.zoomBoardViewShow=!0},updateArticle(t){this.updArticleNo=t,this.zoomBoardUpdateShow=!0,this.zoomBoardListShow=!1,this.zoomBoardViewShow=!1},doError(){nt()(window).off("beforeunload"),this.$emit("outActive",!0),this.goAfterFlag?window.opener.document.location.href="/video/setting/afterExam":window.opener.document.location.reload()},goBannerUrl(t){window.open(t)},completeLive(){this.doError()},goAfter(){this.goAfterFlag=!0,this.doError()},endMeeting(){let t={type:"confirm",message:" 방송을 종료하시겠습니까?",doAction:()=>{setTimeout((()=>{let t={type:"confirm",message:"정말로 종료하시겠습니까?<br>지금 종료할 경우 라이브가 종료되어 새롭게 라이브를 시작하셔야 합니다",doAction:()=>{this.meetingEnd()}};this.$eventBus.$emit("modalOpen",t)}),500)}};this.$eventBus.$emit("modalOpen",t)},meetingEnd(){this.endMeetingActiveAct(),this.timeInterval&&clearInterval(this.timeInterval),this.completeScreenShow=!0;const t={parentId:this.id.toString()};S.Z.post(x.U$,t,(t=>{let e=0;for(let s of t.list)e++;this.joinCnt=e,this.watchCnt=t.list.length,this.liveTime=this.timeInfo}))},endMeetingActiveAct(){rt.Z.doEndMeetingActive(this.$isMobile())},badDoAction(){this.badScreenShow=!1,rt.Z.doEndMeetingActive(this.$isMobile()),this.$emit("outActive",!0)},openResponse(){nt()("#app-response").show(),nt()("#menu-response-box").hide()},updateTopMenu(){this.topMenuShow=!0,this.headerClass="fixed"},showMenu(){let t=0;"0px"==nt()("#left-menu-box").css("left")?(t="-100%",nt()("#left-menu-box .bg-screen").hide()):nt()("#left-menu-box .bg-screen").show(),nt()("#left-menu-box").animate({left:t},200)},loadMobileSubMenu(t){let e=[{name:"저장된 시험 불러오기",code:"exam"},{name:"즉시 만들기",code:"makeExam"}],s=[{name:"글 작성",code:"boardWrite"},{name:"게시글 보기",code:"board"}];switch(t){case"exam":this.subMenuTitle="시험",this.subMenuList=e;break;case"board":this.subMenuTitle=this.zoomBoardName,this.subMenuList=s;break}this.subMenuShow=!0}},mounted(){nt()(window).on("beforeunload",(t=>(this.$isMobile()?rt.Z.mobileRecodeChatAct():rt.Z.recodeChatAct(),rt.Z.updateLiveTime(),!1)))},destroyed(){this.$eventBus.$off("rpcJsonTransfer"),this.timeInterval&&clearInterval(this.timeInterval),this.timeResponseInterval&&clearInterval(this.timeResponseInterval)}},ut=ct,dt=(0,m.Z)(ut,i,o,!1,null,null,null),ht=dt.exports;b()(dt,{VBtn:v.Z,VDialog:Q.Z})},2756:function(t,e,s){s.d(e,{Z:function(){return w}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"contents "+t.mobileClass},[s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}}},[s("ul",{staticClass:"field-box"},[s("li",[s("div",{staticClass:"required-icon"},[t._v("문항 번호")]),s("div",{staticClass:"field-input"},[s("h3",[t._v(t._s(t.problemIndex+1)+" 번")])])]),s("li",[s("div",{staticClass:"required-icon"},[t._v("문항 유형")]),s("div",{staticClass:"field-input"},[s("v-select",{attrs:{items:t.prbTypeList,outlined:"",dense:t.dense,placeholder:"문항유형을 선택하세요","error-messages":t.prbTypeErrors},on:{input:function(e){return t.$v.prbType.$touch()},blur:function(e){return t.$v.prbType.$touch()}},model:{value:t.prbType,callback:function(e){t.prbType=e},expression:"prbType"}})],1)]),s("li",[s("div",{staticClass:"required-icon"},[t._v("문항 제목")]),s("div",{staticClass:"field-input"},[s("v-text-field",{attrs:{required:"",placeholder:"제목을 입력하세요","error-messages":t.questionErrors,outlined:"",dense:t.dense},on:{input:function(e){return t.$v.question.$touch()},blur:function(e){return t.$v.question.$touch()}},model:{value:t.question,callback:function(e){t.question=e},expression:"question"}})],1)])]),"mchoice"==t.prbType?s("ul",{staticClass:"problem-ul"},[t._m(0),s("li",{staticClass:"list-content"},[s("ul",{staticClass:"item-box"},t._l(t.items,(function(e,i){return s("li",[s("div",{staticClass:"th"},[t._v(" 답안 선택 "+t._s(i+1)+" ")]),s("div",{staticClass:"td"},[s("v-text-field",{attrs:{placeholder:"답안 선택값을 입력해주세요","error-messages":e.answerErrors,outlined:"",dense:t.dense},on:{input:function(e){return t.itemAnswerTouch(i)},blur:function(e){return t.itemAnswerTouch(i)}},model:{value:e.answer,callback:function(s){t.$set(e,"answer",s)},expression:"item.answer"}})],1),s("div",{staticClass:"control-box"},[0==i&&t.addButtonShow?s("span",{staticClass:"plus",on:{click:function(e){return t.addProblemItem()}}},[s("font-awesome-icon",{attrs:{icon:"fas fa-plus"}})],1):t._e(),i>0?s("span",{on:{click:function(e){return t.deleteProblemItem(i)}}},[s("font-awesome-icon",{attrs:{icon:"fas fa-minus"}})],1):t._e()])])})),0)])]):t._e(),t.prbType?s("ul",{staticClass:"field-box"},[s("li",[s("div",{staticClass:"required-icon"},[t._v("정답 답안")]),"subject"==t.prbType?s("div",{staticClass:"field-input"},[s("v-text-field",{attrs:{placeholder:"답안을 입력해 주세요","error-messages":t.subjectGoodErrors,dense:t.dense,outlined:""},on:{input:function(e){return t.subjectGoodTouch()},blur:function(e){return t.subjectGoodTouch()}},model:{value:t.subjectGood,callback:function(e){t.subjectGood=e},expression:"subjectGood"}})],1):s("div",{staticClass:"field-input"},[s("v-select",{attrs:{items:t.goodList,outlined:"",placeholder:"답안을 선택하세요","error-messages":t.goodErrors,dense:t.dense},on:{input:function(e){return t.goodTouch()},blur:function(e){return t.goodTouch()}},model:{value:t.good,callback:function(e){t.good=e},expression:"good"}})],1)]),s("li",[s("div",{staticClass:"required-icon"},[t._v("배점")]),s("div",{staticClass:"field-input",staticStyle:{display:"flex"}},[s("v-text-field",{attrs:{required:"",placeholder:"배점을 숫자로 입력하세요","error-messages":t.jumsuErrors,dense:t.dense,outlined:""},on:{input:function(e){return t.$v.jumsu.$touch()},blur:function(e){return t.$v.jumsu.$touch()}},model:{value:t.jumsu,callback:function(e){t.jumsu=e},expression:"jumsu"}}),s("div",{staticClass:"remain-box"},[t._v("남은배점 : "),s("strong",[t._v(t._s(t.remainJumsu))])])],1)])]):t._e(),s("p",{staticClass:"submit-button-box four-box"},[s("v-btn",{staticClass:"cancle-button",attrs:{type:"button"},on:{click:function(e){return t.problemDelete()}}},[t._v(" 취소 ")]),t.problemIndex>0?s("v-btn",{staticClass:"cancle-button",attrs:{type:"button"},on:{click:function(e){return t.goBack()}}},[t._v(" 이전문제 ")]):t._e(),t.remainJumsu>0||t.nextButton?s("v-btn",{staticClass:"submit-button",attrs:{type:"button"},on:{click:function(e){return t.addProblem()}}},[t._v(" 저장하고 다음문제 설정 ")]):t._e(),t.remainJumsu<=0?s("v-btn",{staticClass:"submit-button",attrs:{type:"submit"}},[t._v(" 출제완료 ")]):t._e()],1)])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"list-title"},[t._v(" 답"),s("br"),t._v("안"),s("br"),t._v("선"),s("br"),t._v("택 ")])}],a=s(8620),n=s(379),r=s(5494),l=s(9248),c={name:"examDirectMake",mixins:[a.oE],props:["sendParams"],validations:{prbType:{required:n.C1},question:{required:n.C1},jumsu:{required:n.C1,numeric:n.uR}},watch:{problemShow(t){t||this.$emit("backChange")}},data(){return{insertFlag:!1,mobileView:!1,mobileClass:"",prbType:"",prbTypeList:[{text:"객관식",value:"mchoice"},{text:"주관식",value:"subject"}],question:"",jumsu:"",remainJumsu:0,items:[],addButtonShow:!1,subjectGood:"",good:"",goodList:[],subjectGoodErrors:[],goodErrors:[],problemList:[],problemIndex:0,problemShow:!0,nextButton:!0,dense:!1}},created(){this.$isMobile()&&(this.mobileClass="mobile",this.mobileView=!0,this.dense=!0),this.setChoiceProblem()},computed:{prbTypeErrors(){const t=[];return this.$v.prbType.$dirty?(this.$v.prbType.required||t.push("문항유형을 선택하세요"),t):t},questionErrors(){const t=[];return this.$v.question.$dirty?(this.$v.question.required||t.push("문항제목을 입력하세요"),t):t},jumsuErrors(){const t=[];return this.$v.jumsu.$dirty?this.$v.jumsu.required?this.$v.jumsu.numeric?(this.checkRemain(),t):(t.push("배점은 숫자만 입력가능합니다"),t):(t.push("배점을 입력하세요"),t):t}},methods:{setChoiceProblem(){this.problemList=[],this.items=[],this.subjectGood="",this.prbType="",this.remainJumsu=this.sendParams.totalJumsu,this.question="",this.good=0;for(let t=0;t<5;t++){let t={answer:"",answerErrors:[]};this.items.push(t)}this.setGoodList()},itemAnswerTouch(t){this.items[t].answerErrors=[],this.items[t].answer||this.items[t].answerErrors.push(t+1+"번 답안을 입력하세요")},addProblemItem(){let t={answer:"",answerErrors:[]};this.items.push(t),this.setGoodList(),this.items.length>=5&&(this.addButtonShow=!1)},deleteProblemItem(t){this.items.splice(t,1),this.items.length<5&&(this.addButtonShow=!0),this.setGoodList()},setGoodList(){this.goodList=[];for(let t=1;t<=this.items.length;t++)this.goodList.push({text:t+"번",value:t})},subjectGoodTouch(){this.subjectGoodErrors=[],this.subjectGood||this.subjectGoodErrors.push("정답 답안을 입력해주세요")},goodTouch(){this.goodErrors=[],this.good||this.goodErrors.push("정답 답안을 선택해주세요")},checkRemain(){let t=0,e=0;for(let i of this.problemList)e!=this.problemIndex&&(t+=parseInt(i.jumsu)),e++;let s=t;if(this.jumsu){if(s=parseInt(this.sendParams.totalJumsu)-(s+parseInt(this.jumsu)),s<=0){let e=parseInt(this.sendParams.totalJumsu)-t;return setTimeout((()=>{this.jumsu=e}),100),this.remainJumsu=0,void(this.nextButton=!1)}this.nextButton=!0}this.remainJumsu=s},goBack(){let t=this.problemList.length;t<1||this.problemIndex<1?this.problemShow=!1:(this.nextButton=!0,this.problemList.splice(this.problemIndex,1),this.problemIndex--,this.setProblem())},problemDelete(){this.problemList=[],this.problemIndex=0,this.remainJumsu=this.totalJumsu,this.problemShow=!1},addProblem(){if(this.$v.$touch(),!this.$v.$anyError){let t=!0;if("mchoice"==this.prbType){let e=0;for(let s of this.items)s.answer||(t=!1,this.itemAnswerTouch(e)),e++;this.good||(this.goodTouch(),t=!1)}else this.subjectGood||(t=!1,this.subjectGoodTouch());if(!t)return;let e={question:this.question,items:this.items,good:this.good,prbType:this.prbType,subjectGood:this.subjectGood,jumsu:parseInt(this.jumsu)};if(this.problemIndex>=this.problemList.length?(this.problemList.push(e),this.problemIndex=this.problemList.length):(this.problemList[this.problemIndex]=e,this.problemIndex++),this.problemIndex<this.problemList.length)this.setProblem();else{this.question="",this.good=0,this.subjectGood="",this.prbType="",this.jumsu="",this.nextButton=!1,this.items=[];for(let t=0;t<5;t++){let t={answer:"",answerErrors:[]};this.items.push(t)}this.setGoodList(),this.$v.$reset()}}},setProblem(){let t=this.problemList[this.problemIndex];if(this.question=t.question,this.prbType=t.prbType,this.jumsu=t.jumsu.toString(),"subject"==t.prbType)this.subjectGood=t.subjectGood;else{this.items=[];for(let e of t.items)this.items.push(e);this.items.length<5?this.addButtonShow=!0:this.addButtonShow=!1,this.good=t.good}},validate(){if(this.$v.$touch(),!this.$v.$anyError){let t=!0;if("mchoice"==this.prbType){let e=0;for(let s of this.items)s.answer||(t=!1,this.itemAnswerTouch(e)),e++;this.good||(this.goodTouch(),t=!1)}else this.subjectGood||(t=!1,this.subjectGoodTouch());if(!t)return;this.formSubmit()}},formSubmit(){if(this.insertFlag)return;this.insertFlag=!0;let t={question:this.question,items:this.items,good:this.good,prbType:this.prbType,subjectGood:this.subjectGood,jumsu:parseInt(this.jumsu)};this.problemIndex>=this.problemList.length?this.problemList.push(t):this.problemList[this.problemIndex]=t;const e={parentId:this.sendParams.parentId.toString(),subject:this.sendParams.name,author:this.sendParams.author,problems:JSON.stringify(this.problemList),timelimit:parseInt(this.sendParams.timelimit),totalJumsu:parseInt(this.sendParams.totalJumsu)};this.$eventBus.$emit("overlay","show"),l.Z.post(r.lk,e,(t=>{this.$eventBus.$emit("overlay","hide");let e={};if(this.insertFlag=!1,"message"==t.status)return e={message:"잘못된 접근입니다"},void this.$eventBus.$emit("modalOpen",e);"immExam"==this.sendParams.sendType?this.$emit("submitResult",t.info.id):(e={message:"정보가 저장되었습니다",doAction:()=>{this.$router.push("/video/setting/dataList/all")}},this.$eventBus.$emit("modalOpen",e))}))}}},u=c,d=s(1001),h=s(3453),m=s.n(h),p=s(3150),b=s(4161),v=s(5978),f=(0,d.Z)(u,i,o,!1,null,"e3e56b7c",null),w=f.exports;m()(f,{VBtn:p.Z,VSelect:b.Z,VTextField:v.Z})},8818:function(t,e,s){t.exports=s.p+"img/exam.f1d48e5f.svg"},9697:function(t,e,s){t.exports=s.p+"img/quiz.bbe63b17.svg"}}]);
//# sourceMappingURL=3326.093dcc9c.js.map