"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[1879],{4350:function(e,t,i){i.d(t,{Z:function(){return r}});var s=i(5978),n=i(3325);const o=(0,n.Z)(s.Z);var r=o.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:e=>!isNaN(parseFloat(e))},rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseInt(e,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...s.Z.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(e){this.$nextTick((()=>{var t;e?this.calculateInputHeight():null==(t=this.$refs.input)||t.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const e=this.$refs.input;if(!e)return;e.style.height="0";const t=e.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(i,t)+"px"},genInput(){const e=s.Z.options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput(e){s.Z.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},1122:function(e,t,i){var s=i(9755),n=i.n(s);t["Z"]={errorPosiFlag:!1,nl2br(e){return e.value.replace(/(\n|\r\n)/g,"<br>")},nl2brContent(e){return e=e.toString(),e=e.replace(/(\n|\r\n)/g,"<br>"),e.replace(/(<br><br>)/g,"<br>")},stripTags(e){let t=document.createElement("div");t.innerHTML=e;let i=t.textContent||t.innerText||"";return i},stripTagsNotEm(e){let t=document.createElement("div");t.innerHTML=e.replace(/<em>/gi,"{em}").replace(/<\/em>/gi,"{/em}");let i=t.textContent||t.innerText||"",s=i.replace(/{em}/gi,"<em>").replace(/{\/em}/gi,"</em>");return s},email(e){const t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},numericByPrice(e){if(0==e)return!1;if(e){e=e.toString();let t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),isNaN(t)}return!0},numeric(e){return isNaN(e)},parseNumber(e){if(e){e=e.toString();let t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),parseInt(t)}return 0},price(e){if(e){e=e.toString();let t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),!this.numeric(t)&&this.numberFormat(t)}return!1},br2nl(e){return e.replace(/(<br>|<br\/>|<br \/>)/g,"\r")},numberFormat(e){if(!e)return 0;isNaN(e)&&(e=e.toString().replace(/-/gi,""));let t=new Intl.NumberFormat(["en-US"],{});return t.format(e)},fNumberFormat(e){e=e.toString().replace(/-/gi,""),e=e.toString().replace(/,/gi,"");let t=new Intl.NumberFormat(["en-US"],{});return t.format(e)},getStrCut(e,t){return e.length>=t?e.substr(0,t)+"..":e},errorPosition(e,t,i){const s="base"==e?n()("body"):n()(e),o=n()(s).height(),r=n()(t).offset().top,a=r>0?o-r+200:o+r-200;"base"==e?n()("html,body").animate({scrollTop:r-50},100,(()=>{this.errorPosiFlag?this.errorPosiFlag=!1:(i(),this.errorPosiFlag=!0)})):n()(s).animate({scrollTop:a},100,(()=>{i()}))}}},9067:function(e,t,i){i.d(t,{Z:function(){return w}});var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"board-container "+e.compontentType+" "+e.mobileClass},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"center-title"},[e._v(" "+e._s(e.title)+" ")]),i("div",{staticClass:"del-box",on:{click:function(t){return e.close()}}},[i("font-awesome-icon",{attrs:{icon:"fas fa-times"}})],1)]),i("form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[i("div",{class:"contents "+e.mobileClass},[i("div",{staticClass:"from-box"},[i("ul",{staticClass:"field-box"},[i("li",{staticStyle:{"padding-top":"20px"}},[i("div",{staticClass:"required-icon"},[e._v("제목")]),i("div",{staticClass:"field-input"},[i("v-text-field",{attrs:{required:"","background-color":"#fff",placeholder:"제목을 입력하세요","error-messages":e.subjectErrors,outlined:"",dense:e.dense},on:{input:function(t){return e.$v.subject.$touch()},blur:function(t){return e.$v.subject.$touch()}},model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}})],1)]),i("li",[i("div",{staticClass:"required-icon"},[e._v("내용")]),i("div",{staticClass:"field-input"},[i("v-textarea",{attrs:{outlined:"","background-color":"#fff",placeholder:"내용을 입력하세요","error-messages":e.descriptionErrors,rows:"10"},on:{input:function(t){return e.$v.description.$touch()},blur:function(t){return e.$v.description.$touch()}},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)]),e.ufileView?i("li",[i("div",{staticClass:"required-icon"},[e._v("파일 업로드")]),i("div",{staticClass:"field-input"},[i("div",{staticClass:"file-box"},[i("div",{staticClass:"file-names",staticStyle:{background:"#fff"}},[e._v(" "+e._s(e.fileName)+" ")]),i("div",{staticClass:"file-click"},[i("input",{ref:"imgContainer",attrs:{type:"file",id:"vfile"},on:{change:e.onChangeImg}}),e._v(" 파일 찾기 ")])]),i("div",{staticClass:"file-message"},[e._v("※ "+e._s(e.limitFileSize/1048576)+"MB 이하로 제한됩니다")])])]):e._e(),e.noticeView?i("li",[i("div",{staticClass:"required-icon"},[e._v("공지글 지정")]),i("div",{staticClass:"field-input"},[i("ul",{staticClass:"switch-ul"},[i("li",{class:e.noticeClass.yes,on:{click:function(t){return e.setNotice("yes")}}},[e._v(" 예")]),i("li",{class:e.noticeClass.no,on:{click:function(t){return e.setNotice("no")}}},[e._v(" 아니오")])])])]):e._e()])])]),i("div",{class:"modal-footer "+e.mobileClass},[i("p",{staticClass:"submit-button-box"},[e.mobileView?e._e():i("v-btn",{staticClass:"cancle-button",attrs:{type:"button"},on:{click:function(t){return e.close()}}},[e._v(" 취소 ")]),i("v-btn",{staticClass:"submit-button",attrs:{type:"submit"}},[e._v(" 확인 ")])],1)])])])},n=[],o=i(8620),r=i(379),a=i(1122),l=i(3699),c=i(5494),u=i(9248),d={name:"liveBoardRegist",mixins:[o.oE],validations:{subject:{required:r.C1},description:{required:r.C1}},props:["parentId","no","compontentType","userInfo"],data(){return{insertFlag:!1,mobileView:!1,mobileClass:"",title:"게시글 작성",subject:"",description:"",notice:"yes",fileName:"",profileImg:"",fileExt:"",noticeView:!1,uid:"",userName:"",limitFileSize:1048576,noticeClass:{yes:"active",no:""},ufileAuth:"host",ufileView:!1,dense:!1}},created(){this.$isMobile()&&(this.mobileClass="mobile",this.mobileView=!0,this.dense=!0);let e=l.Z.getSession(this.$isMobile());e&&e?.memberInfo&&(this.uid=e.memberInfo.uid),this.getData()},computed:{subjectErrors(){const e=[];return this.$v.subject.$dirty?(this.$v.subject.required||e.push("제목을 입력하세요"),e):e},descriptionErrors(){const e=[];return this.$v.description.$dirty?(this.$v.description.required||e.push("내용을 입력하세요"),e):e}},methods:{getData(){let e={parentId:this.parentId.toString()};"new"!=this.no&&this.no&&(e.no=this.no.toString()),u.Z.post(c.Bg,e,(e=>{switch("admin"==this.uid?(this.noticeView=!0,this.notice="yes"):this.notice="no",e.boardInfo&&("no"==this.notice&&this.uid==e.boardInfo.uid&&(this.noticeView=!0,this.notice="yes"),this.ufileAuth=e.boardInfo.ufile_auth),this.ufileAuth){case"host":this.noticeView&&(this.ufileView=!0);case"user":this.uid&&(this.ufileView=!0);case"all":this.ufileView=!0;break}"new"!=this.no&&this.no&&e.boardArticleInfo&&"success"==e.boardArticleInfo?.status&&(this.subject=e.boardArticleInfo.info.subject,this.description=a.Z.br2nl(e.boardArticleInfo.info.content),this.setNotice(e.boardArticleInfo.info.notice),this.fileName=e.boardArticleInfo.info.fileName)}))},onChangeImg(){const e=this.$refs.imgContainer.files;let t=e.length>0?e[0]:null;this.fileName=t.name;const i=new FormData;i.append("file",t),u.Z.postFile(c.F8,i,(e=>{"success"==e.status&&(this.profileImg=e.file)})),this.$refs.imgContainer.value=""},setNotice(e){this.notice=e;let t="",i="";switch(e){case"yes":t="active";break;case"no":i="active";break}this.noticeClass={yes:t,no:i}},close(){"live"==this.compontentType?this.$emit("hideEvent",{page:"regist"}):this.$emit("modalHIde","none")},validate(){this.$v.$touch(),this.$v.$anyError||this.formSubmit()},formSubmit(){if(this.insertFlag)return;this.insertFlag=!0;let e={parentId:this.parentId.toString(),subject:this.subject,content:this.description,notice:this.notice};this.userInfo?.uid&&(e.uid=this.userInfo.uid,e.userName=this.userInfo.userName);let t=c.YJ;"new"!=this.no&&this.no&&(e.no=this.no.toString(),t=c.sz),this.profileImg&&(e.fileUrl=this.profileImg,e.fileName=this.fileName),this.$eventBus.$emit("overlay","show"),u.Z.post(t,e,(e=>{this.$eventBus.$emit("overlay","hide");let t={};this.insertFlag=!1,t={message:"정보가 저장되었습니다",doAction:()=>{"live"==this.compontentType?this.$emit("hideEvent",{page:"regist"}):this.$emit("modalHIde","update")}},this.$eventBus.$emit("modalOpen",t)}))}}},h=d,p=i(1001),m=i(3453),f=i.n(m),v=i(3150),g=i(5978),b=i(4350),C=(0,p.Z)(h,s,n,!1,null,"3c2ea0b1",null),w=C.exports;f()(C,{VBtn:v.Z,VTextField:g.Z,VTextarea:b.Z})},6922:function(e,t,i){i.d(t,{Z:function(){return p}});var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:"board-container "+e.compontentType+" "+e.mobileClass},[s("div",{staticClass:"modal-header"},[s("div",{staticClass:"center-title"},[e._v(" 게시글 내역 ")]),s("div",{staticClass:"del-box",on:{click:function(t){return e.close()}}},[s("font-awesome-icon",{attrs:{icon:"fas fa-times"}})],1)]),s("div",{class:"contents "+e.mobileClass},[s("div",{staticClass:"subject"},["yes"==e.info.notice?s("span",{staticClass:"notice-mp"},[s("img",{staticStyle:{width:"17px"},attrs:{src:i(1595)}})]):e._e(),e._v(" "+e._s(e.info.subject)+" "),s("div",{staticClass:"date"},[s("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[e._v(e._s(e.info.userName))]),e._v("  "+e._s(e.info.rdate)+" ")]),"meeting"==e.access?s("div",{staticClass:"description",domProps:{innerHTML:e._s(e.info.viewDescription)}}):e._e(),"after"==e.compontentType||"after"==e.accessCode||"meeting"!=e.access||"admin"!=e.uid&&e.uid!=e.info.uid?e._e():s("div",["live"==e.viewType?s("ul",{staticClass:"upd-line"},[s("li",{on:{click:function(t){return e.updateArticle()}}},[e._v("수정")]),s("li",{on:{click:function(t){return e.deleteArticle()}}},[e._v("삭제")])]):e._e()])]),s("div",{staticClass:"description",domProps:{innerHTML:e._s(e.info.viewDescription)}}),e.info.fileView?s("div",{staticClass:"file",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.fileDown()}}},[s("font-awesome-icon",{attrs:{icon:"fas fa-paperclip"}}),e._v(" "+e._s(e.info.fileName)+" ")],1):e._e(),"yes"==e.repleUse?s("div",{staticClass:"reple-box"},[s("div",{staticClass:"gtitle"},[e._v("댓글("+e._s(e.repleCount)+")")]),"after"!=e.accessCode&&"live"==e.viewType?s("div",{class:"reple-content "+e.repleContentClass},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"field",attrs:{autocomplete:"off",placeholder:"댓글을 입력해주세요"},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}}),e.repleContentClass&&!e.content?s("div",{staticClass:"errorBox"},[e._v("댓글을 입력해주세요")]):e._e()]),s("button",{staticClass:"repleButton",attrs:{type:"button"},on:{click:function(t){return e.insertReple()}}},[e._v("작성")])]):e._e(),s("ul",{staticClass:"reple-list"},e._l(e.repleDatas,(function(t){return s("li",["admin"==e.uid||e.uid==t.uid?s("div",{staticClass:"del-box",on:{click:function(i){return e.deleteArticleReple(t.id)}}},[s("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-times"}})],1):e._e(),s("div",{staticClass:"name"},[e._v(e._s(t.name))]),s("div",{staticClass:"content"},[e._v(e._s(t.content))]),s("div",{staticClass:"date"},[e._v(e._s(t.viewDate))])])})),0)]):e._e()]),"after"!=e.accessCode?s("div",{class:"modal-footer "+e.mobileClass},["meeting"!=e.access?s("div",{staticClass:"button-row"},[s("button",{staticClass:"cancle",attrs:{type:"button"},on:{click:function(t){return e.deleteArticle()}}},[e._v("삭제 ")]),s("button",{attrs:{type:"button"},on:{click:function(t){return e.updateArticle()}}},[e._v("수정")])]):e._e(),"meeting"==e.access?s("div",{staticClass:"navi-row"},[s("div",{class:e.activePrev,on:{click:function(t){return e.articlePrevMove()}}},[s("font-awesome-icon",{attrs:{icon:"fas fa-angle-left"}}),e._v(" 이전")],1),s("div",{class:e.activeNext,on:{click:function(t){return e.articleNextMove()}}},[e._v("다음 "),s("font-awesome-icon",{attrs:{icon:"fas fa-angle-right"}})],1)]):e._e()]):e._e()])},n=[],o=i(1122),r=i(3699),a=i(5494),l=i(9248),c={props:["no","parentId","compontentType"],data(){return{mobileView:!1,mobileClass:"",info:{},viewDate:"",access:"meeting",title:"",repleCount:0,content:"",selectedNo:"",repleContentClass:"",repleDatas:[],uid:"",prevNo:"",nextNo:"",activePrev:"",activeNext:"",currentIndex:"",lastIndex:"",repleUse:"yes",accessCode:"",viewType:"live",downLimit:"ing",limitRegDate:"",memberInfo:{}}},created(){this.$isMobile()&&(this.mobileClass="mobile",this.mobileView=!0);let e=r.Z.getSession();e&&e?.memberInfo&&(this.uid=e.memberInfo.uid,this.memberInfo=e.memberInfo),this.selectedNo=this.no,this.getData()},methods:{getData(){const e={no:this.selectedNo.toString(),parentId:this.parentId.toString()};this.$eventBus.$emit("overlay","open"),l.Z.post(a.nf,e,(e=>{if(this.$eventBus.$emit("overlay","hide"),this.info=e.boardArticleInfo,console.log(this.info),this.info.viewDescription=o.Z.nl2brContent(this.info.content),this.info.fileView=!(!this.info.fileName||"undefined"==this.info.fileName),this.uid&&"admin"!=this.uid&&e.boardInfo.uid==this.uid&&(this.uid="admin"),e.boardInfo&&e.boardInfo.reple_use&&(this.repleUse=e.boardInfo.reple_use),this.repleDatas=[],this.repleCount=e.repleList?e.repleList.length:0,e.repleList)for(let t of e.repleList)t.viewDate=t.createAt.substring(0,10),this.repleDatas.push(t);this.info.pre?(this.prevNo=this.info.pre,this.activePrev=""):(this.activePrev="disabled",this.prevNo=""),this.info.next?(this.nextNo=this.info.next,this.activeNext=""):(this.activeNext="disabled",this.nextNo="")}))},close(){"live"==this.compontentType?this.$emit("hideEvent",{page:"view"}):this.$emit("modalHIde","none")},articlePrevMove(){"disabled"!=this.activePrev&&(this.selectedNo=this.prevNo,this.getData())},articleNextMove(){"disabled"!=this.activeNext&&(this.selectedNo=this.nextNo,this.getData())},deleteArticleReple(e){let t={type:"confirm",message:"선택된 댓글을 삭제하시겠습니까?",doAction:()=>{const t={id:e.toString()};this.$eventBus.$emit("overlay","show"),l.Z.post(a.iz,t,(e=>{this.$eventBus.$emit("overlay","hide");let t={message:"댓글이 삭제되었습니다"};this.$eventBus.$emit("modalOpen",t),this.getRepleList()}))}};this.$eventBus.$emit("modalOpen",t)},insertReple(){if(!this.content)return void(this.repleContentClass="empty");let e="",t="";this.uid?(e=this.uid,t=this.memberInfo.name):(e=sessionStorage.getItem("joinUid"),t=sessionStorage.getItem("userName"));const i={pid:this.selectedNo.toString(),uid:e,name:t,content:this.content};this.$eventBus.$emit("overlay","show"),l.Z.post(a.pp,i,(e=>{this.$eventBus.$emit("overlay","hide"),this.content="",this.repleContentClass="";let t={message:"댓글이 저장되었습니다",doAction:()=>{this.getRepleList()}};this.$eventBus.$emit("modalOpen",t)}))},getRepleList(){const e={pid:this.selectedNo.toString()};l.Z.post(a.Dg,e,(e=>{if(this.repleDatas=[],this.repleCount=e.list?e.list.length:0,e.list)for(let t of e.list)t.viewDate=t.createAt.substring(0,10),this.repleDatas.push(t)}))},deleteArticle(){let e={type:"confirm",message:"게시글을 삭제하시겠습니까?",doAction:()=>{const e={id:this.selectedNo.toString()};console.log(e),this.$eventBus.$emit("overlay","show"),l.Z.post(a.gw,e,(e=>{this.$eventBus.$emit("overlay","hide");let t={message:"게시글이 삭제되었습니다",doAction:()=>{"live"==this.compontentType?this.$emit("hideEvent",{page:"view"}):this.$emit("modalHIde","deleteDone")}};this.$eventBus.$emit("modalOpen",t)}))}};this.$eventBus.$emit("modalOpen",e)},updateArticle(){this.$emit("articleUpdate",this.selectedNo)},fileDown(){location.href=a.XX+"?fileUrl="+this.info.fileUrl+"&fileName="+this.info.fileName}}},u=c,d=i(1001),h=(0,d.Z)(u,s,n,!1,null,"7e75fa76",null),p=h.exports},1595:function(e,t,i){e.exports=i.p+"img/ico_mp.1346493a.svg"}}]);
//# sourceMappingURL=1879.379aa4e3.js.map