"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[1879],{34350:function(e,t,i){i.d(t,{Z:function(){return a}});var n=i(4367),s=(i(9653),i(55978)),o=i(73325),r=(0,o.Z)(s.Z),a=r.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return(0,n.Z)({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},s.Z.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(e){var t=this;this.$nextTick((function(){var i;e?t.calculateInputHeight():null==(i=t.$refs.input)||i.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var e=this.$refs.input;if(e){e.style.height="0";var t=e.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(i,t)+"px"}},genInput:function(){var e=s.Z.options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput:function(e){s.Z.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},1122:function(e,t,i){i(74916),i(15306),i(41539),i(39714),i(77601);var n=i(19755),s=i.n(n);t["Z"]={errorPosiFlag:!1,nl2br:function(e){return e.value.replace(/(\n|\r\n)/g,"<br>")},nl2brContent:function(e){return e=e.toString(),e=e.replace(/(\n|\r\n)/g,"<br>"),e.replace(/(<br><br>)/g,"<br>")},stripTags:function(e){var t=document.createElement("div");t.innerHTML=e;var i=t.textContent||t.innerText||"";return i},stripTagsNotEm:function(e){var t=document.createElement("div");t.innerHTML=e.replace(/<em>/gi,"{em}").replace(/<\/em>/gi,"{/em}");var i=t.textContent||t.innerText||"",n=i.replace(/{em}/gi,"<em>").replace(/{\/em}/gi,"</em>");return n},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},numericByPrice:function(e){if(0==e)return!1;if(e){e=e.toString();var t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),isNaN(t)}return!0},numeric:function(e){return isNaN(e)},parseNumber:function(e){if(e){e=e.toString();var t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),parseInt(t)}return 0},price:function(e){if(e){e=e.toString();var t=e.replace(/,/gi,"");return t=t.toString().replace(/-/gi,""),!this.numeric(t)&&this.numberFormat(t)}return!1},br2nl:function(e){return e.replace(/(<br>|<br\/>|<br \/>)/g,"\r")},numberFormat:function(e){if(!e)return 0;isNaN(e)&&(e=e.toString().replace(/-/gi,""));var t=new Intl.NumberFormat(["en-US"],{});return t.format(e)},fNumberFormat:function(e){e=e.toString().replace(/-/gi,""),e=e.toString().replace(/,/gi,"");var t=new Intl.NumberFormat(["en-US"],{});return t.format(e)},getStrCut:function(e,t){return e.length>=t?e.substr(0,t)+"..":e},errorPosition:function(e,t,i){var n=this,o="base"==e?s()("body"):s()(e),r=s()(o).height(),a=s()(t).offset().top,l=a>0?r-a+200:r+a-200;"base"==e?s()("html,body").animate({scrollTop:a-50},100,(function(){n.errorPosiFlag?n.errorPosiFlag=!1:(i(),n.errorPosiFlag=!0)})):s()(o).animate({scrollTop:l},100,(function(){i()}))}}},19067:function(e,t,i){i.d(t,{Z:function(){return w}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"board-container "+e.compontentType+" "+e.mobileClass},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"center-title"},[e._v(" "+e._s(e.title)+" ")]),i("div",{staticClass:"del-box",on:{click:function(t){return e.close()}}},[i("font-awesome-icon",{attrs:{icon:"fas fa-times"}})],1)]),i("form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[i("div",{class:"contents "+e.mobileClass},[i("div",{staticClass:"from-box"},[i("ul",{staticClass:"field-box"},[i("li",{staticStyle:{"padding-top":"20px"}},[i("div",{staticClass:"required-icon"},[e._v("제목")]),i("div",{staticClass:"field-input"},[i("v-text-field",{attrs:{required:"","background-color":"#fff",placeholder:"제목을 입력하세요","error-messages":e.subjectErrors,outlined:"",dense:e.dense},on:{input:function(t){return e.$v.subject.$touch()},blur:function(t){return e.$v.subject.$touch()}},model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}})],1)]),i("li",[i("div",{staticClass:"required-icon"},[e._v("내용")]),i("div",{staticClass:"field-input"},[i("v-textarea",{attrs:{outlined:"","background-color":"#fff",placeholder:"내용을 입력하세요","error-messages":e.descriptionErrors,rows:"10"},on:{input:function(t){return e.$v.description.$touch()},blur:function(t){return e.$v.description.$touch()}},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)]),e.ufileView?i("li",[i("div",{staticClass:"required-icon"},[e._v("파일 업로드")]),i("div",{staticClass:"field-input"},[i("div",{staticClass:"file-box"},[i("div",{staticClass:"file-names",staticStyle:{background:"#fff"}},[e._v(" "+e._s(e.fileName)+" ")]),i("div",{staticClass:"file-click"},[i("input",{ref:"imgContainer",attrs:{type:"file",id:"vfile"},on:{change:e.onChangeImg}}),e._v(" 파일 찾기 ")])]),i("div",{staticClass:"file-message"},[e._v("※ "+e._s(e.limitFileSize/1048576)+"MB 이하로 제한됩니다")])])]):e._e(),e.noticeView?i("li",[i("div",{staticClass:"required-icon"},[e._v("공지글 지정")]),i("div",{staticClass:"field-input"},[i("ul",{staticClass:"switch-ul"},[i("li",{class:e.noticeClass.yes,on:{click:function(t){return e.setNotice("yes")}}},[e._v(" 예")]),i("li",{class:e.noticeClass.no,on:{click:function(t){return e.setNotice("no")}}},[e._v(" 아니오")])])])]):e._e()])])]),i("div",{class:"modal-footer "+e.mobileClass},[i("p",{staticClass:"submit-button-box"},[e.mobileView?e._e():i("v-btn",{staticClass:"cancle-button",attrs:{type:"button"},on:{click:function(t){return e.close()}}},[e._v(" 취소 ")]),i("v-btn",{staticClass:"submit-button",attrs:{type:"submit"}},[e._v(" 확인 ")])],1)])])])},s=[],o=(i(82526),i(41817),i(41539),i(39714),i(68309),i(28620)),r=i(40379),a=i(1122),l=i(3699),c=i(25494),u=i(89486),d={name:"liveBoardRegist",mixins:[o.oE],validations:{subject:{required:r.C1},description:{required:r.C1}},props:["parentId","no","compontentType","userInfo"],data:function(){return{insertFlag:!1,mobileView:!1,mobileClass:"",title:"게시글 작성",subject:"",description:"",notice:"yes",fileName:"",profileImg:"",fileExt:"",noticeView:!1,uid:"",userName:"",limitFileSize:1048576,noticeClass:{yes:"active",no:""},ufileAuth:"host",ufileView:!1,dense:!1}},created:function(){this.$isMobile()&&(this.mobileClass="mobile",this.mobileView=!0,this.dense=!0);var e=l.Z.getSession(this.$isMobile());e&&null!==e&&void 0!==e&&e.memberInfo&&(this.uid=e.memberInfo.uid),this.getData()},computed:{subjectErrors:function(){var e=[];return this.$v.subject.$dirty?(this.$v.subject.required||e.push("제목을 입력하세요"),e):e},descriptionErrors:function(){var e=[];return this.$v.description.$dirty?(this.$v.description.required||e.push("내용을 입력하세요"),e):e}},methods:{getData:function(){var e=this,t={parentId:this.parentId.toString()};"new"!=this.no&&this.no&&(t.no=this.no.toString()),u.Z.post(c.Bg,t,(function(t){switch("admin"==e.uid?(e.noticeView=!0,e.notice="yes"):e.notice="no",t.boardInfo&&("no"==e.notice&&e.uid==t.boardInfo.uid&&(e.noticeView=!0,e.notice="yes"),e.ufileAuth=t.boardInfo.ufile_auth),e.ufileAuth){case"host":e.noticeView&&(e.ufileView=!0);case"user":e.uid&&(e.ufileView=!0);case"all":e.ufileView=!0;break}var i;"new"!=e.no&&e.no&&(t.boardArticleInfo&&"success"==(null===(i=t.boardArticleInfo)||void 0===i?void 0:i.status)&&(e.subject=t.boardArticleInfo.info.subject,e.description=a.Z.br2nl(t.boardArticleInfo.info.content),e.setNotice(t.boardArticleInfo.info.notice),e.fileName=t.boardArticleInfo.info.fileName))}))},onChangeImg:function(){var e=this,t=this.$refs.imgContainer.files,i=t.length>0?t[0]:null;this.fileName=i.name;var n=new FormData;n.append("file",i),u.Z.postFile(c.F8,n,(function(t){"success"==t.status&&(e.profileImg=t.file)})),this.$refs.imgContainer.value=""},setNotice:function(e){this.notice=e;var t="",i="";switch(e){case"yes":t="active";break;case"no":i="active";break}this.noticeClass={yes:t,no:i}},close:function(){"live"==this.compontentType?this.$emit("hideEvent",{page:"regist"}):this.$emit("modalHIde","none")},validate:function(){this.$v.$touch(),this.$v.$anyError||this.formSubmit()},formSubmit:function(){var e,t=this;if(!this.insertFlag){this.insertFlag=!0;var i={parentId:this.parentId.toString(),subject:this.subject,content:this.description,notice:this.notice};null!==(e=this.userInfo)&&void 0!==e&&e.uid&&(i.uid=this.userInfo.uid,i.userName=this.userInfo.userName);var n=c.YJ;"new"!=this.no&&this.no&&(i.no=this.no.toString(),n=c.sz),this.profileImg&&(i.fileUrl=this.profileImg,i.fileName=this.fileName),this.$eventBus.$emit("overlay","show"),u.Z.post(n,i,(function(e){t.$eventBus.$emit("overlay","hide");var i={};t.insertFlag=!1,i={message:"정보가 저장되었습니다",doAction:function(){"live"==t.compontentType?t.$emit("hideEvent",{page:"regist"}):t.$emit("modalHIde","update")}},t.$eventBus.$emit("modalOpen",i)}))}}}},f=d,v=i(1001),p=i(43453),m=i.n(p),h=i(63150),g=i(55978),b=i(34350),C=(0,v.Z)(f,n,s,!1,null,"3c2ea0b1",null),w=C.exports;m()(C,{VBtn:h.Z,VTextField:g.Z,VTextarea:b.Z})},96922:function(e,t,i){i.d(t,{Z:function(){return p}});var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"board-container "+e.compontentType+" "+e.mobileClass},[n("div",{staticClass:"modal-header"},[n("div",{staticClass:"center-title"},[e._v(" 게시글 내역 ")]),n("div",{staticClass:"del-box",on:{click:function(t){return e.close()}}},[n("font-awesome-icon",{attrs:{icon:"fas fa-times"}})],1)]),n("div",{class:"contents "+e.mobileClass},[n("div",{staticClass:"subject"},["yes"==e.info.notice?n("span",{staticClass:"notice-mp"},[n("img",{staticStyle:{width:"17px"},attrs:{src:i(21595)}})]):e._e(),e._v(" "+e._s(e.info.subject)+" "),n("div",{staticClass:"date"},[n("span",{staticStyle:{"font-weight":"bold",color:"#000"}},[e._v(e._s(e.info.userName))]),e._v("  "+e._s(e.info.rdate)+" ")]),"meeting"==e.access?n("div",{staticClass:"description",domProps:{innerHTML:e._s(e.info.viewDescription)}}):e._e(),"after"==e.compontentType||"after"==e.accessCode||"meeting"!=e.access||"admin"!=e.uid&&e.uid!=e.info.uid?e._e():n("div",["live"==e.viewType?n("ul",{staticClass:"upd-line"},[n("li",{on:{click:function(t){return e.updateArticle()}}},[e._v("수정")]),n("li",{on:{click:function(t){return e.deleteArticle()}}},[e._v("삭제")])]):e._e()])]),n("div",{staticClass:"description",domProps:{innerHTML:e._s(e.info.viewDescription)}}),e.info.fileView?n("div",{staticClass:"file",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.fileDown()}}},[n("font-awesome-icon",{attrs:{icon:"fas fa-paperclip"}}),e._v(" "+e._s(e.info.fileName)+" ")],1):e._e(),"yes"==e.repleUse?n("div",{staticClass:"reple-box"},[n("div",{staticClass:"gtitle"},[e._v("댓글("+e._s(e.repleCount)+")")]),"after"!=e.accessCode&&"live"==e.viewType?n("div",{class:"reple-content "+e.repleContentClass},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"field",attrs:{autocomplete:"off",placeholder:"댓글을 입력해주세요"},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}}),e.repleContentClass&&!e.content?n("div",{staticClass:"errorBox"},[e._v("댓글을 입력해주세요")]):e._e()]),n("button",{staticClass:"repleButton",attrs:{type:"button"},on:{click:function(t){return e.insertReple()}}},[e._v("작성")])]):e._e(),n("ul",{staticClass:"reple-list"},e._l(e.repleDatas,(function(t){return n("li",["admin"==e.uid||e.uid==t.uid?n("div",{staticClass:"del-box",on:{click:function(i){return e.deleteArticleReple(t.id)}}},[n("font-awesome-icon",{staticStyle:{color:"#fff"},attrs:{icon:"fas fa-times"}})],1):e._e(),n("div",{staticClass:"name"},[e._v(e._s(t.name))]),n("div",{staticClass:"content"},[e._v(e._s(t.content))]),n("div",{staticClass:"date"},[e._v(e._s(t.viewDate))])])})),0)]):e._e()]),"after"!=e.accessCode?n("div",{class:"modal-footer "+e.mobileClass},["meeting"!=e.access?n("div",{staticClass:"button-row"},[n("button",{staticClass:"cancle",attrs:{type:"button"},on:{click:function(t){return e.deleteArticle()}}},[e._v("삭제 ")]),n("button",{attrs:{type:"button"},on:{click:function(t){return e.updateArticle()}}},[e._v("수정")])]):e._e(),"meeting"==e.access?n("div",{staticClass:"navi-row"},[n("div",{class:e.activePrev,on:{click:function(t){return e.articlePrevMove()}}},[n("font-awesome-icon",{attrs:{icon:"fas fa-angle-left"}}),e._v(" 이전")],1),n("div",{class:e.activeNext,on:{click:function(t){return e.articleNextMove()}}},[e._v("다음 "),n("font-awesome-icon",{attrs:{icon:"fas fa-angle-right"}})],1)]):e._e()]):e._e()])},s=[],o=i(62032),r=(i(41539),i(39714),i(68309),i(1122)),a=i(3699),l=i(25494),c=i(89486),u={props:["no","parentId","compontentType"],data:function(){return{mobileView:!1,mobileClass:"",info:{},viewDate:"",access:"meeting",title:"",repleCount:0,content:"",selectedNo:"",repleContentClass:"",repleDatas:[],uid:"",prevNo:"",nextNo:"",activePrev:"",activeNext:"",currentIndex:"",lastIndex:"",repleUse:"yes",accessCode:"",viewType:"live",downLimit:"ing",limitRegDate:"",memberInfo:{}}},created:function(){this.$isMobile()&&(this.mobileClass="mobile",this.mobileView=!0);var e=a.Z.getSession();e&&null!==e&&void 0!==e&&e.memberInfo&&(this.uid=e.memberInfo.uid,this.memberInfo=e.memberInfo),this.selectedNo=this.no,this.getData()},methods:{getData:function(){var e=this,t={no:this.selectedNo.toString(),parentId:this.parentId.toString()};this.$eventBus.$emit("overlay","open"),c.Z.post(l.nf,t,(function(t){if(e.$eventBus.$emit("overlay","hide"),e.info=t.boardArticleInfo,console.log(e.info),e.info.viewDescription=r.Z.nl2brContent(e.info.content),e.info.fileView=!(!e.info.fileName||"undefined"==e.info.fileName),e.uid&&"admin"!=e.uid&&t.boardInfo.uid==e.uid&&(e.uid="admin"),t.boardInfo&&t.boardInfo.reple_use&&(e.repleUse=t.boardInfo.reple_use),e.repleDatas=[],e.repleCount=t.repleList?t.repleList.length:0,t.repleList){var i,n=(0,o.Z)(t.repleList);try{for(n.s();!(i=n.n()).done;){var s=i.value;s.viewDate=s.createAt.substring(0,10),e.repleDatas.push(s)}}catch(a){n.e(a)}finally{n.f()}}e.info.pre?(e.prevNo=e.info.pre,e.activePrev=""):(e.activePrev="disabled",e.prevNo=""),e.info.next?(e.nextNo=e.info.next,e.activeNext=""):(e.activeNext="disabled",e.nextNo="")}))},close:function(){"live"==this.compontentType?this.$emit("hideEvent",{page:"view"}):this.$emit("modalHIde","none")},articlePrevMove:function(){"disabled"!=this.activePrev&&(this.selectedNo=this.prevNo,this.getData())},articleNextMove:function(){"disabled"!=this.activeNext&&(this.selectedNo=this.nextNo,this.getData())},deleteArticleReple:function(e){var t=this,i={type:"confirm",message:"선택된 댓글을 삭제하시겠습니까?",doAction:function(){var i={id:e.toString()};t.$eventBus.$emit("overlay","show"),c.Z.post(l.iz,i,(function(e){t.$eventBus.$emit("overlay","hide");var i={message:"댓글이 삭제되었습니다"};t.$eventBus.$emit("modalOpen",i),t.getRepleList()}))}};this.$eventBus.$emit("modalOpen",i)},insertReple:function(){var e=this;if(this.content){var t="",i="";this.uid?(t=this.uid,i=this.memberInfo.name):(t=sessionStorage.getItem("joinUid"),i=sessionStorage.getItem("userName"));var n={pid:this.selectedNo.toString(),uid:t,name:i,content:this.content};this.$eventBus.$emit("overlay","show"),c.Z.post(l.pp,n,(function(t){e.$eventBus.$emit("overlay","hide"),e.content="",e.repleContentClass="";var i={message:"댓글이 저장되었습니다",doAction:function(){e.getRepleList()}};e.$eventBus.$emit("modalOpen",i)}))}else this.repleContentClass="empty"},getRepleList:function(){var e=this,t={pid:this.selectedNo.toString()};c.Z.post(l.Dg,t,(function(t){if(e.repleDatas=[],e.repleCount=t.list?t.list.length:0,t.list){var i,n=(0,o.Z)(t.list);try{for(n.s();!(i=n.n()).done;){var s=i.value;s.viewDate=s.createAt.substring(0,10),e.repleDatas.push(s)}}catch(r){n.e(r)}finally{n.f()}}}))},deleteArticle:function(){var e=this,t={type:"confirm",message:"게시글을 삭제하시겠습니까?",doAction:function(){var t={id:e.selectedNo.toString()};console.log(t),e.$eventBus.$emit("overlay","show"),c.Z.post(l.gw,t,(function(t){e.$eventBus.$emit("overlay","hide");var i={message:"게시글이 삭제되었습니다",doAction:function(){"live"==e.compontentType?e.$emit("hideEvent",{page:"view"}):e.$emit("modalHIde","deleteDone")}};e.$eventBus.$emit("modalOpen",i)}))}};this.$eventBus.$emit("modalOpen",t)},updateArticle:function(){this.$emit("articleUpdate",this.selectedNo)},fileDown:function(){location.href=l.XX+"?fileUrl="+this.info.fileUrl+"&fileName="+this.info.fileName}}},d=u,f=i(1001),v=(0,f.Z)(d,n,s,!1,null,"7e75fa76",null),p=v.exports},21595:function(e,t,i){e.exports=i.p+"img/ico_mp.1346493a.svg"}}]);
//# sourceMappingURL=1879-legacy.cd91a71f.js.map