"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[9673],{2245:function(){},83702:function(t,e,i){i.d(e,{Z:function(){return l}});var s=i(73274),n=i(4367),a=(i(41539),i(39714),i(2245),i(70172)),o=i(58230),r=i(7764),u=["title"],l=r.Z.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return(0,n.Z)((0,n.Z)({},o.Z.options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var t=this.attrs$,e=(t.title,(0,s.Z)(t,u));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(a.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",(0,n.Z)((0,n.Z)({},e),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},89155:function(t,e,i){var s=i(46286),n=i(20144);e["Z"]=n["default"].extend({name:"rippleable",directives:{ripple:s.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},7764:function(t,e,i){i.d(e,{X:function(){return r}});i(41539),i(39714),i(57327);var s=i(58230),n=i(89155),a=i(34419),o=i(73325);function r(t){t.preventDefault()}e["Z"]=(0,o.Z)(s.Z,n.Z,a.Z).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return t.valueComparator(i,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=s.Z.options.methods.genLabel.call(this);return t?(t.data.on={click:r},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:r},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var s=i.length;i=i.filter((function(i){return!t.valueComparator(i,e)})),i.length===s&&i.push(e)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(i,e)?null:e:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}})},69673:function(t,e,i){i.r(e),i.d(e,{default:function(){return k}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mypage-container"},[t.mobileView?i("div",{staticClass:"top-menu-bar"},[i("div",{staticClass:"top-menu-bar-content"},[i("div",{staticClass:"back-button",on:{click:function(e){return t.$router.go(-1)}}},[i("font-awesome-icon",{attrs:{icon:"fas fa-chevron-left"}})],1),i("span",{staticClass:"m-title"},[t._v(t._s(t.title)+" - 수정하기")])])]):t._e(),i("div",{class:"contents "+t.mobileClass},[i("div",{staticClass:"from-box"},[t.mobileView?t._e():i("div",{staticClass:"sTitle"},[i("span",{staticClass:"line"},[t._v(t._s(t.title)+" - 수정하기")])]),i("div",{staticClass:"title-desc"},[t._v(" 문제를 수정할 수 있습니다.")]),i("div",{staticClass:"data-list-container"},[i("div",{staticClass:"data-top"},[i("div",{staticClass:"check-box"},[i("v-checkbox",{staticClass:"chk",attrs:{value:"all",label:"전체 선택"},model:{value:t.allCheck,callback:function(e){t.allCheck=e},expression:"allCheck"}})],1),i("div",{staticClass:"button-box"},[i("button",{staticClass:"del-button",attrs:{type:"button"},on:{click:function(e){return t.deleteCheckItem()}}},[t._v("삭제")]),i("button",{staticClass:"list-button",attrs:{type:"button"},on:{click:function(e){return t.goList()}}},[t._v("목록으로")])])]),i("div",{staticClass:"data-list-box"},t._l(t.dataList,(function(e,s){return i("div",{staticClass:"data-list-item"},[i("div",{staticClass:"data-list-top"},[i("div",{staticClass:"data-title"},[i("v-checkbox",{staticClass:"chk",model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"data.checked"}}),t._v("   "),i("span",[t._v(t._s(s+1)+".")]),t._v(" "+t._s(e.question)+" ")],1),i("div",{staticClass:"modify-button",on:{click:function(e){return t.updateButtonshow(s)}}},[i("font-awesome-icon",{attrs:{icon:"fas fa-ellipsis-v"}})],1),e.show?i("div",{staticClass:"problem-item-update-box"},[i("ul",[i("li",{on:{click:function(e){return t.problemModify(s)}}},[t._v(" 수정하기 ")]),i("li",{on:{click:function(e){return t.problemDelete(s)}}},[t._v(" 삭제하기 ")])])]):t._e()]),"mchoice"==e.prbType?i("ul",{staticClass:"data-list"},t._l(e.items,(function(s,n){return i("li",{class:n+1==e.good?"active":""},[i("span",[t._v(t._s(n+1))]),t._v(" "+t._s(s.answer)+" ")])})),0):t._e(),"subject"==e.prbType?i("div",{staticClass:"subjectAnswer"},[t._v(" "+t._s(e.subjectGood)+" ")]):t._e()])})),0)])]),i("p",{staticClass:"submit-button-box"},[i("v-btn",{staticClass:"cancle-button",attrs:{type:"button"},on:{click:function(e){return t.dataReset()}}},[t._v(" 취소 ")]),i("v-btn",{staticClass:"submit-button",attrs:{type:"button"},on:{click:function(e){return t.dataSubmit()}}},[t._v(" 확인 ")])],1)]),i("v-dialog",{attrs:{width:"65%"},model:{value:t.examShow,callback:function(e){t.examShow=e},expression:"examShow"}},[i("div",{class:"contentsModal "+t.mobileClass},[t.mobileView?t._e():i("div",{staticClass:"sTitle"},[i("span",{staticClass:"line"},[t._v(t._s(t.title)+" - 수정하기")])]),i("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}}},[i("ul",{staticClass:"field-box"},[i("li",[i("div",{staticClass:"required-icon"},[t._v("문항 번호")]),i("div",{staticClass:"field-input"},[i("h3",[t._v(t._s(t.problemIndex+1)+" 번")])])]),i("li",[i("div",{staticClass:"required-icon"},[t._v("문항 유형")]),i("div",{staticClass:"field-input"},[i("v-select",{attrs:{items:t.prbTypeList,outlined:"",placeholder:"문항유형을 선택하세요","error-messages":t.prbTypeErrors},on:{input:function(e){return t.$v.prbType.$touch()},blur:function(e){return t.$v.prbType.$touch()}},model:{value:t.prbType,callback:function(e){t.prbType=e},expression:"prbType"}})],1)]),i("li",[i("div",{staticClass:"required-icon"},[t._v("문항 제목")]),i("div",{staticClass:"field-input"},[i("v-text-field",{attrs:{required:"",placeholder:"제목을 입력하세요","error-messages":t.questionErrors,outlined:""},on:{input:function(e){return t.$v.question.$touch()},blur:function(e){return t.$v.question.$touch()}},model:{value:t.question,callback:function(e){t.question=e},expression:"question"}})],1)])]),"mchoice"==t.prbType?i("ul",{staticClass:"problem-ul"},[i("li",{staticClass:"list-title"},[t._v(" 답"),i("br"),t._v("안"),i("br"),t._v("선"),i("br"),t._v("택 ")]),i("li",{staticClass:"list-content"},[i("ul",{staticClass:"item-box"},t._l(t.items,(function(e,s){return i("li",[i("div",{staticClass:"th"},[t._v(" 답안 선택 "+t._s(s+1)+" ")]),i("div",{staticClass:"td"},[i("v-text-field",{attrs:{placeholder:"답안 선택값을 입력해주세요","error-messages":e.answerErrors,outlined:""},on:{input:function(e){return t.itemAnswerTouch(s)},blur:function(e){return t.itemAnswerTouch(s)}},model:{value:e.answer,callback:function(i){t.$set(e,"answer",i)},expression:"item.answer"}})],1),i("div",{staticClass:"control-box"},[0==s&&t.addButtonShow?i("span",{staticClass:"plus",on:{click:function(e){return t.addProblemItem()}}},[i("font-awesome-icon",{attrs:{icon:"fas fa-plus"}})],1):t._e(),s>0?i("span",{on:{click:function(e){return t.deleteProblemItem(s)}}},[i("font-awesome-icon",{attrs:{icon:"fas fa-minus"}})],1):t._e()])])})),0)])]):t._e(),t.prbType?i("ul",{staticClass:"field-box"},[i("li",[i("div",{staticClass:"required-icon"},[t._v("정답 답안")]),"subject"==t.prbType?i("div",{staticClass:"field-input"},[i("v-text-field",{attrs:{placeholder:"답안을 입력해 주세요","error-messages":t.subjectGoodErrors,outlined:""},on:{input:function(e){return t.subjectGoodTouch()},blur:function(e){return t.subjectGoodTouch()}},model:{value:t.subjectGood,callback:function(e){t.subjectGood=e},expression:"subjectGood"}})],1):i("div",{staticClass:"field-input"},[i("v-select",{attrs:{items:t.goodList,outlined:"",placeholder:"답안을 선택하세요","error-messages":t.goodErrors},on:{input:function(e){return t.goodTouch()},blur:function(e){return t.goodTouch()}},model:{value:t.good,callback:function(e){t.good=e},expression:"good"}})],1)]),i("li",[i("div",{staticClass:"required-icon"},[t._v("배점")]),i("div",{staticClass:"field-input",staticStyle:{display:"flex"}},[i("v-text-field",{attrs:{required:"",placeholder:"배점을 숫자로 입력하세요","error-messages":t.jumsuErrors,outlined:""},on:{input:function(e){return t.$v.jumsu.$touch()},blur:function(e){return t.$v.jumsu.$touch()}},model:{value:t.jumsu,callback:function(e){t.jumsu=e},expression:"jumsu"}}),i("div",{staticClass:"remain-box"},[t._v("남은배점 : "),i("strong",[t._v(t._s(t.remainJumsu))])])],1)])]):t._e(),i("p",{staticClass:"submit-button-box"},[i("v-btn",{staticClass:"cancle-button",attrs:{type:"button"},on:{click:function(e){t.examShow=!1}}},[t._v(" 취소 ")]),i("v-btn",{staticClass:"submit-button",attrs:{type:"submit"}},[t._v(" 확인 ")])],1)])])])],1)},n=[],a=i(62032),o=(i(41539),i(39714),i(40561),i(38862),i(28620)),r=i(40379),u=i(25494),l=i(89486),c={name:"examModify",mixins:[o.oE],validations:{prbType:{required:r.C1},question:{required:r.C1},jumsu:{required:r.C1,numeric:r.uR}},watch:{allCheck:function(t){var e,i=(0,a.Z)(this.dataList);try{for(i.s();!(e=i.n()).done;){var s=e.value;s.checked=!!t}}catch(n){i.e(n)}finally{i.f()}},prbType:function(t){if(t){var e=this.dataList[this.updateItemIdx];if("subject"==e.prbType&&"subject"!=t){this.goodList=[];for(var i=1;i<=this.items.length;i++)this.goodList.push({text:i+"번",value:i})}}}},computed:{prbTypeErrors:function(){var t=[];return this.$v.prbType.$dirty?(this.$v.prbType.required||t.push("문항유형을 선택하세요"),t):t},questionErrors:function(){var t=[];return this.$v.question.$dirty?(this.$v.question.required||t.push("문항제목을 입력하세요"),t):t},jumsuErrors:function(){var t=[];return this.$v.jumsu.$dirty?this.$v.jumsu.required?this.$v.jumsu.numeric?(this.checkRemain(),t):(t.push("배점은 숫자만 입력가능합니다"),t):(t.push("배점을 입력하세요"),t):t}},data:function(){return{mobileView:!1,mobileClass:"",no:"",parentId:"",allCheck:!1,dataList:[],title:"",examShow:!1,prbType:"",prbTypeList:[{text:"객관식",value:"mchoice"},{text:"주관식",value:"subject"}],question:"",jumsu:"",remainJumsu:0,items:[],subjectGood:"",good:"",goodList:[],subjectGoodErrors:[],goodErrors:[],problemList:[],problemIndex:0,updateItemIdx:"",addButtonShow:!1}},created:function(){this.no=this.$route.params.no,this.getData()},methods:{dataReset:function(){this.getData()},getData:function(){var t=this,e={id:this.no.toString()};l.Z.post(u.mg,e,(function(e){t.dataList=[],t.title=e.info.subject,t.parentId=e.info.parentId;var i,s=(0,a.Z)(JSON.parse(e.info.problems));try{for(s.s();!(i=s.n()).done;){var n=i.value;n.checked=!1,n.show=!1,t.dataList.push(n),t.totalJumsu=e.info.totalJumsu}}catch(o){s.e(o)}finally{s.f()}}))},deleteCheckItem:function(){var t,e,i=this,s=!1,n=(0,a.Z)(this.dataList);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o.checked){s=!0;break}}}catch(h){n.e(h)}finally{n.f()}if(s){var r,u=[],l=(0,a.Z)(this.dataList);try{for(l.s();!(r=l.n()).done;){var c=r.value;c.checked&&u.push(c)}}catch(h){l.e(h)}finally{l.f()}if(this.dataList.length==u.length)return e={message:"모든 문제를 삭제할수 없습니다"},void this.$eventBus.$emit("modalOpen",e);e={type:"confirm",message:"선택된 문제를 삭제하시겠습니까?",doAction:function(){var t,e=[],s=(0,a.Z)(i.dataList);try{for(s.s();!(t=s.n()).done;){var n=t.value;n.checked?u.push(n):e.push(n)}}catch(h){s.e(h)}finally{s.f()}i.dataList=e,i.allCheck=!1}}}else e={message:"대상을 하나이상 선택해주세요"};this.$eventBus.$emit("modalOpen",e)},goList:function(){this.$router.push("/video/setting/dataList/all")},updateButtonshow:function(t){this.dataList[t].show?this.dataList[t].show=!1:this.dataList[t].show=!0},problemModify:function(t){this.updateItemIdx=t;var e=this.dataList[t];if(this.question=e.question,this.prbType=e.prbType,"subject"==this.prbType){this.subjectGood=e.subjectGood,this.items=[];var i={answer:""};this.items.push(i),i={answer:""},this.items.push(i),i={answer:""},this.items.push(i),i={answer:""},this.items.push(i),i={answer:""},this.items.push(i),this.good=0}else{this.good=e.good,this.items=e.items,this.subjectGood="",this.goodList=[];for(var s=1;s<=this.items.length;s++)this.goodList.push({text:s+"번",value:s})}this.jumsu=e.jumsu;var n,o=0,r=(0,a.Z)(this.dataList);try{for(r.s();!(n=r.n()).done;){var u=n.value;o+=u.jumsu}}catch(l){r.e(l)}finally{r.f()}this.remainJumsu=this.totalJumsu-o,this.examShow=!0},problemDelete:function(t){var e=this,i={};i=this.dataList.length<=1?{message:"모든 문제를 삭제할수 없습니다"}:{type:"confirm",message:"문제를 삭제하시겠습니까?",doAction:function(){e.dataList.splice(t,1)}},this.$eventBus.$emit("modalOpen",i)},itemAnswerTouch:function(t){this.items[t].answerErrors=[],this.items[t].answer||this.items[t].answerErrors.push(t+1+"번 답안을 입력하세요")},addProblemItem:function(){var t={answer:"",answerErrors:[]};this.items.push(t),this.setGoodList(),this.items.length>=5&&(this.addButtonShow=!1)},deleteProblemItem:function(t){this.items.splice(t,1),this.items.length<5&&(this.addButtonShow=!0),this.setGoodList()},setGoodList:function(){this.goodList=[];for(var t=1;t<=this.items.length;t++)this.goodList.push({text:t+"번",value:t})},subjectGoodTouch:function(){this.subjectGoodErrors=[],this.subjectGood||this.subjectGoodErrors.push("정답 답안을 입력해주세요")},goodTouch:function(){this.goodErrors=[],this.good||this.goodErrors.push("정답 답안을 선택해주세요")},checkRemain:function(){var t,e=this,i=0,s=(0,a.Z)(this.dataList);try{for(s.s();!(t=s.n()).done;){var n=t.value;i+=n.jumsu}}catch(u){s.e(u)}finally{s.f()}i-=this.dataList[this.updateItemIdx].jumsu;var o=i;if(this.jumsu&&(o=parseInt(this.totalJumsu)-(o+parseInt(this.jumsu)),o<=0)){var r=parseInt(this.totalJumsu)-i;return setTimeout((function(){e.jumsu=r}),100),void(this.remainJumsu=0)}this.remainJumsu=o},validate:function(){if(this.$v.$touch(),!this.$v.$anyError){var t=!0;if("mchoice"==this.prbType){var e,i=0,s=(0,a.Z)(this.items);try{for(s.s();!(e=s.n()).done;){var n=e.value;n.answer||(t=!1,this.itemAnswerTouch(i)),i++}}catch(u){s.e(u)}finally{s.f()}this.good||(this.goodTouch(),t=!1)}else this.subjectGood||(t=!1,this.subjectGoodTouch());if(!t)return;if(this.remainJumsu>0){var o={message:"배점의 총합이 "+this.totalJumsu+" 보다 작습니다"};return void this.$eventBus.$emit("modalOpen",o)}var r={idx:this.dataList[this.updateItemIdx].idx,question:this.question,items:this.items,good:this.good,prbType:this.prbType,subjectGood:this.subjectGood,jumsu:parseInt(this.jumsu),checked:!1,show:!1};this.$set(this.dataList,this.updateItemIdx,r),this.examShow=!1}},dataSubmit:function(){var t=this;if(!this.insertFlag){this.insertFlag=!0;var e={id:this.no.toString(),problems:JSON.stringify(this.dataList)};this.$eventBus.$emit("overlay","show"),l.Z.post(u.pI,e,(function(e){t.insertFlag=!1,t.$eventBus.$emit("overlay","hide");var i={message:"정보가 수정되었습니다"};t.$eventBus.$emit("modalOpen",i)}))}}}},h=c,d=i(1001),p=i(43453),m=i.n(p),v=i(63150),f=i(83702),b=i(96662),g=i(74161),C=i(55978),y=(0,d.Z)(h,s,n,!1,null,"86aa40fe",null),k=y.exports;m()(y,{VBtn:v.Z,VCheckbox:f.Z,VDialog:b.Z,VSelect:g.Z,VTextField:C.Z})}}]);
//# sourceMappingURL=9673-legacy.7b62dcc1.js.map