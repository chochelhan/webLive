"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[4442],{6777:function(t,s,e){e.r(s),e.d(s,{default:function(){return v}});var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"article-container"},[e("ul",{staticClass:"article-info"},[e("li",{staticClass:"bname"},[t._v(" "+t._s(t.boardInfo.bname)+" ")]),e("li",{staticClass:"bsubject"},[t.info.category?e("span",{staticClass:"category"},[t._v("["+t._s(t.categoryNames[t.info.category])+"]")]):t._e(),t._v(" "+t._s(t.info.subject)+" "),"yes"==t.info.secret?e("span",[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-lock"}})],1):t._e()]),e("li",{staticClass:"summary"},[e("div",{staticClass:"summary-info"},[e("span",{staticClass:"info-list"},[t._v("작성자 "),e("span",[t._v(t._s(t.userName))])]),e("span",{staticClass:"info-list"},[t._v("작성일자 "),e("span",[t._v(t._s(t.info.created_at))])]),e("span",{staticClass:"info-list"},[t._v("조회수 "),e("span",[t._v(t._s(t.info.hit))])])])])]),t.info.img?e("div",{staticClass:"img"},[e("img",{attrs:{src:t.info.img}})]):t._e(),e("div",{staticClass:"content",domProps:{innerHTML:t._s(t.info.content)}}),t.fileList.length>0?e("div",{staticClass:"down-file"},[e("div",{staticClass:"down-file-title"},[t._v("첨부파일")]),e("ul",t._l(t.fileList,(function(s,i){return e("li",{on:{click:function(e){return t.fileDown(s)}}},[t._v(t._s(s.name))])})),0)]):t._e(),e("div",{staticClass:"button-row"},[e("ul",{staticClass:"keywords"},t._l(t.keywords,(function(s){return e("li",[t._v(" #"+t._s(s)+" ")])})),0),e("div",{staticClass:"button-box"},[t.owner?e("v-btn",{staticClass:"whiteButton",attrs:{type:"button",depressed:""},on:{click:function(s){return t.modifyItem()}}},[e("span",[t._v("수정")])]):t._e(),t.owner?e("v-btn",{staticClass:"red-button",attrs:{depressed:""},on:{click:function(s){return t.deleteItem()}}},[e("span",[t._v("삭제")])]):t._e(),e("v-btn",{staticClass:"blackButton",attrs:{depressed:"",type:"button"},on:{click:function(s){return t.$router.back()}}},[e("span",[t._v("목록")])])],1)]),t.replyShow?e("commentList",{attrs:{ptype:"board",pid:t.id,boardId:t.bid},on:{updateCommentCnt:t.updateCommentCnt}}):t._e()],1),e("articleUpassComponent",{attrs:{bid:t.bid,articleId:t.id,type:t.upassType,mcode:t.mcode,scode:t.scode,modelOpen:t.passDialogShow},on:{upassSuccess:t.delAction,parentOpenFalse:function(s){t.passDialogShow=!1}}})],1)},o=[],n=e(9248),a=e(5494),r=e(3699),c=e(6965),l=e(8475),d=e(9755),m=e.n(d),f=e(1122),h=e(629),u={components:{articleUpassComponent:c.Z,commentList:l.Z},data(){return{passDialogShow:!1,bid:"",id:"",mcode:"",scode:"",util:f.Z,categoryNames:{},info:{},boardInfo:{},owner:!1,userName:"",memberInfo:{},replyShow:!1,upassType:"modify",commentCnt:0,keywords:[],fileList:[],isLogin:!1}},created(){this.id=this.$route.params.id,this.mcode=this.$route.params.mainCode,this.scode=this.$route.params.subCode;const t=r.Z.getSession();t&&t?.memberInfo&&(this.memberInfo=t.memberInfo,this.isLogin=!0),this.getData()},methods:{...(0,h.nv)("config",["setMemberNoticeList","setMNoticeActive"]),getData(){let t={id:this.id};!this.isLogin&&sessionStorage.getItem("articleSessPass")&&(t.sessPass=sessionStorage.getItem("articleSessPass")),n.Z.post(a.API_URL_GET_ARTICLE_INFO,t,(t=>{if(this.boardInfo=t.board,"yes"==this.boardInfo.categoryUse)for(const s of JSON.parse(this.boardInfo.categoryList))this.categoryNames[s.code]=s.name;if(this.info=t.info,this.bid=this.info.bid,"yes"==this.info.replyUse&&(this.replyShow=!0),this.info.keywords){let t=this.info.keywords.split(",");for(const s of t)s&&this.keywords.push(s)}if(this.info.dfileOrgNames){let t=this.info.dfileOrgNames.split(","),s=this.info.dfileNames.split(","),e=0;for(const i of t){let t=s[e];this.fileList.push({name:i,file:t}),e++}}if(this.userName=this.info.userName,this.commentCnt=this.info.commentCnt?f.Z.numberFormat(this.info.commentCnt):0,this.info.hit=this.info.hit?f.Z.numberFormat(this.info.hit):0,this.info.created_at=this.info.createAt.substring(0,16).replace("T"," "),"ROLE_ADMIN"==this.memberInfo.role||this.info.userId&&this.info.userId==this.memberInfo.uid?this.owner=!0:this.info.userId||"all"!=this.boardInfo.wauth||(this.owner=!0),this.isLogin&&t.memberNoticeList){let s=[];for(let e of t.memberNoticeList.content)e.noticeContent="comment"==e.gtype?"님이 내글에 새로운 댓글을 달았습니다":"새 공지사항이 등록되었습니다",s.push(e);this.setMemberNoticeList(s),this.setMNoticeActive(!0)}}))},modifyItem(){"ROLE_ADMIN"==this.memberInfo.role||this.info.userId&&this.info.userId==this.memberInfo.uid?this.$router.push("/board/articleRegist/"+this.mcode+"/"+this.scode+"/"+this.bid+"/"+this.id):this.info.userId||"all"!=this.boardInfo.wauth||(this.upassType="modify",this.passDialogShow=!0)},fileDown(t){let s=n.Z.imgHost+"api/controller/board/fileDownload?articleId="+this.id+"&fileName="+encodeURIComponent(t.file)+"&viewFileName="+encodeURIComponent(t.name);location.href=s},deleteItem(){let t=!1;if("ROLE_ADMIN"==this.memberInfo.role||this.info.userId&&this.info.userId==this.memberInfo.uid?t=!0:this.info.userId||"all"!=this.boardInfo.wauth||(this.upassType="delete",this.passDialogShow=!0),t){const t={type:"confirm",message:"게시글을 삭제 하시겠습니까?",doAction:()=>{this.deleteAction()}};this.$eventBus.$emit("modalOpen",t)}},delAction(t){this.deleteAction()},updateCommentCnt(t){this.commentCnt=f.Z.numberFormat(t.total)},deleteAction(){const t={id:this.id};if(!this.info.userId&&"all"==this.boardInfo.wauth){if(!sessionStorage.getItem("articleSessPass"))return;t.sessPass=sessionStorage.getItem("articleSessPass").toString()}n.Z.post(a.API_URL_DELETE_ARTICLE,t,(t=>{const s={message:"게시글이 삭제 되었습니다",doAction:()=>{this.$router.push("/board/articleList/"+this.mcode+"/"+this.scode+"/"+this.bid)}};this.$eventBus.$emit("modalOpen",s)}))}},updated(){m()(".content img").css("max-width","100%")}},p=u,b=e(1001),I=e(3453),g=e.n(I),_=e(3150),C=(0,b.Z)(p,i,o,!1,null,"b853bf9c",null),v=C.exports;g()(C,{VBtn:_.Z})}}]);
//# sourceMappingURL=4442.4af56de4.js.map