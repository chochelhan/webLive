"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[6191],{6191:function(t,i,s){s.r(i),s.d(i,{default:function(){return T}});var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mypage-container"},[t.mobileView?e("div",{staticClass:"top-menu-bar"},[e("div",{staticClass:"top-menu-bar-content"},[e("div",{staticClass:"back-button",on:{click:function(i){return t.$router.go(-1)}}},[e("i",{staticClass:"fas fa-chevron-left"})]),e("span",{staticClass:"m-title"},[t._v("설문조사 관리")])])]):t._e(),e("div",{class:"contents "+t.mobileClass},[e("div",{staticClass:"from-box"},[t.mobileView?t._e():e("div",{staticClass:"sTitle"},[e("span",{staticClass:"line"},[t._v("설문조사 관리")]),e("span",{staticClass:"question-box"},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-question"}}),t._m(0)],1)]),e("div",{staticClass:"title-desc"},[t._v(" 수업/회의에 사용할 설문조사 정보를 사전에 작업하여 저장할 수 있습니다.")]),e("div",{staticClass:"question-answer-box"},[e("v-expand-transition",[t.guideShow?e("div",{attrs:{id:"guide-description"}},[e("div",{staticClass:"img"},[e("img",{staticStyle:{"max-width":"100%"},attrs:{src:s(9440)}})])]):t._e()]),e("div",{staticClass:"quide-title-box",on:{click:function(i){return t.guideToggle()}}},[e("div",{class:"quide-title "+t.guideClass},[t._v(t._s(t.guideTitle))]),e("div",{staticClass:"guide-icon-box"},[e("div",{staticClass:"guide-icon"},[t.guideShow?e("font-awesome-icon",{attrs:{icon:"fas fa-angle-up"}}):e("font-awesome-icon",{attrs:{icon:"fas fa-angle-down"}})],1)])])],1),e("form",{attrs:{novalidate:""},on:{submit:function(i){return i.preventDefault(),t.validate.apply(null,arguments)}}},[e("ul",{staticClass:"field-box"},[e("li",[e("div",{staticClass:"required-icon"},[t._v("설문조사 제목")]),e("div",{staticClass:"field-input"},[e("v-text-field",{attrs:{required:"",placeholder:"설문조사 제목을 입력하세요","error-messages":t.subjectErrors,outlined:""},on:{input:function(i){return t.$v.subject.$touch()},blur:function(i){return t.$v.subject.$touch()}},model:{value:t.subject,callback:function(i){t.subject=i},expression:"subject"}})],1)]),e("li",[e("div",{staticClass:"required-icon"},[t._v("문항 번호")]),e("div",{staticClass:"field-input"},[e("h3",[t._v(t._s(t.problemIndex+1)+" 번")])])]),e("li",[e("div",{staticClass:"required-icon"},[t._v("문항 유형")]),e("div",{staticClass:"field-input"},[e("v-select",{attrs:{items:t.prbTypeList,outlined:"",placeholder:"문항유형을 선택하세요","error-messages":t.prbTypeErrors},on:{input:function(i){return t.$v.prbType.$touch()},blur:function(i){return t.$v.prbType.$touch()}},model:{value:t.prbType,callback:function(i){t.prbType=i},expression:"prbType"}})],1)]),e("li",[e("div",{staticClass:"required-icon"},[t._v("문항 제목")]),e("div",{staticClass:"field-input"},[e("v-text-field",{attrs:{required:"",placeholder:"제목을 입력하세요","error-messages":t.questionErrors,outlined:""},on:{input:function(i){return t.$v.question.$touch()},blur:function(i){return t.$v.question.$touch()}},model:{value:t.question,callback:function(i){t.question=i},expression:"question"}})],1)])]),"mchoice"==t.prbType?e("ul",{staticClass:"problem-ul"},[t._m(1),e("li",{staticClass:"list-content"},[e("ul",{staticClass:"item-box"},t._l(t.items,(function(i,s){return e("li",[e("div",{staticClass:"th"},[t._v(" 답안 선택 "+t._s(s+1)+" ")]),e("div",{staticClass:"td"},[e("v-text-field",{attrs:{placeholder:"답안 선택값을 입력해주세요","error-messages":i.answerErrors,outlined:""},on:{input:function(i){return t.itemAnswerTouch(s)},blur:function(i){return t.itemAnswerTouch(s)}},model:{value:i.answer,callback:function(s){t.$set(i,"answer",s)},expression:"item.answer"}})],1),e("div",{staticClass:"control-box"},[0==s&&t.addButtonShow?e("span",{staticClass:"plus",on:{click:function(i){return t.addProblemItem()}}},[e("font-awesome-icon",{attrs:{icon:"fas fa-plus"}})],1):t._e(),s>0?e("span",{on:{click:function(i){return t.deleteProblemItem(s)}}},[e("font-awesome-icon",{attrs:{icon:"fas fa-minus"}})],1):t._e()])])})),0)])]):t._e(),"mchoice"==t.prbType?e("ul",{staticClass:"field-box"},[e("li",[e("div",{staticClass:"required-icon"},[t._v("다중선택 허용여부")]),e("div",{staticClass:"field-input"},[e("v-select",{attrs:{items:t.multigoodList,outlined:"",placeholder:"다중선택 허용여부를 선택하세요","error-messages":t.multigoodErrors},on:{input:function(i){return t.multigoodTouch()},blur:function(i){return t.multigoodTouch()}},model:{value:t.multigood,callback:function(i){t.multigood=i},expression:"multigood"}})],1)])]):t._e(),e("p",{staticClass:"submit-button-box four-box"},[e("v-btn",{staticClass:"cancle-button",attrs:{type:"button"},on:{click:function(i){return t.problemDelete()}}},[t._v(" 취소 ")]),t.problemIndex>0?e("v-btn",{staticClass:"cancle-button",attrs:{type:"button"},on:{click:function(i){return t.goBack()}}},[t._v(" 이전문제 ")]):t._e(),e("v-btn",{staticClass:"submit-button",attrs:{type:"button"},on:{click:function(i){return t.addProblem()}}},[t._v(" 저장하고 다음문제 설정 ")]),e("v-btn",{staticClass:"submit-button",attrs:{type:"submit"}},[t._v(" 출제완료 ")])],1)])])])])},o=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"menu-title-tip"},[t._v(" 설문조사 관리 "),s("div",{staticClass:"description"},[t._v(" 수업/회의에 사용할 설문조사 정보를 사전에 작업하여 저장할 수 있습니다."),s("br"),t._v(" 설문조사 제목은 기본 정보로 꼭 입력합니다."),s("br"),s("br"),t._v(" 하단 문항 유형을 설정하고 제목을 입력하여 손쉽게 설문조사 정보를 설정할 수 있습니다."),s("br"),t._v(" 자세한 내용은 하단의 ‘자세히 알아보기’를 눌러 예시 화면을 살펴보세요 ")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("li",{staticClass:"list-title"},[t._v(" 답"),s("br"),t._v("안"),s("br"),t._v("선"),s("br"),t._v("택 ")])}],r=s(62032),n=s(4367),u=(s(41539),s(39714),s(40561),s(38862),s(28620)),a=s(40379),l=s(20629),c=s(25494),d=s(89486),h={name:"pollMake",mixins:[u.oE],validations:{prbType:{required:a.C1},question:{required:a.C1},subject:{required:a.C1}},watch:{prbType:function(t){if(t){var i=this.problemList[this.problemIndex];if(i&&"subject"==(null===i||void 0===i?void 0:i.prbType)&&"subject"!=t){this.items=[];for(var s=0;s<5;s++){var e={answer:"",answerErrors:[]};this.items.push(e)}this.addButtonShow=!1,this.multigood="",this.multigoodErrors=[]}}}},computed:(0,n.Z)((0,n.Z)({},(0,l.Se)("broadcast",["getGno"])),{},{prbTypeErrors:function(){var t=[];return this.$v.prbType.$dirty?(this.$v.prbType.required||t.push("문항유형을 선택하세요"),t):t},subjectErrors:function(){var t=[];return this.$v.subject.$dirty?(this.$v.subject.required||t.push("설문조사 제목을 입력하세요"),t):t},questionErrors:function(){var t=[];return this.$v.question.$dirty?(this.$v.question.required||t.push("문항제목을 입력하세요"),t):t}}),data:function(){return{insertFlag:!1,mobileView:!1,mobileClass:"",guideTitle:" 자세히 알아보기",guideShow:!1,guideClass:"",prbType:"",prbTypeList:[{text:"객관식",value:"mchoice"},{text:"주관식",value:"subject"}],multigood:"",multigoodErrors:[],multigoodList:[{text:"가능",value:"yes"},{text:"불가능",value:"no"}],subject:"",question:"",items:[],addButtonShow:!1,problemList:[],problemIndex:0,parentId:"",id:"",status:"ready"}},created:function(){this.setChoiceProblem(),this.parentId=this.getGno,this.setInit()},methods:{setInit:function(){var t=this,i={parentId:this.parentId.toString()};d.Z.post(c.n,i,(function(i){i.info&&i.info.id&&(t.id=i.info.id,t.subject=i.info.subject,t.status=i.info.status,t.problemList=JSON.parse(i.info.problems),t.setQuestionInfo(0))}))},setQuestionInfo:function(t){var i=this.problemList[t];if(this.prbType=i.prbType,this.question=i.question,this.addButtonShow=!1,this.items=[],this.multigoodErrors=[],"subject"==this.prbType)this.multigood="";else{this.multigood=i.multigood,this.multigoodErrors=[],this.items=[];var s,e=(0,r.Z)(i.items);try{for(e.s();!(s=e.n()).done;){var o=s.value;this.items.push(o)}}catch(n){e.e(n)}finally{e.f()}}this.problemIndex=t},guideToggle:function(){this.guideShow?(this.guideShow=!1,this.guideTitle="자세히 알아보기",this.guideClass=""):(this.guideShow=!0,this.guideTitle="접기",this.guideClass="center")},setChoiceProblem:function(){this.problemList=[],this.items=[],this.prbType="",this.question="",this.multigood="";for(var t=0;t<5;t++){var i={answer:"",answerErrors:[]};this.items.push(i)}},itemAnswerTouch:function(t){this.items[t].answerErrors=[],this.items[t].answer||this.items[t].answerErrors.push(t+1+"번 답안을 입력하세요")},multigoodTouch:function(){this.multigoodErrors=[],this.multigood||this.multigoodErrors.push("다중선택 허용여부를 선택하세요")},addProblemItem:function(){var t={answer:"",answerErrors:[]};this.items.push(t),this.items.length>=5&&(this.addButtonShow=!1)},deleteProblemItem:function(t){this.items.splice(t,1),this.items.length<5&&(this.addButtonShow=!0)},goBack:function(){this.problemIndex--,this.setProblem()},problemDelete:function(){this.problemIndex=0,this.setChoiceProblem()},addProblem:function(){if(this.$v.$touch(),!this.$v.$anyError){var t=!0;if("mchoice"==this.prbType){var i,s=0,e=(0,r.Z)(this.items);try{for(e.s();!(i=e.n()).done;){var o=i.value;o.answer||(t=!1,this.itemAnswerTouch(s)),s++}}catch(l){e.e(l)}finally{e.f()}this.multigood||(this.multigoodTouch(),t=!1)}if(!t)return;var n={question:this.question,items:this.items,prbType:this.prbType,multigood:this.multigood};if(this.problemIndex>=this.problemList.length?(this.problemList.push(n),this.problemIndex=this.problemList.length):(this.problemList[this.problemIndex]=n,this.problemIndex++),this.problemIndex<this.problemList.length)this.setProblem();else{this.question="",this.prbType="",this.items=[];for(var u=0;u<5;u++){var a={answer:"",answerErrors:[]};this.items.push(a)}this.$v.$reset()}}},setProblem:function(){var t=this.problemList[this.problemIndex];if(this.question=t.question,this.prbType=t.prbType,"subject"!=t.prbType){this.items=[];var i,s=(0,r.Z)(t.items);try{for(s.s();!(i=s.n()).done;){var e=i.value;this.items.push(e)}}catch(o){s.e(o)}finally{s.f()}this.items.length<5?this.addButtonShow=!0:this.addButtonShow=!1,this.multigood=t.multigood,this.multigoodErrors=[]}},validate:function(){if(this.$v.$touch(),!this.$v.$anyError){var t=!0;if("mchoice"==this.prbType){var i,s=0,e=(0,r.Z)(this.items);try{for(e.s();!(i=e.n()).done;){var o=i.value;o.answer||(t=!1,this.itemAnswerTouch(s)),s++}}catch(n){e.e(n)}finally{e.f()}this.multigood||(this.multigoodTouch(),t=!1)}if(!t)return;this.formSubmit()}},formSubmit:function(){var t=this;if("ready"==this.status&&!this.insertFlag){this.insertFlag=!0;var i={question:this.question,items:this.items,multigood:this.multigood,prbType:this.prbType};this.problemIndex>=this.problemList.length?this.problemList.push(i):this.problemList[this.problemIndex]=i;var s={parentId:this.parentId.toString(),subject:this.subject,problems:JSON.stringify(this.problemList)};this.id&&(s.id=this.id.toString()),this.$eventBus.$emit("overlay","show"),d.Z.post(c.n3,s,(function(i){t.$eventBus.$emit("overlay","hide");var s={};t.insertFlag=!1,s={message:"정보가 저장되었습니다",doAction:function(){t.setInit()}},t.$eventBus.$emit("modalOpen",s)}))}}}},m=h,p=s(1001),b=s(43453),v=s.n(b),f=s(63150),g=s(85827),y=s(74161),C=s(55978),w=(0,p.Z)(m,e,o,!1,null,"58fc44c3",null),T=w.exports;v()(w,{VBtn:f.Z,VExpandTransition:g.Fx,VSelect:y.Z,VTextField:C.Z})},9440:function(t,i,s){t.exports=s.p+"img/07_guide.1b417a83.jpg"}}]);
//# sourceMappingURL=6191-legacy.04bdede0.js.map