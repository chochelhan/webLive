"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[8957],{90052:function(t,e,a){a.r(e),a.d(e,{default:function(){return k}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"product-container"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"date-box"},[a("v-btn",{class:"white-button "+t.dateClass.day,attrs:{depressed:""},on:{click:function(e){return t.setDateType("day")}}},[t._v(" 일간 ")]),a("v-btn",{class:"white-button "+t.dateClass.week,attrs:{depressed:""},on:{click:function(e){return t.setDateType("week")}}},[t._v("주간 ")]),a("v-btn",{class:"white-button "+t.dateClass.month,attrs:{depressed:""},on:{click:function(e){return t.setDateType("month")}}},[t._v("월간 ")]),a("v-btn",{class:"white-button "+t.dateClass.year,attrs:{depressed:""},on:{click:function(e){return t.setDateType("year")}}},[t._v("연간 ")])],1),"active"==t.dateClass.day||"active"==t.dateClass.week?a("div",{staticClass:"month-box"},[a("div",{staticClass:"day-item"},[a("v-menu",{ref:"dateMenu1",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:""},model:{value:t.stdate,callback:function(e){t.stdate=e},expression:"stdate"}},"v-text-field",i,!1),s))]}}],null,!1,23676521),model:{value:t.dateMenu1,callback:function(e){t.dateMenu1=e},expression:"dateMenu1"}},[a("v-date-picker",{on:{input:function(e){t.dateMenu1=!1}},model:{value:t.stdate,callback:function(e){t.stdate=e},expression:"stdate"}})],1)],1),a("div",{staticClass:"term"},[t._v(" ~")]),a("div",{staticClass:"day-item"},[a("v-menu",{ref:"dateMenu2",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:""},model:{value:t.endate,callback:function(e){t.endate=e},expression:"endate"}},"v-text-field",i,!1),s))]}}],null,!1,1752929061),model:{value:t.dateMenu2,callback:function(e){t.dateMenu2=e},expression:"dateMenu2"}},[a("v-date-picker",{on:{input:function(e){t.dateMenu2=!1}},model:{value:t.endate,callback:function(e){t.endate=e},expression:"endate"}})],1)],1)]):"active"==t.dateClass.month?a("div",{staticClass:"month-box"},[a("div",{staticClass:"day-item"},[a("v-menu",{ref:"menu1",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:"",suffix:"월"},model:{value:t.stmonth,callback:function(e){t.stmonth=e},expression:"stmonth"}},"v-text-field",i,!1),s))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{type:"month"},on:{input:function(e){t.menu1=!1}},model:{value:t.stmonth,callback:function(e){t.stmonth=e},expression:"stmonth"}})],1)],1),a("div",{staticClass:"term"},[t._v(" ~")]),a("div",{staticClass:"day-item"},[a("v-menu",{ref:"menu2",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:"",suffix:"월"},model:{value:t.enmonth,callback:function(e){t.enmonth=e},expression:"enmonth"}},"v-text-field",i,!1),s))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{type:"month"},on:{input:function(e){t.menu2=!1}},model:{value:t.enmonth,callback:function(e){t.enmonth=e},expression:"enmonth"}})],1)],1)]):a("div",{staticClass:"year-box"},[a("v-select",{staticClass:"year-item",attrs:{dense:"",items:t.yearList},model:{value:t.styear,callback:function(e){t.styear=e},expression:"styear"}}),a("span",[t._v(" ~ ")]),a("v-select",{staticClass:"year-item",attrs:{dense:"",items:t.yearList},model:{value:t.enyear,callback:function(e){t.enyear=e},expression:"enyear"}})],1),a("div",{staticClass:"button-box"},[a("v-btn",{staticClass:"white-button submit-button",attrs:{depressed:""},on:{click:function(e){return t.search()}}},[a("font-awesome-icon",{staticStyle:{"margin-right":"6px"},attrs:{icon:"fa-solid fa-magnifying-glass"}}),t._v(" 검색 ")],1)],1)]),a("div",{staticStyle:{"padding-right":"16px"}},[a("v-btn",{staticClass:"black-button",attrs:{type:"button",depressed:""},on:{click:function(e){return t.excelDown()}}},[t._v(" 접속현황 엑셀다운로드 ")])],1)]),a("div",{staticClass:"graph-box"},[a("div",{staticClass:"graph-title"},[t._v(" 사용자 방문 현황 "),a("span",{staticClass:"date"},[t._v(t._s(t.label))])]),t.chartShow?t._e():a("v-progress-circular",{staticClass:"progress-box",attrs:{size:100,color:"#DD1B16",indeterminate:""}}),t.chartShow?a("LineChartGenerator",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,height:t.height}}):t._e()],1),a("div",{staticClass:"graph-box"},[a("div",{staticClass:"graph-title"},[t._v(" 방문자 사용시간 "),a("span",{staticClass:"date"},[t._v(t._s(t.label))])]),t.chartShow?t._e():a("v-progress-circular",{staticClass:"progress-box",attrs:{size:100,color:"#DD1B16",indeterminate:""}}),t.chartShow?a("LineChartGenerator",{attrs:{"chart-options":t.timeChartOptions,"chart-data":t.timeChartData,height:t.height}}):t._e()],1),a("div",{staticClass:"status-box"},[a("div",{staticClass:"left-table"},[a("div",{staticClass:"table-title"},[t._v(" 사용자 방문 현황 "),a("span",{staticClass:"number text-blue"},[t._v(t._s(t.memberTotal)+"명")]),a("span",{staticClass:"date"},[t._v(t._s(t.label))])]),a("div",{staticClass:"data-box"},[a("table",{staticClass:"table",attrs:{cellspacing:"0",cellpadding:"0"}},[t._m(0),a("tbody",t._l(t.inviteList,(function(e){return a("tr",[a("td",{staticStyle:{"max-width":"110px"}},[t._v(t._s(e.date))]),a("td",{domProps:{innerHTML:t._s(e.totalString)}}),a("td",[t._v(t._s(t.util.numberFormat(e.indi)))]),a("td",[t._v(t._s(t.util.numberFormat(e.busi)))]),a("td",[t._v(t._s(t.util.numberFormat(e.nouser)))])])})),0)])])]),a("div",{staticClass:"right-table"},[a("div",{staticClass:"table-title"},[t._v(" 방문자 사용시간 "),a("span",{staticClass:"number text-blue"},[t._v(t._s(t.memberTime))]),a("span",{staticClass:"date"},[t._v(t._s(t.label))])]),a("div",{staticClass:"data-box"},[a("table",{staticClass:"table",attrs:{cellspacing:"0",cellpadding:"0"}},[t._m(1),a("tbody",t._l(t.timeList,(function(e){return a("tr",[a("td",{staticStyle:{"max-width":"110px"}},[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.total))]),a("td",[t._v(t._s(e.indi))]),a("td",[t._v(t._s(e.busi))]),a("td",[t._v(t._s(e.nouser))])])})),0)])])])])]),a("div",{staticStyle:{display:"none"}},[a("table",{attrs:{border:"1",id:"excelTable"}},[t._m(2),a("tbody",t._l(t.inviteList,(function(e){return a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.date))]),a("td",{staticStyle:{"text-align":"center"},domProps:{innerHTML:t._s(e.totalString)}}),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.util.numberFormat(e.indi)))]),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.util.numberFormat(e.busi)))]),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.util.numberFormat(e.nouser)))])])})),0)]),a("table",{attrs:{border:"1",id:"excelTimeTable"}},[t._m(3),a("tbody",t._l(t.timeList,(function(e){return a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.date))]),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.total))]),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.indi))]),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.busi))]),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.nouser))])])})),0)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("날짜")]),a("th",[t._v("전체")]),a("th",[t._v("개인회원")]),a("th",[t._v("기업회원")]),a("th",[t._v("미로그인")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("날짜")]),a("th",[t._v("전체")]),a("th",[t._v("개인회원")]),a("th",[t._v("기업회원")]),a("th",[t._v("미로그인")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("날짜")]),a("th",[t._v("전체")]),a("th",[t._v("개인회원")]),a("th",[t._v("기업회원")]),a("th",[t._v("미로그인")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("날짜")]),a("th",[t._v("전체")]),a("th",[t._v("개인회원")]),a("th",[t._v("기업회원")]),a("th",[t._v("미로그인")])])])}],n=a(62032),r=(a(41539),a(39714),a(74916),a(23123),a(15306),a(18264),a(82472),a(48675),a(92990),a(18927),a(33105),a(35035),a(74345),a(7174),a(32846),a(44731),a(77209),a(96319),a(58867),a(37789),a(33739),a(29368),a(14483),a(12056),a(3462),a(30678),a(27462),a(33824),a(55021),a(12974),a(15016),a(17889)),l=a(62728),o=a(18369),d=a(29317),h=a(1122);l.kL.register(l.Dx,l.u,l.De,l.jn,l.f$,l.uw,l.od);var c={components:{LineChartGenerator:r.x1},data:function(){return{util:h.Z,chartData:{labels:[],datasets:[]},timeChartData:{labels:[],datasets:[]},chartOptions:{responsive:!0,maintainAspectRatio:!1},timeChartOptions:{responsive:!0,maintainAspectRatio:!1,scales:{x:{ticks:{beginAtZero:!1,min:100}},y:{ticks:{autoSkip:!0}}}},chartShow:!1,height:300,dateClass:{year:"",month:"",week:"",day:"active"},dateType:"day",dateMenu1:!1,dateMenu2:!1,stdate:"",endate:"",stmonth:"",enmonth:"",menu1:!1,menu2:!1,yearList:[],styear:"",enyear:"",dayList:[],label:"",timeLabel:"",timeList:[],inviteList:[],memberTotal:0,memberTime:""}},created:function(){this.setInit()},methods:{setInit:function(){for(var t=new Date,e=t.getFullYear(),a=t.getDate()<10?"0"+t.getDate():t.getDate(),s=e;s>=2010;s--)this.yearList.push({text:s+"년",value:s});this.styear=e-5,this.enyear=t.getFullYear();var i=parseInt(t.getMonth())+1;i<10&&(i="0"+i);var n=new Date(e,parseInt(t.getMonth()-1),t.getDate()),r=new Date(e,t.getMonth(),0),l=r.getDate(),o=parseInt(n.getMonth())+1;o<10&&(o="0"+o);var d=t.getDate()>l?l:a;this.stmonth=n.getFullYear()+"-"+o,this.enmonth=e+"-"+i,this.stdate=e+"-"+o+"-"+d,this.endate=e+"-"+i+"-"+a,this.getData()},getData:function(){var t=this;if(this.setDateList()){this.chartShow=!1;var e={dateType:this.dateType,styear:this.styear.toString(),enyear:this.enyear.toString(),stmonth:this.stmonth.toString(),enmonth:this.enmonth.toString(),stdate:this.stdate.toString(),endate:this.endate.toString()};switch(this.dateType){case"day":case"week":this.label="["+this.stdate+" ~ "+this.endate+"]";break;case"month":this.label="["+this.stmonth+" ~ "+this.enmonth+"]";break;case"year":this.label="["+this.styear+" ~ "+this.enyear+"]";break}o.Z.post(d.WN,e,(function(e){t.setGraph(e)}))}},setDateList:function(){var t,e,a=0,s=0,i="";switch(this.dateType){case"day":case"week":var n=this.stdate.split("-"),r=new Date(n[0],n[1]-1,n[2]),l=this.endate.split("-"),o=new Date(l[0],l[1]-1,l[2]);if(i=o.getTime()-r.getTime(),i<0){var d={message:"시작일은 종료일보다 같거나 작아야 합니다"};return this.$eventBus.$emit("modalOpen",d),!1}if("day"==this.dateType){var h=Math.abs(i/864e5);if(h>31){var c={message:"일별 통계는 기간 차이가 31일 이내여야 합니다 "};return this.$eventBus.$emit("modalOpen",c),!1}this.dayList=[];var u=r.getFullYear(),v=o.getFullYear(),m=r.getMonth()+1,p=o.getMonth()+1,b=new Date(n[0],n[1],0);t=b.getDate();var y=r.getDate(),f=o.getDate();if(m!=p){for(var _=y;_<=t;_++){var g=_<10?"0"+_:_,x=m<10?"0"+m:m;this.dayList.push({keyDate:x+"/"+g,viewDate:u+"."+x+"."+g})}y=1}for(var w=y;w<=f;w++){var k=w<10?"0"+w:w,D=p<10?"0"+p:p;this.dayList.push({keyDate:D+"/"+k,viewDate:v+"."+D+"."+k})}}else{this.dayList=[];for(var C=["일","월","화","수","목","금","토"],T=0;T<=6;T++)this.dayList.push(C[T])}break;case"month":if(a=parseInt(this.stmonth.replace("-","")),s=parseInt(this.enmonth.replace("-","")),i=s-a,i<0){var S={message:"시작일은 종료일보다 같거나 작아야 합니다"};return this.$eventBus.$emit("modalOpen",S),!1}var L=this.stmonth.split("-"),F=this.enmonth.split("-"),I=parseInt(L[0]),M=parseInt(F[0]),B=parseInt(L[1]),Z=parseInt(F[1]);if(this.dayList=[],i>=99){this.monthAllView=!0;for(var $=1;$<=12;$++){var A=$<10?"0"+$:$;this.dayList.push(A)}}else{if(this.monthAllView=!1,I!=M){for(var X=B;X<=12;X++){var V=X<10?"0"+X:X,O=I<10?"0"+I:I;this.dayList.push(O+"/"+V)}B=1}for(var E=B;E<=Z;E++){var G=E<10?"0"+E:E,Y=I<10?"0"+I:I;this.dayList.push(Y+"/"+G)}}break;case"year":if(parseInt(this.styear)>parseInt(this.enyear)){var P={message:"시작일은 종료일보다 같거나 작아야 합니다"};return this.$eventBus.$emit("modalOpen",P),!1}t=this.enyear,e=this.styear,this.dayList=[];for(var z=e;z<=t;z++){var K=z<10?"0"+z:z;this.dayList.push(K)}break}return!0},setDateType:function(t){for(var e in this.dateType=t,this.dateClass)this.dateClass[e]=e==t?"active":""},search:function(){this.getData()},setDateText:function(t){var e="";switch(this.dateType){case"week":var a=["","일","월","화","수","목","금","토"];e=a[t];break;case"month":e=t.replace("/",".");break;default:e=t;break}return e},setGraph:function(t){this.chartData.labels=[],this.timeChartData.labels=[],this.inviteList=[],this.timeList=[];var e,a={},s={},i="",r=0,l=(0,n.Z)(t.memberData);try{for(l.s();!(e=l.n()).done;){var o=e.value;i=this.getIndexDateKey(o),a[i]=o,r+=o.total}}catch(B){l.e(B)}finally{l.f()}this.memberTotal=h.Z.numberFormat(r);var d,c=0,u=(0,n.Z)(t.memberTimes);try{for(u.s();!(d=u.n()).done;){var v=d.value;i=this.getIndexDateKey(v),s[i]=v,c+=v.total}}catch(B){u.e(B)}finally{u.f()}this.memberTime=this.secToText(c);var m,p=[],b=[],y=[],f=[],_=[],g=[],x=[],w=[],k=1,D="",C="",T=(0,n.Z)(this.dayList);try{for(T.s();!(m=T.n()).done;){var S=m.value;if("week"==this.dateType?(D=k,this.chartData.labels.push(S),this.timeChartData.labels.push(S)):"day"==this.dateType?(D=S.keyDate,this.chartData.labels.push(S.keyDate),this.timeChartData.labels.push(S.keyDate)):(D=S,this.chartData.labels.push(S),this.timeChartData.labels.push(S)),a[D]?(p.push(a[D].total),a[D].indi?b.push(a[D].indi):b.push(0),a[D].busi?y.push(a[D].busi):y.push(0),a[D].nouser?f.push(a[D].nouser):f.push(0),a[D].totalString=h.Z.numberFormat(a[D].total)+'<span style="color:#3949AB;font-size:14px;">['+h.Z.numberFormat(a[D].indi+a[D].busi)+"]</span>",C="day"==this.dateType?S.viewDate:this.setDateText(D),a[D].date=C,this.inviteList.push(a[D])):(p.push(0),b.push(0),y.push(0),f.push(0),C="day"==this.dateType?S.viewDate:this.setDateText(D),this.inviteList.push({totalString:0,date:C,total:0,indi:0,busi:0,nouser:0})),s[D]){var L=s[D].total;_.push(L);var F=s[D].indi?s[D].indi:0;g.push(F);var I=s[D].busi?s[D].busi:0;x.push(I);var M=s[D].nouser?s[D].nouser:0;w.push(M),C="day"==this.dateType?S.viewDate:this.setDateText(D),this.timeList.push({date:C,total:this.secToText(L),indi:this.secToText(F),busi:this.secToText(I),nouser:this.secToText(M)})}else _.push(0),g.push(0),x.push(0),w.push(0),C="day"==this.dateType?S.viewDate:this.setDateText(D),this.timeList.push({date:C,total:"0s",indi:"0s",busi:"0s",nouser:"0s"});k++}}catch(B){T.e(B)}finally{T.f()}this.chartData.datasets=[{label:"전체",backgroundColor:"#DD1B16",data:p},{label:"기업회원",backgroundColor:"#00D8FF",data:y},{label:"개인회원",backgroundColor:"#FFB300",data:b},{label:"미로그인",backgroundColor:"#41B883",data:f}],this.timeChartData.datasets=[{label:"전체",backgroundColor:"#DD1B16",data:_},{label:"기업회원",backgroundColor:"#00D8FF",data:x},{label:"개인회원",backgroundColor:"#FFB300",data:g},{label:"미로그인",backgroundColor:"#41B883",data:w}],this.chartShow=!0},secToText:function(t){if(t=parseInt(t),t<1)return"0s";var e=parseInt(t/86400),a=parseInt(t%86400/3600),s=parseInt(t%86400%3600/60),i=parseInt(t%60),n="";return e&&(n=e+"d "),a?n+=a+"h ":e&&(n+="0h "),s?n+=s+"m ":(e||a)&&(n+="0m "),n+=i?i+"s":"0s",n},getIndexDateKey:function(t){var e;switch(this.dateType){case"day":return e=t.date.split("-"),e[1]+"/"+e[2];case"month":return this.monthAllView?t.date:(e=t.viewDate.split("-"),e[0]+"/"+e[1]);case"week":case"year":return t.date}},excelDown:function(){this.excelDownActive()},excelDownActive:function(){var t=window.XLSX.utils.book_new(),e="사용자 접속현황";switch(this.dateType){case"day":e+="[일간_";break;case"week":e+="[주간_";break;case"month":e+="[월간_";break;case"year":e+="[연간_";break}e=e+this.stdate+"_"+this.endate+"].xlsx";var a="사용자 방문현황",s="excelTable",i=window.XLSX.utils.table_to_sheet(document.getElementById(s));window.XLSX.utils.book_append_sheet(t,i,a),a="방문자 사용시간",s="excelTimeTable",i=window.XLSX.utils.table_to_sheet(document.getElementById(s)),window.XLSX.utils.book_append_sheet(t,i,a);var n=window.XLSX.write(t,{bookType:"xlsx",type:"binary"});window.saveAs(new Blob([this.s2ab(n)],{type:"application/octet-stream"}),e)},s2ab:function(t){for(var e=new ArrayBuffer(t.length),a=new Uint8Array(e),s=0;s<t.length;s++)a[s]=255&t.charCodeAt(s);return e}}},u=c,v=a(1001),m=a(43453),p=a.n(m),b=a(63150),y=a(57100),f=a(41152),_=a(90624),g=a(74161),x=a(55978),w=(0,v.Z)(u,s,i,!1,null,"64d651e4",null),k=w.exports;p()(w,{VBtn:b.Z,VDatePicker:y.Z,VMenu:f.Z,VProgressCircular:_.Z,VSelect:g.Z,VTextField:x.Z})}}]);
//# sourceMappingURL=8957-legacy.9ce834ac.js.map