"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[6849],{27293:function(t,e,a){a.r(e),a.d(e,{default:function(){return D}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"product-container"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"date-box"},[a("v-btn",{class:"white-button "+t.dateClass.day,attrs:{depressed:""},on:{click:function(e){return t.setDateType("day")}}},[t._v(" 일간 ")]),a("v-btn",{class:"white-button "+t.dateClass.week,attrs:{depressed:""},on:{click:function(e){return t.setDateType("week")}}},[t._v("주간 ")]),a("v-btn",{class:"white-button "+t.dateClass.month,attrs:{depressed:""},on:{click:function(e){return t.setDateType("month")}}},[t._v("월간 ")]),a("v-btn",{class:"white-button "+t.dateClass.year,attrs:{depressed:""},on:{click:function(e){return t.setDateType("year")}}},[t._v("연간 ")])],1),"active"==t.dateClass.day||"active"==t.dateClass.week?a("div",{staticClass:"month-box"},[a("div",{staticClass:"day-item"},[a("v-menu",{ref:"dateMenu1",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:""},model:{value:t.stdate,callback:function(e){t.stdate=e},expression:"stdate"}},"v-text-field",i,!1),s))]}}],null,!1,23676521),model:{value:t.dateMenu1,callback:function(e){t.dateMenu1=e},expression:"dateMenu1"}},[a("v-date-picker",{on:{input:function(e){t.dateMenu1=!1}},model:{value:t.stdate,callback:function(e){t.stdate=e},expression:"stdate"}})],1)],1),a("div",{staticClass:"term"},[t._v(" ~")]),a("div",{staticClass:"day-item"},[a("v-menu",{ref:"dateMenu2",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:""},model:{value:t.endate,callback:function(e){t.endate=e},expression:"endate"}},"v-text-field",i,!1),s))]}}],null,!1,1752929061),model:{value:t.dateMenu2,callback:function(e){t.dateMenu2=e},expression:"dateMenu2"}},[a("v-date-picker",{on:{input:function(e){t.dateMenu2=!1}},model:{value:t.endate,callback:function(e){t.endate=e},expression:"endate"}})],1)],1)]):"active"==t.dateClass.month?a("div",{staticClass:"month-box"},[a("div",{staticClass:"day-item"},[a("v-menu",{ref:"menu1",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:"",suffix:"월"},model:{value:t.stmonth,callback:function(e){t.stmonth=e},expression:"stmonth"}},"v-text-field",i,!1),s))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{type:"month"},on:{input:function(e){t.menu1=!1}},model:{value:t.stmonth,callback:function(e){t.stmonth=e},expression:"stmonth"}})],1)],1),a("div",{staticClass:"term"},[t._v(" ~")]),a("div",{staticClass:"day-item"},[a("v-menu",{ref:"menu2",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"day-item",attrs:{dense:"",readonly:"",suffix:"월"},model:{value:t.enmonth,callback:function(e){t.enmonth=e},expression:"enmonth"}},"v-text-field",i,!1),s))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{type:"month"},on:{input:function(e){t.menu2=!1}},model:{value:t.enmonth,callback:function(e){t.enmonth=e},expression:"enmonth"}})],1)],1)]):a("div",{staticClass:"year-box"},[a("v-select",{staticClass:"year-item",attrs:{dense:"",items:t.yearList},model:{value:t.styear,callback:function(e){t.styear=e},expression:"styear"}}),a("span",[t._v(" ~ ")]),a("v-select",{staticClass:"year-item",attrs:{dense:"",items:t.yearList},model:{value:t.enyear,callback:function(e){t.enyear=e},expression:"enyear"}})],1),a("div",{staticClass:"button-box"},[a("v-btn",{staticClass:"white-button submit-button",attrs:{depressed:""},on:{click:function(e){return t.search()}}},[a("font-awesome-icon",{staticStyle:{"margin-right":"6px"},attrs:{icon:"fa-solid fa-magnifying-glass"}}),t._v(" 검색 ")],1)],1)]),a("div",{staticStyle:{"padding-right":"16px"}},[a("v-btn",{staticClass:"black-button",attrs:{type:"button",depressed:""},on:{click:function(e){return t.excelDateDown()}}},[t._v(" 다운로드현황 엑셀다운로드 ")])],1)]),a("div",{staticClass:"graph-box"},[t.chartShow?a("LineChartGenerator",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,height:t.height}}):a("v-progress-circular",{staticClass:"progress-box",attrs:{size:100,color:"#DD1B16",indeterminate:""}})],1),a("div",{staticClass:"status-box"},[a("div",{staticClass:"left-table"},[a("div",{staticClass:"table-title"},[t._v(" 누적 다운로드 "),a("span",{staticClass:"number blue-text"},[t._v("총 "+t._s(t.util.numberFormat(t.total))+"건")]),a("span",{staticClass:"date"},[t._v(t._s(t.label))])]),a("div",{staticClass:"data-box"},[a("ul",{staticClass:"graph-ul"},t._l(t.totalList,(function(e,s){return a("li",[s%2==0?a("div",{staticClass:"gbox",style:{background:e.color}},[a("div",{staticClass:"gtop"},[t._v(" 0"+t._s(s+1)+" ")]),a("div",{staticClass:"gmiddle"},[a("div",{staticClass:"gname"},[t._v(" "+t._s(e.orgFileName)+" ")]),a("div",{staticClass:"gdown"},[a("font-awesome-icon",{staticStyle:{"font-size":"12px"},attrs:{icon:"fa-solid fa-download"}}),t._v(" "+t._s(t.util.numberFormat(e.total))+" ")],1)]),a("div",{staticClass:"gbottom"},[t._v(" "+t._s(e.per)+" ")])]):a("div",{staticClass:"reverse-gbox",style:{background:e.color}},[a("div",{staticClass:"gbottom"},[t._v(" "+t._s(e.per)+" ")]),a("div",{staticClass:"gmiddle"},[a("div",{staticClass:"gdown"},[a("font-awesome-icon",{staticStyle:{"font-size":"12px"},attrs:{icon:"fa-solid fa-download"}}),t._v(" "+t._s(t.util.numberFormat(e.total))+" ")],1),a("div",{staticClass:"gname"},[t._v(" "+t._s(e.orgFileName)+" ")])]),a("div",{staticClass:"gtop"},[t._v(" 0"+t._s(s+1)+" ")])])])})),0)])]),a("div",{staticClass:"right-table"},[a("div",{staticClass:"data-box"},[a("table",{staticClass:"table",attrs:{cellspacing:"0",cellpadding:"0"}},[t._m(0),a("tbody",t._l(t.totalList,(function(e){return a("tr",[a("td",[a("span",{style:{background:e.color}}),t._v(" "+t._s(e.orgFileName)+" ")]),a("td",[t._v(t._s(e.total))]),a("td",[t._v(t._s(e.per))])])})),0)])]),a("div",{staticStyle:{padding:"30px 0 0 0","text-align":"right"}},[a("v-btn",{staticClass:"black-button",attrs:{type:"button",depressed:""},on:{click:function(e){return t.excelDown()}}},[t._v(" 다운로드순위 엑셀다운로드 ")])],1)])])]),a("div",{staticStyle:{display:"none"}},[a("table",{attrs:{border:"1",id:"excelDateTable"}},[a("thead",[a("tr",[a("th",[t._v("기간")]),t._l(t.excelDateList,(function(e){return a("th",[t._v(" "+t._s(e.label)+" ")])}))],2)]),a("tbody",t._l(this.tableDayList,(function(e,s){return a("tr",[a("td",[t._v(t._s(e))]),t._l(t.excelDateList,(function(e){return a("td",[t._v(t._s(e.data[s]))])}))],2)})),0)]),a("table",{attrs:{border:"1",id:"excelTable"}},[t._m(1),a("tbody",t._l(t.totalList,(function(e){return a("tr",[a("td",[a("span",{style:{background:e.color}}),t._v(" "+t._s(e.orgFileName)+" ")]),a("td",[t._v(t._s(e.total))]),a("td",[t._v(t._s(e.per))])])})),0)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("파일명")]),a("th",{staticStyle:{width:"100px"}},[t._v(" 누적다운로드")]),a("th",{staticStyle:{width:"100px"}},[t._v(" 지분율")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("파일명")]),a("th",{staticStyle:{width:"100px"}},[t._v(" 누적다운로드")]),a("th",{staticStyle:{width:"100px"}},[t._v(" 지분율")])])])}],n=a(62032),r=(a(41539),a(39714),a(74916),a(23123),a(15306),a(18264),a(82472),a(48675),a(92990),a(18927),a(33105),a(35035),a(74345),a(7174),a(32846),a(44731),a(77209),a(96319),a(58867),a(37789),a(33739),a(29368),a(14483),a(12056),a(3462),a(30678),a(27462),a(33824),a(55021),a(12974),a(15016),a(17889)),o=a(62728),l=a(18369),c=a(29317),d=a(1122);o.kL.register(o.Dx,o.u,o.De,o.jn,o.f$,o.uw,o.od);var h={components:{LineChartGenerator:r.x1},watch:{cmd:function(t){this.setInit()}},data:function(){return{util:d.Z,chartData:{labels:[],datasets:[]},chartOptions:{responsive:!0,maintainAspectRatio:!1},chartShow:!1,height:400,dateClass:{year:"",month:"",week:"",day:"active"},dateType:"day",dateMenu1:!1,dateMenu2:!1,stdate:"",endate:"",stmonth:"",enmonth:"",menu1:!1,menu2:!1,yearList:[],styear:"",enyear:"",dayList:[],total:0,label:"",totalList:[],colorList:["#C62828","#4A148C","#3949AB","#1E88E5","#00ACC1","#00897B","#43A047","#827717","#FFB300","#F4511E"],monthAllView:!1,excelDateList:[],excelList:[],tableDayList:[]}},created:function(){this.setInit()},methods:{setInit:function(){for(var t=new Date,e=t.getFullYear(),a=t.getDate()<10?"0"+t.getDate():t.getDate(),s=e;s>=2010;s--)this.yearList.push({text:s+"년",value:s});this.styear=e-5,this.enyear=t.getFullYear();var i=parseInt(t.getMonth())+1;i<10&&(i="0"+i);var n=new Date(e,parseInt(t.getMonth()-1),t.getDate()),r=new Date(e,t.getMonth(),0),o=r.getDate(),l=parseInt(n.getMonth())+1;l<10&&(l="0"+l);var c=t.getDate()>o?o:a;this.stmonth=n.getFullYear()+"-"+l,this.enmonth=e+"-"+i,this.stdate=e+"-"+l+"-"+c,this.endate=e+"-"+i+"-"+a,this.getData()},getData:function(){var t=this,e=this.setDataParams();switch(this.dateType){case"day":case"week":this.label="["+this.stdate+" ~ "+this.endate+"]";break;case"month":this.label="["+this.stmonth+" ~ "+this.enmonth+"]";break;case"year":this.label="["+this.styear+" ~ "+this.enyear+"]";break}l.Z.post(c.LB,e,(function(e){t.setGraph(e)}))},setDataParams:function(){this.chartShow=!1,this.setDateList();var t={dateType:this.dateType,styear:this.styear.toString(),enyear:this.enyear.toString(),stmonth:this.stmonth.toString(),enmonth:this.enmonth.toString(),stdate:this.stdate.toString(),endate:this.endate.toString()};return t},setDateList:function(){var t,e,a=0,s=0,i="";switch(this.tableDayList=[],this.dateType){case"day":case"week":var n=this.stdate.split("-"),r=new Date(n[0],n[1]-1,n[2]),o=this.endate.split("-"),l=new Date(o[0],o[1]-1,o[2]);if(i=l.getTime()-r.getTime(),i<0){var c={message:"시작일은 종료일보다 같거나 작아야 합니다"};return void this.$eventBus.$emit("modalOpen",c)}if("day"==this.dateType){var d=Math.abs(i/864e5);if(d>31){var h={message:"일별 통계는 기간 차이가 31일 이내여야 합니다 "};return void this.$eventBus.$emit("modalOpen",h)}this.dayList=[];var u=r.getMonth()+1,v=l.getMonth()+1,p=new Date(n[0],n[1],0);t=p.getDate();var f=r.getDate(),m=l.getDate();if(u!=v){for(var y=f;y<=t;y++){var b=y<10?"0"+y:y,_=u<10?"0"+u:u;this.dayList.push(_+"/"+b),this.tableDayList.push(n[0]+"-"+_+"-"+b)}f=1}for(var g=f;g<=m;g++){var x=g<10?"0"+g:g,w=v<10?"0"+v:v;this.dayList.push(w+"/"+x),this.tableDayList.push(o[0]+"-"+w+"-"+x)}}else{this.dayList=[];for(var D=["일","월","화","수","목","금","토"],C=0;C<=6;C++)this.dayList.push(D[C]),this.tableDayList.push(D[C])}break;case"month":if(a=parseInt(this.stmonth.replace("-","")),s=parseInt(this.enmonth.replace("-","")),i=s-a,i<0){var k={message:"시작일은 종료일보다 같거나 작아야 합니다"};return void this.$eventBus.$emit("modalOpen",k)}var L=this.stmonth.split("-"),S=this.enmonth.split("-"),T=parseInt(L[0]),M=parseInt(S[0]),I=parseInt(L[1]),A=parseInt(S[1]);if(this.dayList=[],i>=99){this.monthAllView=!0;for(var F=1;F<=12;F++){var Z=F<10?"0"+F:F;this.dayList.push(Z),this.tableDayList.push(T+"-"+Z)}}else{if(this.monthAllView=!1,T!=M){for(var B=I;B<=12;B++){var $=B<10?"0"+B:B,V=T<10?"0"+T:T;this.dayList.push(V+"/"+$),this.tableDayList.push(V+"-"+$)}I=1}for(var N=I;N<=A;N++){var X=N<10?"0"+N:N,E=T<10?"0"+T:T;this.dayList.push(E+"/"+X),this.tableDayList.push(E+"-"+X)}}break;case"year":if(parseInt(this.styear)>parseInt(this.enyear)){var O={message:"시작일은 종료일보다 같거나 작아야 합니다"};return void this.$eventBus.$emit("modalOpen",O)}t=this.enyear,e=this.styear,this.dayList=[];for(var G=e;G<=t;G++){var P=G<10?"0"+G:G;this.dayList.push(P),this.tableDayList.push(P)}break}},setDateType:function(t){for(var e in this.dateType=t,this.dateClass)this.dateClass[e]=e==t?"active":""},search:function(){this.getData()},setGraph:function(t){var e,a=0,s=(0,n.Z)(t.downTotalData);try{for(s.s();!(e=s.n()).done;){var i=e.value;a+=i.total}}catch(I){s.e(I)}finally{s.f()}this.total=a;var r=0;this.totalList=[];var o={},l={};for(var c in t.downData)l[c]=t.downData[c][0]["org_file_name"];var d,h=(0,n.Z)(t.downTotalData);try{for(h.s();!(d=h.n()).done;){var u=d.value;u.orgFileName=l[u["file_name"]];var v=u.total/a*100;u.per=parseInt(v)+"%",u.color=this.colorList[r],this.totalList.push(u),o[u["file_name"]]={fileName:u.orgFileName,list:{}},r++}}catch(I){h.e(I)}finally{h.f()}for(var p in this.chartData.labels=[],t.downData)if(o[p]){var f,m=(0,n.Z)(t.downData[p]);try{for(m.s();!(f=m.n()).done;){var y=f.value,b=this.getIndexDateKey(y);o[p]["list"][b]||(o[p]["list"][b]=[]),o[p]["list"][b].push(y)}}catch(I){m.e(I)}finally{m.f()}}var _={},g="";r=1;var x,w=(0,n.Z)(this.dayList);try{for(w.s();!(x=w.n()).done;){var D=x.value;for(var C in this.chartData.labels.push(D),g="week"==this.dateType?r:D,o)if(_[C]||(_[C]=[]),o[C]["list"][g]){var k,L=(0,n.Z)(o[C]["list"][g]);try{for(L.s();!(k=L.n()).done;){var S=k.value;_[C].push(S.total)}}catch(I){L.e(I)}finally{L.f()}}else _[C].push(0);r++}}catch(I){w.e(I)}finally{w.f()}this.chartData.datasets=[],this.excelDateList=[];var T={};for(var M in r=0,o)T={label:o[M].fileName,backgroundColor:this.colorList[r],data:_[M]},this.excelDateList.push(T),this.chartData.datasets.push(T),r++;console.log(this.excelDateList),this.chartShow=!0},getIndexDateKey:function(t){var e;switch(this.dateType){case"day":return e=t.date.split("-"),e[1]+"/"+e[2];case"month":return this.monthAllView?t.date:(e=t.viewDate.split("-"),e[0]+"/"+e[1]);case"week":case"year":return t.date}},excelDateDown:function(){this.excelDownActive("date")},excelDown:function(){this.excelDownActive("list")},excelDownActive:function(t){var e=window.XLSX.utils.book_new(),a="다운로드현황",s="다운로드현황",i="excelDateTable";if("date"!=t)a="다운로드순위[",s="다운로드순위",i="excelTable";else switch(this.dateType){case"day":a+="[일간_";break;case"week":a+="[주간_";break;case"month":a+="[월간_";break;case"year":a+="[연간_";break}a=a+this.stdate+"_"+this.endate+"].xlsx";var n=window.XLSX.utils.table_to_sheet(document.getElementById(i));window.XLSX.utils.book_append_sheet(e,n,s);var r=window.XLSX.write(e,{bookType:"xlsx",type:"binary"});window.saveAs(new Blob([this.s2ab(r)],{type:"application/octet-stream"}),a)},s2ab:function(t){for(var e=new ArrayBuffer(t.length),a=new Uint8Array(e),s=0;s<t.length;s++)a[s]=255&t.charCodeAt(s);return e}}},u=h,v=a(1001),p=a(43453),f=a.n(p),m=a(63150),y=a(57100),b=a(41152),_=a(90624),g=a(74161),x=a(55978),w=(0,v.Z)(u,s,i,!1,null,"36cc4125",null),D=w.exports;f()(w,{VBtn:m.Z,VDatePicker:y.Z,VMenu:b.Z,VProgressCircular:_.Z,VSelect:g.Z,VTextField:x.Z})}}]);
//# sourceMappingURL=6849-legacy.d625c856.js.map