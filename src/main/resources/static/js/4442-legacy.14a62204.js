"use strict";(self["webpackChunklivego"]=self["webpackChunklivego"]||[]).push([[4442],{46777:function(t,e,s){s.r(e),s.d(e,{default:function(){return w}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-container"},[s("div",{staticClass:"article-container"},[s("ul",{staticClass:"article-info"},[s("li",{staticClass:"bname"},[t._v(" "+t._s(t.boardInfo.bname)+" ")]),s("li",{staticClass:"bsubject"},[t.info.category?s("span",{staticClass:"category"},[t._v("["+t._s(t.categoryNames[t.info.category])+"]")]):t._e(),t._v(" "+t._s(t.info.subject)+" "),"yes"==t.info.secret?s("span",[s("font-awesome-icon",{attrs:{icon:"fa-solid fa-lock"}})],1):t._e()]),s("li",{staticClass:"summary"},[s("div",{staticClass:"summary-info"},[s("span",{staticClass:"info-list"},[t._v("작성자 "),s("span",[t._v(t._s(t.userName))])]),s("span",{staticClass:"info-list"},[t._v("작성일자 "),s("span",[t._v(t._s(t.info.created_at))])]),s("span",{staticClass:"info-list"},[t._v("조회수 "),s("span",[t._v(t._s(t.info.hit))])])])])]),t.info.img?s("div",{staticClass:"img"},[s("img",{attrs:{src:t.info.img}})]):t._e(),s("div",{staticClass:"content",domProps:{innerHTML:t._s(t.info.content)}}),t.fileList.length>0?s("div",{staticClass:"down-file"},[s("div",{staticClass:"down-file-title"},[t._v("첨부파일")]),s("ul",t._l(t.fileList,(function(e,i){return s("li",{on:{click:function(s){return t.fileDown(e)}}},[t._v(t._s(e.name))])})),0)]):t._e(),s("div",{staticClass:"button-row"},[s("ul",{staticClass:"keywords"},t._l(t.keywords,(function(e){return s("li",[t._v(" #"+t._s(e)+" ")])})),0),s("div",{staticClass:"button-box"},[t.owner?s("v-btn",{staticClass:"whiteButton",attrs:{type:"button",depressed:""},on:{click:function(e){return t.modifyItem()}}},[s("span",[t._v("수정")])]):t._e(),t.owner?s("v-btn",{staticClass:"red-button",attrs:{depressed:""},on:{click:function(e){return t.deleteItem()}}},[s("span",[t._v("삭제")])]):t._e(),s("v-btn",{staticClass:"blackButton",attrs:{depressed:"",type:"button"},on:{click:function(e){return t.$router.back()}}},[s("span",[t._v("목록")])])],1)]),t.replyShow?s("commentList",{attrs:{ptype:"board",pid:t.id,boardId:t.bid},on:{updateCommentCnt:t.updateCommentCnt}}):t._e()],1),s("articleUpassComponent",{attrs:{bid:t.bid,articleId:t.id,type:t.upassType,mcode:t.mcode,scode:t.scode,modelOpen:t.passDialogShow},on:{upassSuccess:t.delAction,parentOpenFalse:function(e){t.passDialogShow=!1}}})],1)},o=[],n=s(62032),a=s(4367),r=(s(68309),s(74916),s(23123),s(15306),s(41539),s(39714),s(89486)),c=s(25494),l=s(3699),f=s(96965),d=s(48475),m=s(19755),u=s.n(m),p=s(1122),h=s(20629),b={components:{articleUpassComponent:f.Z,commentList:d.Z},data:function(){return{passDialogShow:!1,bid:"",id:"",mcode:"",scode:"",util:p.Z,categoryNames:{},info:{},boardInfo:{},owner:!1,userName:"",memberInfo:{},replyShow:!1,upassType:"modify",commentCnt:0,keywords:[],fileList:[],isLogin:!1}},created:function(){this.id=this.$route.params.id,this.mcode=this.$route.params.mainCode,this.scode=this.$route.params.subCode;var t=l.Z.getSession();t&&null!==t&&void 0!==t&&t.memberInfo&&(this.memberInfo=t.memberInfo,this.isLogin=!0),this.getData()},methods:(0,a.Z)((0,a.Z)({},(0,h.nv)("config",["setMemberNoticeList","setMNoticeActive"])),{},{getData:function(){var t=this,e={id:this.id};!this.isLogin&&sessionStorage.getItem("articleSessPass")&&(e.sessPass=sessionStorage.getItem("articleSessPass")),r.Z.post(c.API_URL_GET_ARTICLE_INFO,e,(function(e){if(t.boardInfo=e.board,"yes"==t.boardInfo.categoryUse){var s,i=(0,n.Z)(JSON.parse(t.boardInfo.categoryList));try{for(i.s();!(s=i.n()).done;){var o=s.value;t.categoryNames[o.code]=o.name}}catch(C){i.e(C)}finally{i.f()}}if(t.info=e.info,t.bid=t.info.bid,"yes"==t.info.replyUse&&(t.replyShow=!0),t.info.keywords){var a,r=t.info.keywords.split(","),c=(0,n.Z)(r);try{for(c.s();!(a=c.n()).done;){var l=a.value;l&&t.keywords.push(l)}}catch(C){c.e(C)}finally{c.f()}}if(t.info.dfileOrgNames){var f,d=t.info.dfileOrgNames.split(","),m=t.info.dfileNames.split(","),u=0,h=(0,n.Z)(d);try{for(h.s();!(f=h.n()).done;){var b=f.value,v=m[u];t.fileList.push({name:b,file:v}),u++}}catch(C){h.e(C)}finally{h.f()}}if(t.userName=t.info.userName,t.commentCnt=t.info.commentCnt?p.Z.numberFormat(t.info.commentCnt):0,t.info.hit=t.info.hit?p.Z.numberFormat(t.info.hit):0,t.info.created_at=t.info.createAt.substring(0,16).replace("T"," "),"ROLE_ADMIN"==t.memberInfo.role||t.info.userId&&t.info.userId==t.memberInfo.uid?t.owner=!0:t.info.userId||"all"!=t.boardInfo.wauth||(t.owner=!0),t.isLogin&&e.memberNoticeList){var I,g=[],_=(0,n.Z)(e.memberNoticeList.content);try{for(_.s();!(I=_.n()).done;){var y=I.value;y.noticeContent="comment"==y.gtype?"님이 내글에 새로운 댓글을 달았습니다":"새 공지사항이 등록되었습니다",g.push(y)}}catch(C){_.e(C)}finally{_.f()}t.setMemberNoticeList(g),t.setMNoticeActive(!0)}}))},modifyItem:function(){"ROLE_ADMIN"==this.memberInfo.role||this.info.userId&&this.info.userId==this.memberInfo.uid?this.$router.push("/board/articleRegist/"+this.mcode+"/"+this.scode+"/"+this.bid+"/"+this.id):this.info.userId||"all"!=this.boardInfo.wauth||(this.upassType="modify",this.passDialogShow=!0)},fileDown:function(t){var e=r.Z.imgHost+"api/controller/board/fileDownload?articleId="+this.id+"&fileName="+encodeURIComponent(t.file)+"&viewFileName="+encodeURIComponent(t.name);location.href=e},deleteItem:function(){var t=this,e=!1;if("ROLE_ADMIN"==this.memberInfo.role||this.info.userId&&this.info.userId==this.memberInfo.uid?e=!0:this.info.userId||"all"!=this.boardInfo.wauth||(this.upassType="delete",this.passDialogShow=!0),e){var s={type:"confirm",message:"게시글을 삭제 하시겠습니까?",doAction:function(){t.deleteAction()}};this.$eventBus.$emit("modalOpen",s)}},delAction:function(t){this.deleteAction()},updateCommentCnt:function(t){this.commentCnt=p.Z.numberFormat(t.total)},deleteAction:function(){var t=this,e={id:this.id};if(!this.info.userId&&"all"==this.boardInfo.wauth){if(!sessionStorage.getItem("articleSessPass"))return;e.sessPass=sessionStorage.getItem("articleSessPass").toString()}r.Z.post(c.API_URL_DELETE_ARTICLE,e,(function(e){var s={message:"게시글이 삭제 되었습니다",doAction:function(){t.$router.push("/board/articleList/"+t.mcode+"/"+t.scode+"/"+t.bid)}};t.$eventBus.$emit("modalOpen",s)}))}}),updated:function(){u()(".content img").css("max-width","100%")}},v=b,I=s(1001),g=s(43453),_=s.n(g),y=s(63150),C=(0,I.Z)(v,i,o,!1,null,"b853bf9c",null),w=C.exports;_()(C,{VBtn:y.Z})}}]);
//# sourceMappingURL=4442-legacy.14a62204.js.map